/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n        enumerable: true,\n        get: function() {\n            return m[k];\n        }\n    });\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = [\n    \"clip\",\n    \"crop\",\n    \"fill\",\n    \"fillmax\",\n    \"max\",\n    \"scale\",\n    \"min\"\n];\nvar validCrops = [\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"center\",\n    \"focalpoint\",\n    \"entropy\"\n];\nvar validAutoModes = [\n    \"format\"\n];\nfunction isSanityModernClientLike(client) {\n    return client && \"config\" in client ? typeof client.config === \"function\" : false;\n}\nfunction isSanityClientLike(client) {\n    return client && \"clientConfig\" in client ? typeof client.clientConfig === \"object\" : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for(var _i = 0, specs_1 = specs; _i < specs_1.length; _i++){\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Did we get a SanityClient?\n    var client = options;\n    if (isSanityClientLike(client)) {\n        // Inherit config from client\n        var _b = client.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options);\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ function() {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent ? __assign(__assign({}, parent.options || {}), options || {}) : __assign({}, options || {}); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function(options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = {\n            baseUrl: baseUrl\n        };\n        for(var key in options){\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({\n            baseUrl: baseUrl\n        }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function(source) {\n        return this.withOptions({\n            source: source\n        });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function(dataset) {\n        return this.withOptions({\n            dataset: dataset\n        });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function(projectId) {\n        return this.withOptions({\n            projectId: projectId\n        });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function(bg) {\n        return this.withOptions({\n            bg: bg\n        });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function(dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? {\n            dpr: dpr\n        } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function(width) {\n        return this.withOptions({\n            width: width\n        });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function(height) {\n        return this.withOptions({\n            height: height\n        });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function(x, y) {\n        return this.withOptions({\n            focalPoint: {\n                x: x,\n                y: y\n            }\n        });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function(maxWidth) {\n        return this.withOptions({\n            maxWidth: maxWidth\n        });\n    };\n    ImageUrlBuilder.prototype.minWidth = function(minWidth) {\n        return this.withOptions({\n            minWidth: minWidth\n        });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function(maxHeight) {\n        return this.withOptions({\n            maxHeight: maxHeight\n        });\n    };\n    ImageUrlBuilder.prototype.minHeight = function(minHeight) {\n        return this.withOptions({\n            minHeight: minHeight\n        });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function(width, height) {\n        return this.withOptions({\n            width: width,\n            height: height\n        });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function(blur) {\n        return this.withOptions({\n            blur: blur\n        });\n    };\n    ImageUrlBuilder.prototype.sharpen = function(sharpen) {\n        return this.withOptions({\n            sharpen: sharpen\n        });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function(left, top, width, height) {\n        return this.withOptions({\n            rect: {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            }\n        });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function(format) {\n        return this.withOptions({\n            format: format\n        });\n    };\n    ImageUrlBuilder.prototype.invert = function(invert) {\n        return this.withOptions({\n            invert: invert\n        });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function(orientation) {\n        return this.withOptions({\n            orientation: orientation\n        });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function(quality) {\n        return this.withOptions({\n            quality: quality\n        });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function(download) {\n        return this.withOptions({\n            download: download\n        });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function() {\n        return this.withOptions({\n            flipHorizontal: true\n        });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function() {\n        return this.withOptions({\n            flipVertical: true\n        });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function() {\n        return this.withOptions({\n            ignoreImageParams: true\n        });\n    };\n    ImageUrlBuilder.prototype.fit = function(value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error('Invalid fit mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            fit: value\n        });\n    };\n    ImageUrlBuilder.prototype.crop = function(value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error('Invalid crop mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            crop: value\n        });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function(saturation) {\n        return this.withOptions({\n            saturation: saturation\n        });\n    };\n    ImageUrlBuilder.prototype.auto = function(value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error('Invalid auto mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            auto: value\n        });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function(pad) {\n        return this.withOptions({\n            pad: pad\n        });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function() {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function() {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}();\nexports.ImageUrlBuilder = ImageUrlBuilder; //# sourceMappingURL=builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsSUFBSyxJQUFJLElBQUksQ0FBQ0EsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0EsSUFBSU8sa0JBQWtCLElBQUssSUFBSSxJQUFJLENBQUNBLGVBQWUsSUFBTWIsQ0FBQUEsT0FBT2MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JqQixPQUFPb0IsY0FBYyxDQUFDTCxHQUFHRyxJQUFJO1FBQUVHLFlBQVk7UUFBTUMsS0FBSztZQUFhLE9BQU9OLENBQUMsQ0FBQ0MsRUFBRTtRQUFFO0lBQUU7QUFDdEYsSUFBTSxTQUFTRixDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJTSxxQkFBcUIsSUFBSyxJQUFJLElBQUksQ0FBQ0Es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QUMsR0FBR3RFLGNBQWM2QixPQUFPLEVBQUUsSUFBSSxDQUFDVCxPQUFPO0lBQ2xEO0lBQ0Esa0JBQWtCO0lBQ2xCckIsZ0JBQWdCdEIsU0FBUyxDQUFDOEYsUUFBUSxHQUFHO1FBQ2pDLE9BQU8sSUFBSSxDQUFDRCxHQUFHO0lBQ25CO0lBQ0EsT0FBT3ZFO0FBQ1g7QUFDQUQsdUJBQXVCLEdBQUdDLGlCQUMxQixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9idWlsZGVyLmpzPzdhOTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkltYWdlVXJsQnVpbGRlciA9IHZvaWQgMDtcbnZhciB1cmxGb3JJbWFnZV8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3VybEZvckltYWdlXCIpKTtcbnZhciB2YWxpZEZpdHMgPSBbJ2NsaXAnLCAnY3JvcCcsICdmaWxsJywgJ2ZpbGxtYXgnLCAnbWF4JywgJ3NjYWxlJywgJ21pbiddO1xudmFyIHZhbGlkQ3JvcHMgPSBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInLCAnZm9jYWxwb2ludCcsICdlbnRyb3B5J107XG52YXIgdmFsaWRBdXRvTW9kZXMgPSBbJ2Zvcm1hdCddO1xuZnVuY3Rpb24gaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQgJiYgJ2NvbmZpZycgaW4gY2xpZW50ID8gdHlwZW9mIGNsaWVudC5jb25maWcgPT09ICdmdW5jdGlvbicgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FuaXR5Q2xpZW50TGlrZShjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50ICYmICdjbGllbnRDb25maWcnIGluIGNsaWVudCA/IHR5cGVvZiBjbGllbnQuY2xpZW50Q29uZmlnID09PSAnb2JqZWN0JyA6IGZhbHNlO1xufVxuZnVuY3Rpb24gcmV3cml0ZVNwZWNOYW1lKGtleSkge1xuICAgIHZhciBzcGVjcyA9IHVybEZvckltYWdlXzEuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTO1xuICAgIGZvciAodmFyIF9pID0gMCwgc3BlY3NfMSA9IHNwZWNzOyBfaSA8IHNwZWNzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHNwZWNzXzFbX2ldO1xuICAgICAgICB2YXIgc3BlY05hbWUgPSBlbnRyeVswXSwgcGFyYW0gPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKGtleSA9PT0gc3BlY05hbWUgfHwga2V5ID09PSBwYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiB1cmxCdWlsZGVyKG9wdGlvbnMpIHtcbiAgICAvLyBEaWQgd2UgZ2V0IGEgbW9kZXJuaXNoIGNsaWVudD9cbiAgICBpZiAoaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKG9wdGlvbnMpKSB7XG4gICAgICAgIC8vIEluaGVyaXQgY29uZmlnIGZyb20gY2xpZW50XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMuY29uZmlnKCksIGFwaVVybCA9IF9hLmFwaUhvc3QsIHByb2plY3RJZCA9IF9hLnByb2plY3RJZCwgZGF0YXNldCA9IF9hLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBEaWQgd2UgZ2V0IGEgU2FuaXR5Q2xpZW50P1xuICAgIHZhciBjbGllbnQgPSBvcHRpb25zO1xuICAgIGlmIChpc1Nhbml0eUNsaWVudExpa2UoY2xpZW50KSkge1xuICAgICAgICAvLyBJbmhlcml0IGNvbmZpZyBmcm9tIGNsaWVudFxuICAgICAgICB2YXIgX2IgPSBjbGllbnQuY2xpZW50Q29uZmlnLCBhcGlVcmwgPSBfYi5hcGlIb3N0LCBwcm9qZWN0SWQgPSBfYi5wcm9qZWN0SWQsIGRhdGFzZXQgPSBfYi5kYXRhc2V0O1xuICAgICAgICB2YXIgYXBpSG9zdCA9IGFwaVVybCB8fCAnaHR0cHM6Ly9hcGkuc2FuaXR5LmlvJztcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIobnVsbCwge1xuICAgICAgICAgICAgYmFzZVVybDogYXBpSG9zdC5yZXBsYWNlKC9eaHR0cHM6XFwvXFwvYXBpXFwuLywgJ2h0dHBzOi8vY2RuLicpLFxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBkYXRhc2V0OiBkYXRhc2V0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gT3IganVzdCBhY2NlcHQgdGhlIG9wdGlvbnMgYXMgZ2l2ZW5cbiAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHVybEJ1aWxkZXI7XG52YXIgSW1hZ2VVcmxCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEltYWdlVXJsQnVpbGRlcihwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gcGFyZW50XG4gICAgICAgICAgICA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCAocGFyZW50Lm9wdGlvbnMgfHwge30pKSwgKG9wdGlvbnMgfHwge30pKSA6IF9fYXNzaWduKHt9LCAob3B0aW9ucyB8fCB7fSkpOyAvLyBDb3B5IG9wdGlvbnNcbiAgICB9XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS53aXRoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsIHx8IHRoaXMub3B0aW9ucy5iYXNlVXJsO1xuICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHsgYmFzZVVybDogYmFzZVVybCB9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBzcGVjS2V5ID0gcmV3cml0ZVNwZWNOYW1lKGtleSk7XG4gICAgICAgICAgICAgICAgbmV3T3B0aW9uc1tzcGVjS2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcih0aGlzLCBfX2Fzc2lnbih7IGJhc2VVcmw6IGJhc2VVcmwgfSwgbmV3T3B0aW9ucykpO1xuICAgIH07XG4gICAgLy8gVGhlIGltYWdlIHRvIGJlIHJlcHJlc2VudGVkLiBBY2NlcHRzIGEgU2FuaXR5ICdpbWFnZSctZG9jdW1lbnQsICdhc3NldCctZG9jdW1lbnQgb3JcbiAgICAvLyBfaWQgb2YgYXNzZXQuIFRvIGdldCB0aGUgYmVuZWZpdCBvZiBhdXRvbWF0aWMgaG90LXNwb3QvY3JvcCBpbnRlZ3JhdGlvbiB3aXRoIHRoZSBjb250ZW50XG4gICAgLy8gc3R1ZGlvLCB0aGUgJ2ltYWdlJy1kb2N1bWVudCBtdXN0IGJlIHByb3ZpZGVkLlxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc291cmNlOiBzb3VyY2UgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBkYXRhc2V0XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5kYXRhc2V0ID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBkYXRhc2V0OiBkYXRhc2V0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgcHJvamVjdElkXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5wcm9qZWN0SWQgPSBmdW5jdGlvbiAocHJvamVjdElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcHJvamVjdElkOiBwcm9qZWN0SWQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGJhY2tncm91bmQgY29sb3JcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmJnID0gZnVuY3Rpb24gKGJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYmc6IGJnIH0pO1xuICAgIH07XG4gICAgLy8gU2V0IERQUiBzY2FsaW5nIGZhY3RvclxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZHByID0gZnVuY3Rpb24gKGRwcikge1xuICAgICAgICAvLyBBIERQUiBvZiAxIGlzIHRoZSBkZWZhdWx0IC0gc28gb25seSBpbmNsdWRlIGl0IGlmIHdlIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWVcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoZHByICYmIGRwciAhPT0gMSA/IHsgZHByOiBkcHIgfSA6IHt9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIHdpZHRoIG9mIHRoZSBpbWFnZSBpbiBwaXhlbHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24gKHdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgd2lkdGg6IHdpZHRoIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgaGVpZ2h0IG9mIHRoZSBpbWFnZSBpbiBwaXhlbHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uIChoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgZm9jYWwgcG9pbnQgaW4gZnJhY3Rpb24gb2YgaW1hZ2UgZGltZW5zaW9ucy4gRWFjaCBjb21wb25lbnQgMC4wLTEuMFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9jYWxQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZm9jYWxQb2ludDogeyB4OiB4LCB5OiB5IH0gfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1heFdpZHRoID0gZnVuY3Rpb24gKG1heFdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWF4V2lkdGg6IG1heFdpZHRoIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5taW5XaWR0aCA9IGZ1bmN0aW9uIChtaW5XaWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1pbldpZHRoOiBtaW5XaWR0aCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWF4SGVpZ2h0ID0gZnVuY3Rpb24gKG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1heEhlaWdodDogbWF4SGVpZ2h0IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5taW5IZWlnaHQgPSBmdW5jdGlvbiAobWluSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWluSGVpZ2h0OiBtaW5IZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHdpZHRoIGFuZCBoZWlnaHQgaW4gcGl4ZWxzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBibHVyIGJldHdlZW4gMCBhbmQgMTAwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24gKGJsdXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBibHVyOiBibHVyIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5zaGFycGVuID0gZnVuY3Rpb24gKHNoYXJwZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzaGFycGVuOiBzaGFycGVuIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgZGVzaXJlZCByZWN0YW5nbGUgb2YgdGhlIGltYWdlXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5yZWN0ID0gZnVuY3Rpb24gKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHJlY3Q6IHsgbGVmdDogbGVmdCwgdG9wOiB0b3AsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGltYWdlIGZvcm1hdCBvZiB0aGUgaW1hZ2UuICdqcGcnLCAncGpwZycsICdwbmcnLCAnd2VicCdcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmb3JtYXQ6IGZvcm1hdCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gKGludmVydCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGludmVydDogaW52ZXJ0IH0pO1xuICAgIH07XG4gICAgLy8gUm90YXRpb24gaW4gZGVncmVlcyAwLCA5MCwgMTgwLCAyNzBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm9yaWVudGF0aW9uID0gZnVuY3Rpb24gKG9yaWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgb3JpZW50YXRpb246IG9yaWVudGF0aW9uIH0pO1xuICAgIH07XG4gICAgLy8gQ29tcHJlc3Npb24gcXVhbGl0eSAwLTEwMFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucXVhbGl0eSA9IGZ1bmN0aW9uIChxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcXVhbGl0eTogcXVhbGl0eSB9KTtcbiAgICB9O1xuICAgIC8vIE1ha2UgaXQgYSBkb3dubG9hZCBsaW5rLiBQYXJhbWV0ZXIgaXMgZGVmYXVsdCBmaWxlbmFtZS5cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZvcmNlRG93bmxvYWQgPSBmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBkb3dubG9hZDogZG93bmxvYWQgfSk7XG4gICAgfTtcbiAgICAvLyBGbGlwIGltYWdlIGhvcml6b250YWxseVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZmxpcEhvcml6b250YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZmxpcEhvcml6b250YWw6IHRydWUgfSk7XG4gICAgfTtcbiAgICAvLyBGbGlwIGltYWdlIHZlcnRpY2FsbHlcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZsaXBWZXJ0aWNhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmbGlwVmVydGljYWw6IHRydWUgfSk7XG4gICAgfTtcbiAgICAvLyBJZ25vcmUgY3JvcC9ob3RzcG90IGZyb20gaW1hZ2UgcmVjb3JkLCBldmVuIHdoZW4gcHJlc2VudFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaWdub3JlSW1hZ2VQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaWdub3JlSW1hZ2VQYXJhbXM6IHRydWUgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsaWRGaXRzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmaXQgbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZml0OiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsaWRDcm9wcy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY3JvcCBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBjcm9wOiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIC8vIFNhdHVyYXRpb25cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNhdHVyYXRpb24gPSBmdW5jdGlvbiAoc2F0dXJhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNhdHVyYXRpb246IHNhdHVyYXRpb24gfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmF1dG8gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbGlkQXV0b01vZGVzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhdXRvIG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGF1dG86IHZhbHVlIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgbnVtYmVyIG9mIHBpeGVscyB0byBwYWQgdGhlIGltYWdlXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiAocGFkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcGFkOiBwYWQgfSk7XG4gICAgfTtcbiAgICAvLyBHZXRzIHRoZSB1cmwgYmFzZWQgb24gdGhlIHN1Ym1pdHRlZCBwYXJhbWV0ZXJzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXJsRm9ySW1hZ2VfMS5kZWZhdWx0KSh0aGlzLm9wdGlvbnMpO1xuICAgIH07XG4gICAgLy8gQWxpYXMgZm9yIHVybCgpXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsKCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VVcmxCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuSW1hZ2VVcmxCdWlsZGVyID0gSW1hZ2VVcmxCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19jcmVhdGVCaW5kaW5nIiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2VzTW9kdWxlIiwicmVzdWx0IiwiZXhwb3J0cyIsIkltYWdlVXJsQnVpbGRlciIsInVybEZvckltYWdlXzEiLCJyZXF1aXJlIiwidmFsaWRGaXRzIiwidmFsaWRDcm9wcyIsInZhbGlkQXV0b01vZGVzIiwiaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlIiwiY2xpZW50IiwiY29uZmlnIiwiaXNTYW5pdHlDbGllbnRMaWtlIiwiY2xpZW50Q29uZmlnIiwicmV3cml0ZVNwZWNOYW1lIiwia2V5Iiwic3BlY3MiLCJTUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MiLCJfaSIsInNwZWNzXzEiLCJlbnRyeSIsInNwZWNOYW1lIiwicGFyYW0iLCJ1cmxCdWlsZGVyIiwib3B0aW9ucyIsIl9hIiwiYXBpVXJsIiwiYXBpSG9zdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJiYXNlVXJsIiwicmVwbGFjZSIsIl9iIiwiZGVmYXVsdCIsInBhcmVudCIsIndpdGhPcHRpb25zIiwibmV3T3B0aW9ucyIsInNwZWNLZXkiLCJpbWFnZSIsInNvdXJjZSIsImJnIiwiZHByIiwid2lkdGgiLCJoZWlnaHQiLCJmb2NhbFBvaW50IiwieCIsInkiLCJtYXhXaWR0aCIsIm1pbldpZHRoIiwibWF4SGVpZ2h0IiwibWluSGVpZ2h0Iiwic2l6ZSIsImJsdXIiLCJzaGFycGVuIiwicmVjdCIsImxlZnQiLCJ0b3AiLCJmb3JtYXQiLCJpbnZlcnQiLCJvcmllbnRhdGlvbiIsInF1YWxpdHkiLCJmb3JjZURvd25sb2FkIiwiZG93bmxvYWQiLCJmbGlwSG9yaXpvbnRhbCIsImZsaXBWZXJ0aWNhbCIsImlnbm9yZUltYWdlUGFyYW1zIiwiZml0IiwiaW5kZXhPZiIsIkVycm9yIiwiY29uY2F0IiwiY3JvcCIsInNhdHVyYXRpb24iLCJhdXRvIiwicGFkIiwidXJsIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFLLFNBQVVDLEdBQUc7SUFDakUsT0FBTyxPQUFRQSxJQUFJQyxVQUFVLEdBQUlELE1BQU07UUFBRSxXQUFXQTtJQUFJO0FBQzVEO0FBQ0EsSUFBSUUsWUFBWUgsZ0JBQWdCSSxtQkFBT0EsQ0FBQyw2RUFBVztBQUNuREMsT0FBT0MsT0FBTyxHQUFHSCxVQUFVSSxPQUFPLEVBQ2xDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1jb21tZXJjZS15dC1ieS1taWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL2luZGV4LmpzP2EyMjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG52YXIgYnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2J1aWxkZXJcIikpO1xubW9kdWxlLmV4cG9ydHMgPSBidWlsZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiYnVpbGRlcl8xIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar example = \"image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg\";\nfunction parseAssetId(ref) {\n    var _a = ref.split(\"-\"), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    var _b = dimensionString.split(\"x\"), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    return {\n        id: id,\n        width: width,\n        height: height,\n        format: format\n    };\n}\nexports[\"default\"] = parseAssetId; //# sourceMappingURL=parseAssetId.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFVBQVU7QUFDZCxTQUFTQyxhQUFhQyxHQUFHO0lBQ3JCLElBQUlDLEtBQUtELElBQUlFLEtBQUssQ0FBQyxNQUFNQyxLQUFLRixFQUFFLENBQUMsRUFBRSxFQUFFRyxrQkFBa0JILEVBQUUsQ0FBQyxFQUFFLEVBQUVJLFNBQVNKLEVBQUUsQ0FBQyxFQUFFO0lBQzVFLElBQUksQ0FBQ0UsTUFBTSxDQUFDQyxtQkFBbUIsQ0FBQ0MsUUFBUTtRQUNwQyxNQUFNLElBQUlDLE1BQU0seUJBQXlCQyxNQUFNLENBQUNQLEtBQUssNkJBQTZCTyxNQUFNLENBQUNULFNBQVM7SUFDdEc7SUFDQSxJQUFJVSxLQUFLSixnQkFBZ0JGLEtBQUssQ0FBQyxNQUFNTyxjQUFjRCxFQUFFLENBQUMsRUFBRSxFQUFFRSxlQUFlRixFQUFFLENBQUMsRUFBRTtJQUM5RSxJQUFJRyxRQUFRLENBQUNGO0lBQ2IsSUFBSUcsU0FBUyxDQUFDRjtJQUNkLElBQUlHLGlCQUFpQkMsU0FBU0gsVUFBVUcsU0FBU0Y7SUFDakQsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDakIsTUFBTSxJQUFJUCxNQUFNLHlCQUF5QkMsTUFBTSxDQUFDUCxLQUFLLDZCQUE2Qk8sTUFBTSxDQUFDVCxTQUFTO0lBQ3RHO0lBQ0EsT0FBTztRQUFFSyxJQUFJQTtRQUFJUSxPQUFPQTtRQUFPQyxRQUFRQTtRQUFRUCxRQUFRQTtJQUFPO0FBQ2xFO0FBQ0FULGtCQUFlLEdBQUdHLGNBQ2xCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1jb21tZXJjZS15dC1ieS1taWtlLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3BhcnNlQXNzZXRJZC5qcz80ODVmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV4YW1wbGUgPSAnaW1hZ2UtVGI5RXc4Q1hJd2FZNlIxa2pNdkkwdVJSLTIwMDB4MzAwMC1qcGcnO1xuZnVuY3Rpb24gcGFyc2VBc3NldElkKHJlZikge1xuICAgIHZhciBfYSA9IHJlZi5zcGxpdCgnLScpLCBpZCA9IF9hWzFdLCBkaW1lbnNpb25TdHJpbmcgPSBfYVsyXSwgZm9ybWF0ID0gX2FbM107XG4gICAgaWYgKCFpZCB8fCAhZGltZW5zaW9uU3RyaW5nIHx8ICFmb3JtYXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgdmFyIF9iID0gZGltZW5zaW9uU3RyaW5nLnNwbGl0KCd4JyksIGltZ1dpZHRoU3RyID0gX2JbMF0sIGltZ0hlaWdodFN0ciA9IF9iWzFdO1xuICAgIHZhciB3aWR0aCA9ICtpbWdXaWR0aFN0cjtcbiAgICB2YXIgaGVpZ2h0ID0gK2ltZ0hlaWdodFN0cjtcbiAgICB2YXIgaXNWYWxpZEFzc2V0SWQgPSBpc0Zpbml0ZSh3aWR0aCkgJiYgaXNGaW5pdGUoaGVpZ2h0KTtcbiAgICBpZiAoIWlzVmFsaWRBc3NldElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBhc3NldCBfcmVmICdcIi5jb25jYXQocmVmLCBcIicuIEV4cGVjdGVkIGFuIGlkIGxpa2UgXFxcIlwiKS5jb25jYXQoZXhhbXBsZSwgXCJcXFwiLlwiKSk7XG4gICAgfVxuICAgIHJldHVybiB7IGlkOiBpZCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgZm9ybWF0OiBmb3JtYXQgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlQXNzZXRJZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlQXNzZXRJZC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleGFtcGxlIiwicGFyc2VBc3NldElkIiwicmVmIiwiX2EiLCJzcGxpdCIsImlkIiwiZGltZW5zaW9uU3RyaW5nIiwiZm9ybWF0IiwiRXJyb3IiLCJjb25jYXQiLCJfYiIsImltZ1dpZHRoU3RyIiwiaW1nSGVpZ2h0U3RyIiwid2lkdGgiLCJoZWlnaHQiLCJpc1ZhbGlkQXNzZXRJZCIsImlzRmluaXRlIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar isRef = function(src) {\n    var source = src;\n    return source ? typeof source._ref === \"string\" : false;\n};\nvar isAsset = function(src) {\n    var source = src;\n    return source ? typeof source._id === \"string\" : false;\n};\nvar isAssetStub = function(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === \"string\" : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === \"string\" && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: {\n                _ref: urlToId(source)\n            }\n        };\n    } else if (typeof source === \"string\") {\n        // Just an asset id\n        image = {\n            asset: {\n                _ref: source\n            }\n        };\n    } else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source\n        };\n    } else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || \"\"\n            }\n        };\n    } else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url)\n            }\n        };\n    } else if (typeof source.asset === \"object\") {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    } else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split(\"/\").slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, \"-$1\");\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0\n        };\n    }\n    return result;\n} //# sourceMappingURL=parseSource.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBTiw4Q0FBNkM7SUFBRWUsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxRQUFRLFNBQVVDLEdBQUc7SUFDckIsSUFBSUMsU0FBU0Q7SUFDYixPQUFPQyxTQUFTLE9BQU9BLE9BQU9DLElBQUksS0FBSyxXQUFXO0FBQ3REO0FBQ0EsSUFBSUMsVUFBVSxTQUFVSCxHQUFHO0lBQ3ZCLElBQUlDLFNBQVNEO0lBQ2IsT0FBT0MsU0FBUyxPQUFPQSxPQUFPRyxHQUFHLEtBQUssV0FBVztBQUNyRDtBQUNBLElBQUlDLGNBQWMsU0FBVUwsR0FBRztJQUMzQixJQUFJQyxTQUFTRDtJQUNiLE9BQU9DLFVBQVVBLE9BQU9LLEtBQUssR0FBRyxPQUFPTCxPQUFPSyxLQUFLLENBQUNDLEdBQUcsS0FBSyxXQUFXO0FBQzNFO0FBQ0EsaUZBQWlGO0FBQ2pGLHNDQUFzQztBQUN0QyxTQUFTQyxZQUFZUCxNQUFNO0lBQ3ZCLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLElBQUlRO0lBQ0osSUFBSSxPQUFPUixXQUFXLFlBQVlTLE1BQU1ULFNBQVM7UUFDN0Msd0NBQXdDO1FBQ3hDUSxRQUFRO1lBQ0pILE9BQU87Z0JBQUVKLE1BQU1TLFFBQVFWO1lBQVE7UUFDbkM7SUFDSixPQUNLLElBQUksT0FBT0EsV0FBVyxVQUFVO1FBQ2pDLG1CQUFtQjtRQUNuQlEsUUFBUTtZQUNKSCxPQUFPO2dCQUFFSixNQUFNRDtZQUFPO1FBQzFCO0lBQ0osT0FDSyxJQUFJRixNQUFNRSxTQUFTO1FBQ3BCLHVDQUF1QztRQUN2Q1EsUUFBUTtZQUNKSCxPQUFPTDtRQUNYO0lBQ0osT0FDSyxJQUFJRSxRQUFRRixTQUFTO1FBQ3RCLDRDQUE0QztRQUM1Q1EsUUFBUTtZQUNKSCxPQUFPO2dCQUNISixNQUFNRCxPQUFPRyxHQUFHLElBQUk7WUFDeEI7UUFDSjtJQUNKLE9BQ0ssSUFBSUMsWUFBWUosU0FBUztRQUMxQiwwREFBMEQ7UUFDMURRLFFBQVE7WUFDSkgsT0FBTztnQkFDSEosTUFBTVMsUUFBUVYsT0FBT0ssS0FBSyxDQUFDQyxHQUFHO1lBQ2xDO1FBQ0o7SUFDSixPQUNLLElBQUksT0FBT04sT0FBT0ssS0FBSyxLQUFLLFVBQVU7UUFDdkMsbURBQW1EO1FBQ25ERyxRQUFRM0IsU0FBUyxDQUFDLEdBQUdtQjtJQUN6QixPQUNLO1FBQ0QsdUVBQXVFO1FBQ3ZFLDBDQUEwQztRQUMxQyxPQUFPO0lBQ1g7SUFDQSxJQUFJVyxNQUFNWDtJQUNWLElBQUlXLElBQUlDLElBQUksRUFBRTtRQUNWSixNQUFNSSxJQUFJLEdBQUdELElBQUlDLElBQUk7SUFDekI7SUFDQSxJQUFJRCxJQUFJRSxPQUFPLEVBQUU7UUFDYkwsTUFBTUssT0FBTyxHQUFHRixJQUFJRSxPQUFPO0lBQy9CO0lBQ0EsT0FBT0MsY0FBY047QUFDekI7QUFDQVosa0JBQWUsR0FBR1c7QUFDbEIsU0FBU0UsTUFBTUgsR0FBRztJQUNkLE9BQU8sZUFBZVUsSUFBSSxDQUFDLEdBQUdDLE1BQU0sQ0FBQ1g7QUFDekM7QUFDQSxTQUFTSSxRQUFRSixHQUFHO0lBQ2hCLElBQUlZLFFBQVFaLElBQUlhLEtBQUssQ0FBQyxLQUFLQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxPQUFPLFNBQVNILE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsRUFBRUcsT0FBTyxDQUFDLGVBQWU7QUFDNUQ7QUFDQSwwQ0FBMEM7QUFDMUMsU0FBU1AsY0FBY04sS0FBSztJQUN4QixJQUFJQSxNQUFNSSxJQUFJLElBQUlKLE1BQU1LLE9BQU8sRUFBRTtRQUM3QixPQUFPTDtJQUNYO0lBQ0EsdURBQXVEO0lBQ3ZELElBQUljLFNBQVN6QyxTQUFTLENBQUMsR0FBRzJCO0lBQzFCLElBQUksQ0FBQ2MsT0FBT1YsSUFBSSxFQUFFO1FBQ2RVLE9BQU9WLElBQUksR0FBRztZQUNWVyxNQUFNO1lBQ05DLEtBQUs7WUFDTEMsUUFBUTtZQUNSQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLElBQUksQ0FBQ0osT0FBT1QsT0FBTyxFQUFFO1FBQ2pCUyxPQUFPVCxPQUFPLEdBQUc7WUFDYmMsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLFFBQVE7WUFDUkMsT0FBTztRQUNYO0lBQ0o7SUFDQSxPQUFPUjtBQUNYLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWNvbW1lcmNlLXl0LWJ5LW1pa2UvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanM/MmRjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaXNSZWYgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlID8gdHlwZW9mIHNvdXJjZS5fcmVmID09PSAnc3RyaW5nJyA6IGZhbHNlO1xufTtcbnZhciBpc0Fzc2V0ID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSA/IHR5cGVvZiBzb3VyY2UuX2lkID09PSAnc3RyaW5nJyA6IGZhbHNlO1xufTtcbnZhciBpc0Fzc2V0U3R1YiA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLmFzc2V0ID8gdHlwZW9mIHNvdXJjZS5hc3NldC51cmwgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xuLy8gQ29udmVydCBhbiBhc3NldC1pZCwgYXNzZXQgb3IgaW1hZ2UgdG8gYW4gaW1hZ2UgcmVjb3JkIHN1aXRhYmxlIGZvciBwcm9jZXNzaW5nXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGFyc2VTb3VyY2Uoc291cmNlKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBpbWFnZTtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgaXNVcmwoc291cmNlKSkge1xuICAgICAgICAvLyBTb21lb25lIHBhc3NlZCBhbiBleGlzdGluZyBpbWFnZSB1cmw/XG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHsgX3JlZjogdXJsVG9JZChzb3VyY2UpIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEp1c3QgYW4gYXNzZXQgaWRcbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDogeyBfcmVmOiBzb3VyY2UgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgICAgICAvLyBXZSBqdXN0IGdvdCBwYXNzZWQgYW4gYXNzZXQgZGlyZWN0bHlcbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDogc291cmNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Fzc2V0KHNvdXJjZSkpIHtcbiAgICAgICAgLy8gSWYgd2Ugd2VyZSBwYXNzZWQgYW4gaW1hZ2UgYXNzZXQgZG9jdW1lbnRcbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDoge1xuICAgICAgICAgICAgICAgIF9yZWY6IHNvdXJjZS5faWQgfHwgJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Fzc2V0U3R1Yihzb3VyY2UpKSB7XG4gICAgICAgIC8vIElmIHdlIHdlcmUgcGFzc2VkIGEgcGFydGlhbCBhc3NldCAoYHVybGAsIGJ1dCBubyBgX2lkYClcbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDoge1xuICAgICAgICAgICAgICAgIF9yZWY6IHVybFRvSWQoc291cmNlLmFzc2V0LnVybCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlLmFzc2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBQcm9iYWJseSBhbiBhY3R1YWwgaW1hZ2Ugd2l0aCBtYXRlcmlhbGl6ZWQgYXNzZXRcbiAgICAgICAgaW1hZ2UgPSBfX2Fzc2lnbih7fSwgc291cmNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIGdvdCBzb21ldGhpbmcgdGhhdCBkb2VzIG5vdCBsb29rIGxpa2UgYW4gaW1hZ2UsIG9yIGl0IGlzIGFuIGltYWdlXG4gICAgICAgIC8vIHRoYXQgY3VycmVudGx5IGlzbid0IHNwb3J0aW5nIGFuIGFzc2V0LlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGltZyA9IHNvdXJjZTtcbiAgICBpZiAoaW1nLmNyb3ApIHtcbiAgICAgICAgaW1hZ2UuY3JvcCA9IGltZy5jcm9wO1xuICAgIH1cbiAgICBpZiAoaW1nLmhvdHNwb3QpIHtcbiAgICAgICAgaW1hZ2UuaG90c3BvdCA9IGltZy5ob3RzcG90O1xuICAgIH1cbiAgICByZXR1cm4gYXBwbHlEZWZhdWx0cyhpbWFnZSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBwYXJzZVNvdXJjZTtcbmZ1bmN0aW9uIGlzVXJsKHVybCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8vLnRlc3QoXCJcIi5jb25jYXQodXJsKSk7XG59XG5mdW5jdGlvbiB1cmxUb0lkKHVybCkge1xuICAgIHZhciBwYXJ0cyA9IHVybC5zcGxpdCgnLycpLnNsaWNlKC0xKTtcbiAgICByZXR1cm4gXCJpbWFnZS1cIi5jb25jYXQocGFydHNbMF0pLnJlcGxhY2UoL1xcLihbYS16XSspJC8sICctJDEnKTtcbn1cbi8vIE1vY2sgY3JvcCBhbmQgaG90c3BvdCBpZiBpbWFnZSBsYWNrcyBpdFxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyhpbWFnZSkge1xuICAgIGlmIChpbWFnZS5jcm9wICYmIGltYWdlLmhvdHNwb3QpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cbiAgICAvLyBXZSBuZWVkIHRvIHBhZCBpbiBkZWZhdWx0IHZhbHVlcyBmb3IgY3JvcCBvciBob3RzcG90XG4gICAgdmFyIHJlc3VsdCA9IF9fYXNzaWduKHt9LCBpbWFnZSk7XG4gICAgaWYgKCFyZXN1bHQuY3JvcCkge1xuICAgICAgICByZXN1bHQuY3JvcCA9IHtcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQuaG90c3BvdCkge1xuICAgICAgICByZXN1bHQuaG90c3BvdCA9IHtcbiAgICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICAgIHk6IDAuNSxcbiAgICAgICAgICAgIGhlaWdodDogMS4wLFxuICAgICAgICAgICAgd2lkdGg6IDEuMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlU291cmNlLmpzLm1hcCJdLCJuYW1lcyI6WyJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImlzUmVmIiwic3JjIiwic291cmNlIiwiX3JlZiIsImlzQXNzZXQiLCJfaWQiLCJpc0Fzc2V0U3R1YiIsImFzc2V0IiwidXJsIiwicGFyc2VTb3VyY2UiLCJpbWFnZSIsImlzVXJsIiwidXJsVG9JZCIsImltZyIsImNyb3AiLCJob3RzcG90IiwiYXBwbHlEZWZhdWx0cyIsImRlZmF1bHQiLCJ0ZXN0IiwiY29uY2F0IiwicGFydHMiLCJzcGxpdCIsInNsaWNlIiwicmVwbGFjZSIsInJlc3VsdCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsIngiLCJ5IiwiaGVpZ2h0Iiwid2lkdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    [\n        \"width\",\n        \"w\"\n    ],\n    [\n        \"height\",\n        \"h\"\n    ],\n    [\n        \"format\",\n        \"fm\"\n    ],\n    [\n        \"download\",\n        \"dl\"\n    ],\n    [\n        \"blur\",\n        \"blur\"\n    ],\n    [\n        \"sharpen\",\n        \"sharp\"\n    ],\n    [\n        \"invert\",\n        \"invert\"\n    ],\n    [\n        \"orientation\",\n        \"or\"\n    ],\n    [\n        \"minHeight\",\n        \"min-h\"\n    ],\n    [\n        \"maxHeight\",\n        \"max-h\"\n    ],\n    [\n        \"minWidth\",\n        \"min-w\"\n    ],\n    [\n        \"maxWidth\",\n        \"max-w\"\n    ],\n    [\n        \"quality\",\n        \"q\"\n    ],\n    [\n        \"fit\",\n        \"fit\"\n    ],\n    [\n        \"crop\",\n        \"crop\"\n    ],\n    [\n        \"saturation\",\n        \"sat\"\n    ],\n    [\n        \"auto\",\n        \"auto\"\n    ],\n    [\n        \"dpr\",\n        \"dpr\"\n    ],\n    [\n        \"pad\",\n        \"pad\"\n    ]\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || \"\";\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({\n            crop: crop,\n            hotspot: hotspot\n        }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), {\n        asset: asset\n    }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || \"https://cdn.sanity.io\").replace(/\\/+$/, \"\");\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [\n        spec.flipHorizontal && \"h\",\n        spec.flipVertical && \"v\"\n    ].filter(Boolean).join(\"\");\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        } else if (typeof spec[param] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join(\"&\"));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return {\n            width: imgWidth,\n            height: imgHeight,\n            rect: source.crop\n        };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        } else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = {\n            left: left,\n            top: top_2,\n            width: width,\n            height: height\n        };\n    } else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        } else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = {\n            left: left,\n            top: top_3,\n            width: width,\n            height: height\n        };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect\n    };\n} //# sourceMappingURL=urlForImage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBLElBQUlPLGtCQUFrQixJQUFLLElBQUksSUFBSSxDQUFDQSxlQUFlLElBQUssU0FBVUMsR0FBRztJQUNqRSxPQUFPLE9BQVFBLElBQUlDLFVBQVUsR0FBSUQsTUFBTTtRQUFFLFdBQVdBO0lBQUk7QUFDNUQ7QUFDQWQsOENBQTZDO0lBQUVrQixPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQkFBbUIsR0FBR0Esc0NBQXNDLEdBQUcsS0FBSztBQUNwRSxJQUFJSSxpQkFBaUJSLGdCQUFnQlMsbUJBQU9BLENBQUMsdUZBQWdCO0FBQzdELElBQUlDLGdCQUFnQlYsZ0JBQWdCUyxtQkFBT0EsQ0FBQyxxRkFBZTtBQUMzREwsbUJBQW1CLEdBQUdNLGNBQWNDLE9BQU87QUFDM0NQLHNDQUFzQyxHQUFHO0lBQ3JDO1FBQUM7UUFBUztLQUFJO0lBQ2Q7UUFBQztRQUFVO0tBQUk7SUFDZjtRQUFDO1FBQVU7S0FBSztJQUNoQjtRQUFDO1FBQVk7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LEtBQUtDLElBQUksR0FBR0QsS0FBS0UsS0FBSyxHQUFHQTtRQUNwQztRQUNBMEMsV0FBVztZQUFFM0MsTUFBTUE7WUFBTUcsS0FBSzZDO1lBQU8vQyxPQUFPQTtZQUFPRyxRQUFRQTtRQUFPO0lBQ3RFLE9BQ0s7UUFDRCxnRkFBZ0Y7UUFDaEYsSUFBSUgsUUFBUUYsS0FBS0UsS0FBSztRQUN0QixJQUFJRyxTQUFTUCxLQUFLQyxLQUFLLENBQUNHLFFBQVE2QztRQUNoQyxJQUFJOUMsT0FBT0gsS0FBS29ELEdBQUcsQ0FBQyxHQUFHcEQsS0FBS0MsS0FBSyxDQUFDQyxLQUFLQyxJQUFJO1FBQzNDLHdDQUF3QztRQUN4QyxJQUFJbUQsaUJBQWlCdEQsS0FBS0MsS0FBSyxDQUFDLENBQUNVLFFBQVFGLE1BQU0sR0FBR0UsUUFBUUwsR0FBRyxJQUFJLElBQUlLLFFBQVFMLEdBQUc7UUFDaEYsSUFBSWlELFFBQVF2RCxLQUFLb0QsR0FBRyxDQUFDLEdBQUdwRCxLQUFLQyxLQUFLLENBQUNxRCxpQkFBaUIvQyxTQUFTO1FBQzdELCtCQUErQjtRQUMvQixJQUFJZ0QsUUFBUXJELEtBQUtJLEdBQUcsRUFBRTtZQUNsQmlELFFBQVFyRCxLQUFLSSxHQUFHO1FBQ3BCLE9BQ0ssSUFBSWlELFFBQVFoRCxTQUFTTCxLQUFLSSxHQUFHLEdBQUdKLEtBQUtLLE1BQU0sRUFBRTtZQUM5Q2dELFFBQVFyRCxLQUFLSSxHQUFHLEdBQUdKLEtBQUtLLE1BQU0sR0FBR0E7UUFDckM7UUFDQXVDLFdBQVc7WUFBRTNDLE1BQU1BO1lBQU1HLEtBQUtpRDtZQUFPbkQsT0FBT0E7WUFBT0csUUFBUUE7UUFBTztJQUN0RTtJQUNBLE9BQU87UUFDSEgsT0FBTzJDO1FBQ1B4QyxRQUFReUM7UUFDUi9CLE1BQU02QjtJQUNWO0FBQ0osRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS91cmxGb3JJbWFnZS5qcz9hNTVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VTb3VyY2UgPSBleHBvcnRzLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUyA9IHZvaWQgMDtcbnZhciBwYXJzZUFzc2V0SWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wYXJzZUFzc2V0SWRcIikpO1xudmFyIHBhcnNlU291cmNlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcGFyc2VTb3VyY2VcIikpO1xuZXhwb3J0cy5wYXJzZVNvdXJjZSA9IHBhcnNlU291cmNlXzEuZGVmYXVsdDtcbmV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTID0gW1xuICAgIFsnd2lkdGgnLCAndyddLFxuICAgIFsnaGVpZ2h0JywgJ2gnXSxcbiAgICBbJ2Zvcm1hdCcsICdmbSddLFxuICAgIFsnZG93bmxvYWQnLCAnZGwnXSxcbiAgICBbJ2JsdXInLCAnYmx1ciddLFxuICAgIFsnc2hhcnBlbicsICdzaGFycCddLFxuICAgIFsnaW52ZXJ0JywgJ2ludmVydCddLFxuICAgIFsnb3JpZW50YXRpb24nLCAnb3InXSxcbiAgICBbJ21pbkhlaWdodCcsICdtaW4taCddLFxuICAgIFsnbWF4SGVpZ2h0JywgJ21heC1oJ10sXG4gICAgWydtaW5XaWR0aCcsICdtaW4tdyddLFxuICAgIFsnbWF4V2lkdGgnLCAnbWF4LXcnXSxcbiAgICBbJ3F1YWxpdHknLCAncSddLFxuICAgIFsnZml0JywgJ2ZpdCddLFxuICAgIFsnY3JvcCcsICdjcm9wJ10sXG4gICAgWydzYXR1cmF0aW9uJywgJ3NhdCddLFxuICAgIFsnYXV0bycsICdhdXRvJ10sXG4gICAgWydkcHInLCAnZHByJ10sXG4gICAgWydwYWQnLCAncGFkJ10sXG5dO1xuZnVuY3Rpb24gdXJsRm9ySW1hZ2Uob3B0aW9ucykge1xuICAgIHZhciBzcGVjID0gX19hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSk7XG4gICAgdmFyIHNvdXJjZSA9IHNwZWMuc291cmNlO1xuICAgIGRlbGV0ZSBzcGVjLnNvdXJjZTtcbiAgICB2YXIgaW1hZ2UgPSAoMCwgcGFyc2VTb3VyY2VfMS5kZWZhdWx0KShzb3VyY2UpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgaW1hZ2UgVVJMIGZyb20gc291cmNlIChcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc291cmNlKSwgXCIpXCIpKTtcbiAgICB9XG4gICAgdmFyIGlkID0gaW1hZ2UuYXNzZXQuX3JlZiB8fCBpbWFnZS5hc3NldC5faWQgfHwgJyc7XG4gICAgdmFyIGFzc2V0ID0gKDAsIHBhcnNlQXNzZXRJZF8xLmRlZmF1bHQpKGlkKTtcbiAgICAvLyBDb21wdXRlIGNyb3AgcmVjdCBpbiB0ZXJtcyBvZiBwaXhlbCBjb29yZGluYXRlcyBpbiB0aGUgcmF3IHNvdXJjZSBpbWFnZVxuICAgIHZhciBjcm9wTGVmdCA9IE1hdGgucm91bmQoaW1hZ2UuY3JvcC5sZWZ0ICogYXNzZXQud2lkdGgpO1xuICAgIHZhciBjcm9wVG9wID0gTWF0aC5yb3VuZChpbWFnZS5jcm9wLnRvcCAqIGFzc2V0LmhlaWdodCk7XG4gICAgdmFyIGNyb3AgPSB7XG4gICAgICAgIGxlZnQ6IGNyb3BMZWZ0LFxuICAgICAgICB0b3A6IGNyb3BUb3AsXG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGFzc2V0LndpZHRoIC0gaW1hZ2UuY3JvcC5yaWdodCAqIGFzc2V0LndpZHRoIC0gY3JvcExlZnQpLFxuICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoYXNzZXQuaGVpZ2h0IC0gaW1hZ2UuY3JvcC5ib3R0b20gKiBhc3NldC5oZWlnaHQgLSBjcm9wVG9wKSxcbiAgICB9O1xuICAgIC8vIENvbXB1dGUgaG90IHNwb3QgcmVjdCBpbiB0ZXJtcyBvZiBwaXhlbCBjb29yZGluYXRlc1xuICAgIHZhciBob3RTcG90VmVydGljYWxSYWRpdXMgPSAoaW1hZ2UuaG90c3BvdC5oZWlnaHQgKiBhc3NldC5oZWlnaHQpIC8gMjtcbiAgICB2YXIgaG90U3BvdEhvcml6b250YWxSYWRpdXMgPSAoaW1hZ2UuaG90c3BvdC53aWR0aCAqIGFzc2V0LndpZHRoKSAvIDI7XG4gICAgdmFyIGhvdFNwb3RDZW50ZXJYID0gaW1hZ2UuaG90c3BvdC54ICogYXNzZXQud2lkdGg7XG4gICAgdmFyIGhvdFNwb3RDZW50ZXJZID0gaW1hZ2UuaG90c3BvdC55ICogYXNzZXQuaGVpZ2h0O1xuICAgIHZhciBob3RzcG90ID0ge1xuICAgICAgICBsZWZ0OiBob3RTcG90Q2VudGVyWCAtIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzLFxuICAgICAgICB0b3A6IGhvdFNwb3RDZW50ZXJZIC0gaG90U3BvdFZlcnRpY2FsUmFkaXVzLFxuICAgICAgICByaWdodDogaG90U3BvdENlbnRlclggKyBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyxcbiAgICAgICAgYm90dG9tOiBob3RTcG90Q2VudGVyWSArIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyxcbiAgICB9O1xuICAgIC8vIElmIGlycmVsZXZhbnQsIG9yIGlmIHdlIGFyZSByZXF1ZXN0ZWQgdG86IGRvbid0IHBlcmZvcm0gY3JvcC9maXQgYmFzZWQgb25cbiAgICAvLyB0aGUgY3JvcC9ob3RzcG90LlxuICAgIGlmICghKHNwZWMucmVjdCB8fCBzcGVjLmZvY2FsUG9pbnQgfHwgc3BlYy5pZ25vcmVJbWFnZVBhcmFtcyB8fCBzcGVjLmNyb3ApKSB7XG4gICAgICAgIHNwZWMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3BlYyksIGZpdCh7IGNyb3A6IGNyb3AsIGhvdHNwb3Q6IGhvdHNwb3QgfSwgc3BlYykpO1xuICAgIH1cbiAgICByZXR1cm4gc3BlY1RvSW1hZ2VVcmwoX19hc3NpZ24oX19hc3NpZ24oe30sIHNwZWMpLCB7IGFzc2V0OiBhc3NldCB9KSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB1cmxGb3JJbWFnZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBzcGVjVG9JbWFnZVVybChzcGVjKSB7XG4gICAgdmFyIGNkblVybCA9IChzcGVjLmJhc2VVcmwgfHwgJ2h0dHBzOi8vY2RuLnNhbml0eS5pbycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgIHZhciBmaWxlbmFtZSA9IFwiXCIuY29uY2F0KHNwZWMuYXNzZXQuaWQsIFwiLVwiKS5jb25jYXQoc3BlYy5hc3NldC53aWR0aCwgXCJ4XCIpLmNvbmNhdChzcGVjLmFzc2V0LmhlaWdodCwgXCIuXCIpLmNvbmNhdChzcGVjLmFzc2V0LmZvcm1hdCk7XG4gICAgdmFyIGJhc2VVcmwgPSBcIlwiLmNvbmNhdChjZG5VcmwsIFwiL2ltYWdlcy9cIikuY29uY2F0KHNwZWMucHJvamVjdElkLCBcIi9cIikuY29uY2F0KHNwZWMuZGF0YXNldCwgXCIvXCIpLmNvbmNhdChmaWxlbmFtZSk7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIGlmIChzcGVjLnJlY3QpIHtcbiAgICAgICAgLy8gT25seSBib3RoZXIgdXJsIHdpdGggYSBjcm9wIGlmIGl0IGFjdHVhbGx5IGNyb3BzIGFueXRoaW5nXG4gICAgICAgIHZhciBfYSA9IHNwZWMucmVjdCwgbGVmdCA9IF9hLmxlZnQsIHRvcF8xID0gX2EudG9wLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciBpc0VmZmVjdGl2ZUNyb3AgPSBsZWZ0ICE9PSAwIHx8IHRvcF8xICE9PSAwIHx8IGhlaWdodCAhPT0gc3BlYy5hc3NldC5oZWlnaHQgfHwgd2lkdGggIT09IHNwZWMuYXNzZXQud2lkdGg7XG4gICAgICAgIGlmIChpc0VmZmVjdGl2ZUNyb3ApIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwicmVjdD1cIi5jb25jYXQobGVmdCwgXCIsXCIpLmNvbmNhdCh0b3BfMSwgXCIsXCIpLmNvbmNhdCh3aWR0aCwgXCIsXCIpLmNvbmNhdChoZWlnaHQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3BlYy5iZykge1xuICAgICAgICBwYXJhbXMucHVzaChcImJnPVwiLmNvbmNhdChzcGVjLmJnKSk7XG4gICAgfVxuICAgIGlmIChzcGVjLmZvY2FsUG9pbnQpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmcC14PVwiLmNvbmNhdChzcGVjLmZvY2FsUG9pbnQueCkpO1xuICAgICAgICBwYXJhbXMucHVzaChcImZwLXk9XCIuY29uY2F0KHNwZWMuZm9jYWxQb2ludC55KSk7XG4gICAgfVxuICAgIHZhciBmbGlwID0gW3NwZWMuZmxpcEhvcml6b250YWwgJiYgJ2gnLCBzcGVjLmZsaXBWZXJ0aWNhbCAmJiAndiddLmZpbHRlcihCb29sZWFuKS5qb2luKCcnKTtcbiAgICBpZiAoZmxpcCkge1xuICAgICAgICBwYXJhbXMucHVzaChcImZsaXA9XCIuY29uY2F0KGZsaXApKTtcbiAgICB9XG4gICAgLy8gTWFwIGZyb20gc3BlYyBuYW1lIHRvIHVybCBwYXJhbSBuYW1lLCBhbmQgYWxsb3cgdXNpbmcgdGhlIGFjdHVhbCBwYXJhbSBuYW1lIGFzIGFuIGFsdGVybmF0aXZlXG4gICAgZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MuZm9yRWFjaChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgICB2YXIgc3BlY05hbWUgPSBtYXBwaW5nWzBdLCBwYXJhbSA9IG1hcHBpbmdbMV07XG4gICAgICAgIGlmICh0eXBlb2Ygc3BlY1tzcGVjTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcIlwiLmNvbmNhdChwYXJhbSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoc3BlY1tzcGVjTmFtZV0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNwZWNbcGFyYW1dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNwZWNbcGFyYW1dKSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmw7XG4gICAgfVxuICAgIHJldHVybiBcIlwiLmNvbmNhdChiYXNlVXJsLCBcIj9cIikuY29uY2F0KHBhcmFtcy5qb2luKCcmJykpO1xufVxuZnVuY3Rpb24gZml0KHNvdXJjZSwgc3BlYykge1xuICAgIHZhciBjcm9wUmVjdDtcbiAgICB2YXIgaW1nV2lkdGggPSBzcGVjLndpZHRoO1xuICAgIHZhciBpbWdIZWlnaHQgPSBzcGVjLmhlaWdodDtcbiAgICAvLyBJZiB3ZSBhcmUgbm90IGNvbnN0cmFpbmluZyB0aGUgYXNwZWN0IHJhdGlvLCB3ZSdsbCBqdXN0IHVzZSB0aGUgd2hvbGUgY3JvcFxuICAgIGlmICghKGltZ1dpZHRoICYmIGltZ0hlaWdodCkpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IGltZ1dpZHRoLCBoZWlnaHQ6IGltZ0hlaWdodCwgcmVjdDogc291cmNlLmNyb3AgfTtcbiAgICB9XG4gICAgdmFyIGNyb3AgPSBzb3VyY2UuY3JvcDtcbiAgICB2YXIgaG90c3BvdCA9IHNvdXJjZS5ob3RzcG90O1xuICAgIC8vIElmIHdlIGFyZSBoZXJlLCB0aGF0IG1lYW5zIGFzcGVjdCByYXRpbyBpcyBsb2NrZWQgYW5kIGZpdHRpbmcgd2lsbCBiZSBhIGJpdCBoYXJkZXJcbiAgICB2YXIgZGVzaXJlZEFzcGVjdFJhdGlvID0gaW1nV2lkdGggLyBpbWdIZWlnaHQ7XG4gICAgdmFyIGNyb3BBc3BlY3RSYXRpbyA9IGNyb3Aud2lkdGggLyBjcm9wLmhlaWdodDtcbiAgICBpZiAoY3JvcEFzcGVjdFJhdGlvID4gZGVzaXJlZEFzcGVjdFJhdGlvKSB7XG4gICAgICAgIC8vIFRoZSBjcm9wIGlzIHdpZGVyIHRoYW4gdGhlIGRlc2lyZWQgYXNwZWN0IHJhdGlvLiBUaGF0IG1lYW5zIHdlIGFyZSBjdXR0aW5nIGZyb20gdGhlIHNpZGVzXG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChoZWlnaHQgKiBkZXNpcmVkQXNwZWN0UmF0aW8pO1xuICAgICAgICB2YXIgdG9wXzIgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGNyb3AudG9wKSk7XG4gICAgICAgIC8vIENlbnRlciBvdXRwdXQgaG9yaXpvbnRhbGx5IG92ZXIgaG90c3BvdFxuICAgICAgICB2YXIgaG90c3BvdFhDZW50ZXIgPSBNYXRoLnJvdW5kKChob3RzcG90LnJpZ2h0IC0gaG90c3BvdC5sZWZ0KSAvIDIgKyBob3RzcG90LmxlZnQpO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoaG90c3BvdFhDZW50ZXIgLSB3aWR0aCAvIDIpKTtcbiAgICAgICAgLy8gS2VlcCBvdXRwdXQgd2l0aGluIGNyb3BcbiAgICAgICAgaWYgKGxlZnQgPCBjcm9wLmxlZnQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjcm9wLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVmdCArIHdpZHRoID4gY3JvcC5sZWZ0ICsgY3JvcC53aWR0aCkge1xuICAgICAgICAgICAgbGVmdCA9IGNyb3AubGVmdCArIGNyb3Aud2lkdGggLSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjcm9wUmVjdCA9IHsgbGVmdDogbGVmdCwgdG9wOiB0b3BfMiwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGNyb3AgaXMgdGFsbGVyIHRoYW4gdGhlIGRlc2lyZWQgcmF0aW8sIHdlIGFyZSBjdXR0aW5nIGZyb20gdG9wIGFuZCBib3R0b21cbiAgICAgICAgdmFyIHdpZHRoID0gY3JvcC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQod2lkdGggLyBkZXNpcmVkQXNwZWN0UmF0aW8pO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoY3JvcC5sZWZ0KSk7XG4gICAgICAgIC8vIENlbnRlciBvdXRwdXQgdmVydGljYWxseSBvdmVyIGhvdHNwb3RcbiAgICAgICAgdmFyIGhvdHNwb3RZQ2VudGVyID0gTWF0aC5yb3VuZCgoaG90c3BvdC5ib3R0b20gLSBob3RzcG90LnRvcCkgLyAyICsgaG90c3BvdC50b3ApO1xuICAgICAgICB2YXIgdG9wXzMgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGhvdHNwb3RZQ2VudGVyIC0gaGVpZ2h0IC8gMikpO1xuICAgICAgICAvLyBLZWVwIG91dHB1dCByZWN0IHdpdGhpbiBjcm9wXG4gICAgICAgIGlmICh0b3BfMyA8IGNyb3AudG9wKSB7XG4gICAgICAgICAgICB0b3BfMyA9IGNyb3AudG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvcF8zICsgaGVpZ2h0ID4gY3JvcC50b3AgKyBjcm9wLmhlaWdodCkge1xuICAgICAgICAgICAgdG9wXzMgPSBjcm9wLnRvcCArIGNyb3AuaGVpZ2h0IC0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGNyb3BSZWN0ID0geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcF8zLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBpbWdXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbWdIZWlnaHQsXG4gICAgICAgIHJlY3Q6IGNyb3BSZWN0LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxGb3JJbWFnZS5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicGFyc2VTb3VyY2UiLCJTUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MiLCJwYXJzZUFzc2V0SWRfMSIsInJlcXVpcmUiLCJwYXJzZVNvdXJjZV8xIiwiZGVmYXVsdCIsInVybEZvckltYWdlIiwib3B0aW9ucyIsInNwZWMiLCJzb3VyY2UiLCJpbWFnZSIsIkVycm9yIiwiY29uY2F0IiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwiYXNzZXQiLCJfcmVmIiwiX2lkIiwiY3JvcExlZnQiLCJNYXRoIiwicm91bmQiLCJjcm9wIiwibGVmdCIsIndpZHRoIiwiY3JvcFRvcCIsInRvcCIsImhlaWdodCIsInJpZ2h0IiwiYm90dG9tIiwiaG90U3BvdFZlcnRpY2FsUmFkaXVzIiwiaG90c3BvdCIsImhvdFNwb3RIb3Jpem9udGFsUmFkaXVzIiwiaG90U3BvdENlbnRlclgiLCJ4IiwiaG90U3BvdENlbnRlclkiLCJ5IiwicmVjdCIsImZvY2FsUG9pbnQiLCJpZ25vcmVJbWFnZVBhcmFtcyIsImZpdCIsInNwZWNUb0ltYWdlVXJsIiwiY2RuVXJsIiwiYmFzZVVybCIsInJlcGxhY2UiLCJmaWxlbmFtZSIsImZvcm1hdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJwYXJhbXMiLCJfYSIsInRvcF8xIiwiaXNFZmZlY3RpdmVDcm9wIiwicHVzaCIsImJnIiwiZmxpcCIsImZsaXBIb3Jpem9udGFsIiwiZmxpcFZlcnRpY2FsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJmb3JFYWNoIiwibWFwcGluZyIsInNwZWNOYW1lIiwicGFyYW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9wUmVjdCIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiZGVzaXJlZEFzcGVjdFJhdGlvIiwiY3JvcEFzcGVjdFJhdGlvIiwidG9wXzIiLCJtYXgiLCJob3RzcG90WENlbnRlciIsImhvdHNwb3RZQ2VudGVyIiwidG9wXzMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBQSw4R0FBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2V2ZW50c291cmNlL25vZGUuanM/ZDg4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50c291cmNlJylcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-eLzHI4Fk.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/browserMiddleware-eLzHI4Fk.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   defaultConfig: () => (/* binding */ defaultConfig),\n/* harmony export */   defineCreateClientExports: () => (/* binding */ defineCreateClientExports),\n/* harmony export */   envMiddleware: () => (/* binding */ envMiddleware),\n/* harmony export */   printNoDefaultExport: () => (/* binding */ printNoDefaultExport)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(rsc)/./node_modules/get-it/dist/middleware.browser.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5;\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 400;\n        Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 500;\n        Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body;\n    const props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) {\n        props.message = \"\".concat(body.error, \" - \").concat(body.message);\n        return props;\n    }\n    if (isMutationError(body)) {\n        const allItems = body.error.items || [];\n        const items = allItems.slice(0, MAX_ITEMS_IN_ERROR_MESSAGE).map((item)=>{\n            var _a;\n            return (_a = item.error) == null ? void 0 : _a.description;\n        }).filter(Boolean);\n        let itemsStr = items.length ? \":\\n- \".concat(items.join(\"\\n- \")) : \"\";\n        if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n            itemsStr += \"\\n...and \".concat(allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE, \" more\");\n        }\n        props.message = \"\".concat(body.error.description).concat(itemsStr);\n        props.details = body.error;\n        return props;\n    }\n    if (body.error && body.error.description) {\n        props.message = body.error.description;\n        props.details = body.error;\n        return props;\n    }\n    props.message = body.error || body.message || httpErrorMessage(res);\n    return props;\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description === \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n    return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n    const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n    const isJson = contentType.indexOf(\"application/json\") !== -1;\n    return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) {\n            throw new ServerError(res);\n        } else if (res.statusCode >= 400) {\n            throw new ClientError(res);\n        }\n        return res;\n    }\n};\nconst printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        const warnings = Array.isArray(warn) ? warn : [\n            warn\n        ];\n        warnings.filter(Boolean).forEach((msg)=>console.warn(msg));\n        return res;\n    }\n};\nfunction defineHttpRequest(envMiddleware, _ref) {\n    let { maxRetries = 5, retryDelay } = _ref;\n    const request = (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        maxRetries > 0 ? (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            retryDelay,\n            // This option is typed incorrectly in get-it.\n            maxRetries,\n            shouldRetry\n        }) : {},\n        ...envMiddleware,\n        printWarnings,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n    function httpRequest(options) {\n        let requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n        return requester({\n            maxRedirects: 0,\n            ...options\n        });\n    }\n    httpRequest.defaultRequester = request;\n    return httpRequest;\n}\nfunction shouldRetry(err, attempt, options) {\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\";\n    const uri = options.uri || options.url;\n    const isQuery = uri.startsWith(\"/data/query\");\n    const isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    if ((isSafe || isQuery) && isRetriableResponse) return true;\n    return get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n    if (typeof sel === \"string\" || Array.isArray(sel)) {\n        return {\n            id: sel\n        };\n    }\n    if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n        return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n            query: sel.query,\n            params: sel.params\n        } : {\n            query: sel.query\n        };\n    }\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(\"\\n\");\n    throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n];\nconst VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n];\nconst dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n        throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n    }\n};\nconst projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) {\n        throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n    }\n};\nconst validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n        throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n    }\n};\nconst validateObject = (op, val)=>{\n    if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n        throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n    }\n};\nconst validateDocumentId = (op, id)=>{\n    if (typeof id !== \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) {\n        throw new Error(\"\".concat(op, '(): \"').concat(id, '\" is not a valid document ID'));\n    }\n};\nconst requireDocumentId = (op, doc)=>{\n    if (!doc._id) {\n        throw new Error(\"\".concat(op, '() requires that the document contains an ID (\"_id\" property)'));\n    }\n    validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>'\"'.concat(loc, '\"')).join(\", \");\n        throw new Error(\"\".concat(signature, ' takes an \"at\"-argument which is one of: ').concat(valid));\n    }\n    if (typeof selector !== \"string\") {\n        throw new Error(\"\".concat(signature, ' takes a \"selector\"-argument which must be a string'));\n    }\n    if (!Array.isArray(items)) {\n        throw new Error(\"\".concat(signature, ' takes an \"items\"-argument which must be an array'));\n    }\n};\nconst hasDataset = (config)=>{\n    if (!config.dataset) {\n        throw new Error(\"`dataset` must be provided to perform queries\");\n    }\n    return config.dataset || \"\";\n};\nconst requestTag = (tag)=>{\n    if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n        throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    }\n    return tag;\n};\nvar __accessCheck$6 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter)=>{\n    __accessCheck$6(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter)=>{\n    __accessCheck$6(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n    constructor(selection){\n        let operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.selection = selection;\n        this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        validateObject(\"diffMatchPatch\", attrs);\n        return this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) {\n            throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        }\n        this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        });\n        return this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        validateInsert(at, selector, items);\n        return this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n        const startIndex = start < 0 ? start - 1 : start;\n        const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n        const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n        const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        this.operations.ifRevisionID = rev;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        this.operations = {};\n        return this;\n    }\n    _assign(op, props) {\n        let merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        validateObject(op, props);\n        this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        });\n        return this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, false);\n    }\n}\nconst _ObservablePatch = class _ObservablePatch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client$5, void 0);\n        __privateSet$6(this, _client$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _ObservablePatch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client$5 = new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nconst _Patch = class _Patch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client2$5, void 0);\n        __privateSet$6(this, _client2$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _Patch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client2$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client2$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client2$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client2$5 = new WeakMap();\nlet Patch = _Patch;\nvar __accessCheck$5 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter)=>{\n    __accessCheck$5(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter)=>{\n    __accessCheck$5(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n    returnDocuments: false\n};\nclass BaseTransaction {\n    constructor(){\n        let operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        let transactionId = arguments.length > 1 ? arguments[1] : undefined;\n        this.operations = operations;\n        this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        validateObject(\"create\", doc);\n        return this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        validateDocumentId(\"delete\", documentId);\n        return this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        if (!id) {\n            return this.trxId;\n        }\n        this.trxId = id;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        this.operations = [];\n        return this;\n    }\n    _add(mut) {\n        this.operations.push(mut);\n        return this;\n    }\n}\nconst _Transaction = class _Transaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client$4, void 0);\n        __privateSet$5(this, _client$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _Transaction([\n            ...this.operations\n        ], __privateGet$5(this, _client$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n            if (!(patch instanceof Patch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client$4 = new WeakMap();\nlet Transaction = _Transaction;\nconst _ObservableTransaction = class _ObservableTransaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client2$4, void 0);\n        __privateSet$5(this, _client2$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _ObservableTransaction([\n            ...this.operations\n        ], __privateGet$5(this, _client2$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client2$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n            if (!(patch instanceof ObservablePatch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client2$4 = new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nfunction once(fn) {\n    let didCall = false;\n    let returnValue;\n    return function() {\n        if (didCall) {\n            return returnValue;\n        }\n        returnValue = fn(...arguments);\n        didCall = true;\n        return returnValue;\n    };\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once(function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        return console.warn(message.join(\" \"), ...args);\n    });\nconst printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]);\nconst printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]);\nconst printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")\n]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    \"See \".concat(generateHelpUrl(\"js-client-api-version\"))\n]);\nconst printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: true\n};\nconst LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n];\nconst isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") {\n        return;\n    }\n    const apiDate = new Date(apiVersion);\n    const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n    if (!apiVersionValid) {\n        throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n    }\n};\nconst validateApiPerspective = function validateApiPerspective2(perspective) {\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n};\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    if (!specifiedConfig.apiVersion) {\n        printNoApiVersionSpecifiedWarning();\n    }\n    const newConfig = Object.assign({}, defaultConfig, specifiedConfig);\n    const projectBased = newConfig.useProjectHostname;\n    if (typeof Promise === \"undefined\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n    }\n    if (projectBased && !newConfig.projectId) {\n        throw new Error(\"Configuration must contain `projectId`\");\n    }\n    if (typeof newConfig.perspective === \"string\") {\n        validateApiPerspective(newConfig.perspective);\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig || \"encodeSourceMap\" in newConfig || \"studioUrl\" in newConfig || \"logger\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.\");\n    }\n    if (\"stega\" in newConfig && newConfig[\"stega\"] !== void 0 && newConfig[\"stega\"] !== false) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.\");\n    }\n    const isBrowser =  false && 0;\n    const isLocalhost = isBrowser && isLocal(window.location.hostname);\n    if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n        printBrowserTokenWarning();\n    } else if (typeof newConfig.useCdn === \"undefined\") {\n        printCdnWarning();\n    }\n    if (projectBased) {\n        projectId(newConfig.projectId);\n    }\n    if (newConfig.dataset) {\n        dataset(newConfig.dataset);\n    }\n    if (\"requestTagPrefix\" in newConfig) {\n        newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n    }\n    newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n    newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n    newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials;\n    validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2);\n    const protocol = hostParts[0];\n    const host = hostParts[1];\n    const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    if (newConfig.useProjectHostname) {\n        newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n    } else {\n        newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = newConfig.url;\n    }\n    return newConfig;\n};\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config) {\n    let overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const headers = {};\n    const token = overrides.token || config.token;\n    if (token) {\n        headers.Authorization = \"Bearer \".concat(token);\n    }\n    if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n        headers[projectHeader] = config.projectId;\n    }\n    const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n    const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: true,\n        withCredentials,\n        fetch: typeof overrides.fetch === \"object\" && typeof config.fetch === \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = (_ref2)=>{\n    let { query, params = {}, options = {} } = _ref2;\n    const searchParams = new URLSearchParams();\n    const { tag, ...opts } = options;\n    if (tag) searchParams.append(\"tag\", tag);\n    searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params)){\n        searchParams.append(\"$\".concat(key), JSON.stringify(value));\n    }\n    for (const [key, value] of Object.entries(opts)){\n        if (value) searchParams.append(key, \"\".concat(value));\n    }\n    return \"?\".concat(searchParams);\n};\nconst excludeFalsey = (param, defValue)=>{\n    const value = typeof param === \"undefined\" ? defValue : param;\n    return param === false ? void 0 : value;\n};\nconst getMutationQuery = function() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n        dryRun: options.dryRun,\n        returnIds: true,\n        returnDocuments: excludeFalsey(options.returnDocuments, true),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    };\n};\nconst isResponse = (event)=>event.type === \"response\";\nconst getBody = (event)=>event.body;\nconst indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>{\n        indexed[attr(doc)] = doc;\n        return indexed;\n    }, /* @__PURE__ */ Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, query, params) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    if (\"stega\" in options && options[\"stega\"] !== void 0 && options[\"stega\"] !== false) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'fetch' to 'false'.\");\n    }\n    const mapResponse = options.filterResponse === false ? (res)=>res : (res)=>res.result;\n    const { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal !== \"undefined\",\n        ...options\n    };\n    const reqOpts = typeof cache !== \"undefined\" || typeof next !== \"undefined\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts;\n    return _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    requireDocumentId(\"createIfNotExists\", doc);\n    return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    requireDocumentId(\"createOrReplace\", doc);\n    return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n        mut = {\n            patch: mutations.serialize()\n        };\n    } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n        mut = mutations.serialize();\n    } else {\n        mut = mutations;\n    }\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ];\n    const transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const isMutation = endpoint === \"mutate\";\n    const isQuery = endpoint === \"query\";\n    const strQuery = isMutation ? \"\" : encodeQueryString(body);\n    const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    const stringQuery = useGet ? strQuery : \"\";\n    const returnFirst = options.returnFirst;\n    const { timeout, token, tag, headers } = options;\n    const uri = _getDataUrl(client, endpoint, stringQuery);\n    const reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: true,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((res)=>{\n        if (!isMutation) {\n            return res;\n        }\n        const results = res.results || [];\n        if (options.returnDocuments) {\n            return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        }\n        const key = returnFirst ? \"documentId\" : \"documentIds\";\n        const ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const mutation = {\n        [op]: doc\n    };\n    const opts = Object.assign({\n        returnFirst: true,\n        returnDocuments: true\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    var _a, _b;\n    const uri = options.url || options.uri;\n    const config = client.config();\n    const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = ((_a = options.useCdn) != null ? _a : config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null) {\n        options.query = {\n            tag: requestTag(tag),\n            ...options.query\n        };\n    }\n    if ([\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = (_b = options.resultSourceMap) != null ? _b : config.resultSourceMap;\n        if (resultSourceMap !== void 0 && resultSourceMap !== false) {\n            options.query = {\n                resultSourceMap,\n                ...options.query\n            };\n        }\n        const perspective = options.perspective || config.perspective;\n        if (typeof perspective === \"string\" && perspective !== \"raw\") {\n            validateApiPerspective(perspective);\n            options.query = {\n                perspective,\n                ...options.query\n            };\n            if (perspective === \"previewDrafts\" && useCdn) {\n                useCdn = false;\n                printCdnPreviewDraftsWarning();\n            }\n        }\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    }));\n    const request = new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    const observable = _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body));\n    return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    const catalog = hasDataset(config);\n    const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri) {\n    let canUseCdn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    const { url, cdnUrl } = client.config();\n    const base = canUseCdn ? cdnUrl : url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>{\n        return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            signal.addEventListener(\"abort\", abort);\n            return ()=>{\n                signal.removeEventListener(\"abort\", abort);\n                subscription.unsubscribe();\n            };\n        });\n    };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n    var _a, _b;\n    if (isDomExceptionSupported) {\n        return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n    }\n    const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n    error.name = \"AbortError\";\n    return error;\n}\nvar __accessCheck$4 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter)=>{\n    __accessCheck$4(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter)=>{\n    __accessCheck$4(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client$3, void 0);\n        __privateAdd$4(this, _httpRequest$4, void 0);\n        __privateSet$4(this, _client$3, client);\n        __privateSet$4(this, _httpRequest$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n    }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client2$3, void 0);\n        __privateAdd$4(this, _httpRequest2$4, void 0);\n        __privateSet$4(this, _client2$3, client);\n        __privateSet$4(this, _httpRequest2$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(observable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.document)));\n    }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body) {\n    let opts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    if (meta && !meta.length) {\n        meta = [\n            \"none\"\n        ];\n    }\n    const dataset = hasDataset(client.config());\n    const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    const options = optionsFromFile(opts, body);\n    const { tag, label, title, description, creditLine, filename, source } = options;\n    const query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    if (source) {\n        query.sourceId = source.id;\n        query.sourceName = source.name;\n        query.sourceUrl = source.url;\n    }\n    return _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    if (typeof File === \"undefined\" || !(file instanceof File)) {\n        return opts;\n    }\n    return Object.assign({\n        filename: opts.preserveFilename === false ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop)=>{\n        target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n        return target;\n    }, {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>{\n        if (typeof obj[prop] === \"undefined\") {\n            return selection;\n        }\n        selection[prop] = obj[prop];\n        return selection;\n    }, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n];\nconst defaultOptions = {\n    includeResult: true\n};\nfunction _listen(query, params) {\n    let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const { url, token, withCredentials, requestTagPrefix } = this.config();\n    const tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag;\n    const options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    };\n    const listenOpts = pick(options, possibleOptions);\n    const qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    });\n    const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n    if (uri.length > MAX_URL_LENGTH) {\n        return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    }\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ];\n    const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n    const esOptions = {};\n    if (token || withCredentials) {\n        esOptions.withCredentials = true;\n    }\n    if (token) {\n        esOptions.headers = {\n            Authorization: \"Bearer \".concat(token)\n        };\n    }\n    return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        let es;\n        getEventSource().then((eventSource)=>{\n            es = eventSource;\n        }).catch((reason)=>{\n            observer.error(reason);\n            stop();\n        });\n        let reconnectTimer;\n        let stopped = false;\n        function onError() {\n            if (stopped) {\n                return;\n            }\n            emitReconnect();\n            if (stopped) {\n                return;\n            }\n            if (es.readyState === es.CLOSED) {\n                unsubscribe();\n                clearTimeout(reconnectTimer);\n                reconnectTimer = setTimeout(open, 100);\n            }\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = true;\n            unsubscribe();\n            observer.complete();\n        }\n        function unsubscribe() {\n            if (!es) return;\n            es.removeEventListener(\"error\", onError);\n            es.removeEventListener(\"channelError\", onChannelError);\n            es.removeEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>es.removeEventListener(type, onMessage));\n            es.close();\n        }\n        function emitReconnect() {\n            if (shouldEmitReconnect) {\n                observer.next({\n                    type: \"reconnect\"\n                });\n            }\n        }\n        async function getEventSource() {\n            const { default: EventSource } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/./node_modules/@sanity/eventsource/node.js\", 19));\n            const evs = new EventSource(uri, esOptions);\n            evs.addEventListener(\"error\", onError);\n            evs.addEventListener(\"channelError\", onChannelError);\n            evs.addEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>evs.addEventListener(type, onMessage));\n            return evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                es = eventSource;\n            }).catch((reason)=>{\n                observer.error(reason);\n                stop();\n            });\n        }\n        function stop() {\n            stopped = true;\n            unsubscribe();\n        }\n        return stop;\n    });\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) {\n        return err;\n    }\n    const evt = parseEvent(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    if (!err.error) {\n        return err.message || \"Unknown listener error\";\n    }\n    if (err.error.description) {\n        return err.error.description;\n    }\n    return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter)=>{\n    __accessCheck$3(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter)=>{\n    __accessCheck$3(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client$2, void 0);\n        __privateAdd$3(this, _httpRequest$3, void 0);\n        __privateSet$3(this, _client$2, client);\n        __privateSet$3(this, _httpRequest$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client2$2, void 0);\n        __privateAdd$3(this, _httpRequest2$3, void 0);\n        __privateSet$3(this, _client2$2, client);\n        __privateSet$3(this, _httpRequest2$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n    dataset(name);\n    return _request(client, httpRequest, {\n        method,\n        uri: \"/datasets/\".concat(name),\n        body: options,\n        tag: null\n    });\n}\nvar __accessCheck$2 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter)=>{\n    __accessCheck$2(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter)=>{\n    __accessCheck$2(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client$1, void 0);\n        __privateAdd$2(this, _httpRequest$2, void 0);\n        __privateSet$2(this, _client$1, client);\n        __privateSet$2(this, _httpRequest$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri: \"/projects/\".concat(projectId)\n        });\n    }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client2$1, void 0);\n        __privateAdd$2(this, _httpRequest2$2, void 0);\n        __privateSet$2(this, _client2$1, client);\n        __privateSet$2(this, _httpRequest2$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri: \"/projects/\".concat(projectId)\n        }));\n    }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter)=>{\n    __accessCheck$1(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter)=>{\n    __accessCheck$1(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client, void 0);\n        __privateAdd$1(this, _httpRequest$1, void 0);\n        __privateSet$1(this, _client, client);\n        __privateSet$1(this, _httpRequest$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n            uri: \"/users/\".concat(id)\n        });\n    }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client2, void 0);\n        __privateAdd$1(this, _httpRequest2$1, void 0);\n        __privateSet$1(this, _client2, client);\n        __privateSet$1(this, _httpRequest2$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n            uri: \"/users/\".concat(id)\n        }));\n    }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class _ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig, void 0);\n        __privateAdd(this, _httpRequest, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n        this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n        this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n        this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig)\n            };\n        }\n        if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return _fetch(this, __privateGet(this, _httpRequest), query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n    }\n    create(document, options) {\n        return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, __privateGet(this, _httpRequest), selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, __privateGet(this, _httpRequest), options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nconst _SanityClient = class _SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig2, void 0);\n        __privateAdd(this, _httpRequest2, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n        this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n        this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n        this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n        this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig2)\n            };\n        }\n        if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        if (this.observable) {\n            this.observable.config(newConfig);\n        }\n        __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _SanityClient(__privateGet(this, _httpRequest2), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_fetch(this, __privateGet(this, _httpRequest2), query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(this, __privateGet(this, _httpRequest2), options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const httpRequest = defineHttpRequest(envMiddleware, {});\n    const requester = httpRequest.defaultRequester;\n    const createClient = (config)=>new ClassConstructor(defineHttpRequest(envMiddleware, {\n            maxRetries: config.maxRetries,\n            retryDelay: config.retryDelay\n        }), config);\n    return {\n        requester,\n        createClient\n    };\n}\nvar envMiddleware = [];\n //# sourceMappingURL=browserMiddleware-eLzHI4Fk.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLWVMekhJNEZrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDNEQ7QUFDMUM7QUFDSjtBQUM3QyxNQUFNVSw2QkFBNkI7QUFDbkMsTUFBTUMsb0JBQW9CQztJQUN4QkMsWUFBWUMsR0FBRyxDQUFFO1FBQ2YsTUFBTUMsUUFBUUMsa0JBQWtCRjtRQUNoQyxLQUFLLENBQUNDLE1BQU1FLE9BQU87UUFDbkIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEJDLE9BQU9DLE1BQU0sQ0FBQyxJQUFJLEVBQUVMO0lBQ3RCO0FBQ0Y7QUFDQSxNQUFNTSxvQkFBb0JUO0lBQ3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGO1FBQ2hDLEtBQUssQ0FBQ0MsTUFBTUUsT0FBTztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQkMsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDdEI7QUFDRjtBQUNBLFNBQVNDLGtCQUFrQkYsR0FBRztJQUM1QixNQUFNUSxPQUFPUixJQUFJUSxJQUFJO0lBQ3JCLE1BQU1QLFFBQVE7UUFDWlEsVUFBVVQ7UUFDVkksWUFBWUosSUFBSUksVUFBVTtRQUMxQk0sY0FBY0MsY0FBY0gsTUFBTVI7UUFDbENHLFNBQVM7UUFDVFMsU0FBUyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0ssS0FBSyxJQUFJTCxLQUFLTCxPQUFPLEVBQUU7UUFDOUJGLE1BQU1FLE9BQU8sR0FBRyxHQUFHVyxNQUFNLENBQUNOLEtBQUtLLEtBQUssRUFBRSxPQUFPQyxNQUFNLENBQUNOLEtBQUtMLE9BQU87UUFDaEUsT0FBT0Y7SUFDVDtJQUNBLElBQUljLGdCQUFnQlAsT0FBTztRQUN6QixNQUFNUSxXQUFXUixLQUFLSyxLQUFLLENBQUNJLEtBQUssSUFBSSxFQUFFO1FBQ3ZD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YSxnQkFBZ0IsRUFBRTtBQUMyTixDQUNqUCxzREFBc0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtZUx6SEk0RmsuanM/MjAzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJdCB9IGZyb20gJ2dldC1pdCc7XG5pbXBvcnQgeyByZXRyeSwganNvblJlcXVlc3QsIGpzb25SZXNwb25zZSwgcHJvZ3Jlc3MsIG9ic2VydmFibGUgfSBmcm9tICdnZXQtaXQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBsYXN0VmFsdWVGcm9tIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmNvbnN0IE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFID0gNTtcbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDUwMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yUHJvcHMocmVzKSB7XG4gIGNvbnN0IGJvZHkgPSByZXMuYm9keTtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgcmVzcG9uc2U6IHJlcyxcbiAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUJvZHk6IHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGRldGFpbHM6IHZvaWQgMFxuICB9O1xuICBpZiAoYm9keS5lcnJvciAmJiBib2R5Lm1lc3NhZ2UpIHtcbiAgICBwcm9wcy5tZXNzYWdlID0gXCJcIi5jb25jYXQoYm9keS5lcnJvciwgXCIgLSBcIikuY29uY2F0KGJvZHkubWVzc2FnZSk7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIGlmIChpc011dGF0aW9uRXJyb3IoYm9keSkpIHtcbiAgICBjb25zdCBhbGxJdGVtcyA9IGJvZHkuZXJyb3IuaXRlbXMgfHwgW107XG4gICAgY29uc3QgaXRlbXMgPSBhbGxJdGVtcy5zbGljZSgwLCBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSkubWFwKGl0ZW0gPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIChfYSA9IGl0ZW0uZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZXNjcmlwdGlvbjtcbiAgICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gICAgbGV0IGl0ZW1zU3RyID0gaXRlbXMubGVuZ3RoID8gXCI6XFxuLSBcIi5jb25jYXQoaXRlbXMuam9pbihcIlxcbi0gXCIpKSA6IFwiXCI7XG4gICAgaWYgKGFsbEl0ZW1zLmxlbmd0aCA+IE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFKSB7XG4gICAgICBpdGVtc1N0ciArPSBcIlxcbi4uLmFuZCBcIi5jb25jYXQoYWxsSXRlbXMubGVuZ3RoIC0gTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UsIFwiIG1vcmVcIik7XG4gICAgfVxuICAgIHByb3BzLm1lc3NhZ2UgPSBcIlwiLmNvbmNhdChib2R5LmVycm9yLmRlc2NyaXB0aW9uKS5jb25jYXQoaXRlbXNTdHIpO1xuICAgIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuICBpZiAoYm9keS5lcnJvciAmJiBib2R5LmVycm9yLmRlc2NyaXB0aW9uKSB7XG4gICAgcHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IuZGVzY3JpcHRpb247XG4gICAgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3I7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yIHx8IGJvZHkubWVzc2FnZSB8fCBodHRwRXJyb3JNZXNzYWdlKHJlcyk7XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGlzTXV0YXRpb25FcnJvcihib2R5KSB7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KGJvZHkpICYmIGlzUGxhaW5PYmplY3QoYm9keS5lcnJvcikgJiYgYm9keS5lcnJvci50eXBlID09PSBcIm11dGF0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xufVxuZnVuY3Rpb24gaHR0cEVycm9yTWVzc2FnZShyZXMpIHtcbiAgY29uc3Qgc3RhdHVzTWVzc2FnZSA9IHJlcy5zdGF0dXNNZXNzYWdlID8gXCIgXCIuY29uY2F0KHJlcy5zdGF0dXNNZXNzYWdlKSA6IFwiXCI7XG4gIHJldHVybiBcIlwiLmNvbmNhdChyZXMubWV0aG9kLCBcIi1yZXF1ZXN0IHRvIFwiKS5jb25jYXQocmVzLnVybCwgXCIgcmVzdWx0ZWQgaW4gSFRUUCBcIikuY29uY2F0KHJlcy5zdGF0dXNDb2RlKS5jb25jYXQoc3RhdHVzTWVzc2FnZSk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcykge1xuICBjb25zdCBjb250ZW50VHlwZSA9IChyZXMuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBpc0pzb24gPSBjb250ZW50VHlwZS5pbmRleE9mKFwiYXBwbGljYXRpb24vanNvblwiKSAhPT0gLTE7XG4gIHJldHVybiBpc0pzb24gPyBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSA6IGJvZHk7XG59XG5jb25zdCBodHRwRXJyb3IgPSB7XG4gIG9uUmVzcG9uc2U6IHJlcyA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMCkge1xuICAgICAgdGhyb3cgbmV3IFNlcnZlckVycm9yKHJlcyk7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIHRocm93IG5ldyBDbGllbnRFcnJvcihyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuY29uc3QgcHJpbnRXYXJuaW5ncyA9IHtcbiAgb25SZXNwb25zZTogcmVzID0+IHtcbiAgICBjb25zdCB3YXJuID0gcmVzLmhlYWRlcnNbXCJ4LXNhbml0eS13YXJuaW5nXCJdO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gQXJyYXkuaXNBcnJheSh3YXJuKSA/IHdhcm4gOiBbd2Fybl07XG4gICAgd2FybmluZ3MuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2gobXNnID0+IGNvbnNvbGUud2Fybihtc2cpKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuZnVuY3Rpb24gZGVmaW5lSHR0cFJlcXVlc3QoZW52TWlkZGxld2FyZSwgX3JlZikge1xuICBsZXQge1xuICAgIG1heFJldHJpZXMgPSA1LFxuICAgIHJldHJ5RGVsYXlcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRJdChbbWF4UmV0cmllcyA+IDAgPyByZXRyeSh7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXRyeURlbGF5LFxuICAgIC8vIFRoaXMgb3B0aW9uIGlzIHR5cGVkIGluY29ycmVjdGx5IGluIGdldC1pdC5cbiAgICBtYXhSZXRyaWVzLFxuICAgIHNob3VsZFJldHJ5XG4gIH0pIDoge30sIC4uLmVudk1pZGRsZXdhcmUsIHByaW50V2FybmluZ3MsIGpzb25SZXF1ZXN0KCksIGpzb25SZXNwb25zZSgpLCBwcm9ncmVzcygpLCBodHRwRXJyb3IsIG9ic2VydmFibGUoe1xuICAgIGltcGxlbWVudGF0aW9uOiBPYnNlcnZhYmxlXG4gIH0pXSk7XG4gIGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICBsZXQgcmVxdWVzdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiByZXF1ZXN0O1xuICAgIHJldHVybiByZXF1ZXN0ZXIoe1xuICAgICAgbWF4UmVkaXJlY3RzOiAwLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICB9XG4gIGh0dHBSZXF1ZXN0LmRlZmF1bHRSZXF1ZXN0ZXIgPSByZXF1ZXN0O1xuICByZXR1cm4gaHR0cFJlcXVlc3Q7XG59XG5mdW5jdGlvbiBzaG91bGRSZXRyeShlcnIsIGF0dGVtcHQsIG9wdGlvbnMpIHtcbiAgY29uc3QgaXNTYWZlID0gb3B0aW9ucy5tZXRob2QgPT09IFwiR0VUXCIgfHwgb3B0aW9ucy5tZXRob2QgPT09IFwiSEVBRFwiO1xuICBjb25zdCB1cmkgPSBvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybDtcbiAgY29uc3QgaXNRdWVyeSA9IHVyaS5zdGFydHNXaXRoKFwiL2RhdGEvcXVlcnlcIik7XG4gIGNvbnN0IGlzUmV0cmlhYmxlUmVzcG9uc2UgPSBlcnIucmVzcG9uc2UgJiYgKGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MjkgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMiB8fCBlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNTAzKTtcbiAgaWYgKChpc1NhZmUgfHwgaXNRdWVyeSkgJiYgaXNSZXRyaWFibGVSZXNwb25zZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiByZXRyeS5zaG91bGRSZXRyeShlcnIsIGF0dGVtcHQsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHNlbCkge1xuICBpZiAodHlwZW9mIHNlbCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHNlbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHNlbFxuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWwgPT09IFwib2JqZWN0XCIgJiYgc2VsICE9PSBudWxsICYmIFwicXVlcnlcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5xdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBcInBhcmFtc1wiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnBhcmFtcyA9PT0gXCJvYmplY3RcIiAmJiBzZWwucGFyYW1zICE9PSBudWxsID8ge1xuICAgICAgcXVlcnk6IHNlbC5xdWVyeSxcbiAgICAgIHBhcmFtczogc2VsLnBhcmFtc1xuICAgIH0gOiB7XG4gICAgICBxdWVyeTogc2VsLnF1ZXJ5XG4gICAgfTtcbiAgfVxuICBjb25zdCBzZWxlY3Rpb25PcHRzID0gW1wiKiBEb2N1bWVudCBJRCAoPGRvY0lkPilcIiwgXCIqIEFycmF5IG9mIGRvY3VtZW50IElEc1wiLCBcIiogT2JqZWN0IGNvbnRhaW5pbmcgYHF1ZXJ5YFwiXS5qb2luKFwiXFxuXCIpO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHNlbGVjdGlvbiAtIG11c3QgYmUgb25lIG9mOlxcblxcblwiLmNvbmNhdChzZWxlY3Rpb25PcHRzKSk7XG59XG5jb25zdCBWQUxJRF9BU1NFVF9UWVBFUyA9IFtcImltYWdlXCIsIFwiZmlsZVwiXTtcbmNvbnN0IFZBTElEX0lOU0VSVF9MT0NBVElPTlMgPSBbXCJiZWZvcmVcIiwgXCJhZnRlclwiLCBcInJlcGxhY2VcIl07XG5jb25zdCBkYXRhc2V0ID0gbmFtZSA9PiB7XG4gIGlmICghL14oflthLXowLTldezF9Wy1cXHddezAsNjN9fFthLXowLTldezF9Wy1cXHddezAsNjN9KSQvLnRlc3QobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhc2V0cyBjYW4gb25seSBjb250YWluIGxvd2VyY2FzZSBjaGFyYWN0ZXJzLCBudW1iZXJzLCB1bmRlcnNjb3JlcyBhbmQgZGFzaGVzLCBhbmQgc3RhcnQgd2l0aCB0aWxkZSwgYW5kIGJlIG1heGltdW0gNjQgY2hhcmFjdGVyc1wiKTtcbiAgfVxufTtcbmNvbnN0IHByb2plY3RJZCA9IGlkID0+IHtcbiAgaWYgKCEvXlstYS16MC05XSskL2kudGVzdChpZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgcHJvamVjdElkYCBjYW4gb25seSBjb250YWluIG9ubHkgYS16LCAwLTkgYW5kIGRhc2hlc1wiKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQXNzZXRUeXBlID0gdHlwZSA9PiB7XG4gIGlmIChWQUxJRF9BU1NFVF9UWVBFUy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXNzZXQgdHlwZTogXCIuY29uY2F0KHR5cGUsIFwiLiBNdXN0IGJlIG9uZSBvZiBcIikuY29uY2F0KFZBTElEX0FTU0VUX1RZUEVTLmpvaW4oXCIsIFwiKSkpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVPYmplY3QgPSAob3AsIHZhbCkgPT4ge1xuICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG9wLCBcIigpIHRha2VzIGFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXCIpKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlRG9jdW1lbnRJZCA9IChvcCwgaWQpID0+IHtcbiAgaWYgKHR5cGVvZiBpZCAhPT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05X11bYS16MC05Xy4tXXswLDEyN30kL2kudGVzdChpZCkgfHwgaWQuaW5jbHVkZXMoXCIuLlwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvcCwgJygpOiBcIicpLmNvbmNhdChpZCwgJ1wiIGlzIG5vdCBhIHZhbGlkIGRvY3VtZW50IElEJykpO1xuICB9XG59O1xuY29uc3QgcmVxdWlyZURvY3VtZW50SWQgPSAob3AsIGRvYykgPT4ge1xuICBpZiAoIWRvYy5faWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQob3AsICcoKSByZXF1aXJlcyB0aGF0IHRoZSBkb2N1bWVudCBjb250YWlucyBhbiBJRCAoXCJfaWRcIiBwcm9wZXJ0eSknKSk7XG4gIH1cbiAgdmFsaWRhdGVEb2N1bWVudElkKG9wLCBkb2MuX2lkKTtcbn07XG5jb25zdCB2YWxpZGF0ZUluc2VydCA9IChhdCwgc2VsZWN0b3IsIGl0ZW1zKSA9PiB7XG4gIGNvbnN0IHNpZ25hdHVyZSA9IFwiaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpXCI7XG4gIGlmIChWQUxJRF9JTlNFUlRfTE9DQVRJT05TLmluZGV4T2YoYXQpID09PSAtMSkge1xuICAgIGNvbnN0IHZhbGlkID0gVkFMSURfSU5TRVJUX0xPQ0FUSU9OUy5tYXAobG9jID0+ICdcIicuY29uY2F0KGxvYywgJ1wiJykpLmpvaW4oXCIsIFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoc2lnbmF0dXJlLCAnIHRha2VzIGFuIFwiYXRcIi1hcmd1bWVudCB3aGljaCBpcyBvbmUgb2Y6ICcpLmNvbmNhdCh2YWxpZCkpO1xuICB9XG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoc2lnbmF0dXJlLCAnIHRha2VzIGEgXCJzZWxlY3RvclwiLWFyZ3VtZW50IHdoaWNoIG11c3QgYmUgYSBzdHJpbmcnKSk7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChzaWduYXR1cmUsICcgdGFrZXMgYW4gXCJpdGVtc1wiLWFyZ3VtZW50IHdoaWNoIG11c3QgYmUgYW4gYXJyYXknKSk7XG4gIH1cbn07XG5jb25zdCBoYXNEYXRhc2V0ID0gY29uZmlnID0+IHtcbiAgaWYgKCFjb25maWcuZGF0YXNldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhc2V0YCBtdXN0IGJlIHByb3ZpZGVkIHRvIHBlcmZvcm0gcXVlcmllc1wiKTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmRhdGFzZXQgfHwgXCJcIjtcbn07XG5jb25zdCByZXF1ZXN0VGFnID0gdGFnID0+IHtcbiAgaWYgKHR5cGVvZiB0YWcgIT09IFwic3RyaW5nXCIgfHwgIS9eW2EtejAtOS5fLV17MSw3NX0kL2kudGVzdCh0YWcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGFnIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIHVuZGVyc2NvcmVzLCBkYXNoZXMgYW5kIGRvdHMsIGFuZCBiZSBiZXR3ZWVuIG9uZSBhbmQgNzUgY2hhcmFjdGVycyBsb25nLlwiKTtcbiAgfVxuICByZXR1cm4gdGFnO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrJDYgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDYgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDYob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkNiA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ2ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNihvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQ1LCBfY2xpZW50MiQ1O1xuY2xhc3MgQmFzZVBhdGNoIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uKSB7XG4gICAgbGV0IG9wZXJhdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50LiBEb2VzIE5PVCBtZXJnZSBvYmplY3RzLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gc2V0LiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJ2YWx1ZVwiXFx9XG4gICAqL1xuICBzZXQoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwic2V0XCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQgaWYgdGhleSBhcmUgbm90IGN1cnJlbnRseSBzZXQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldElmTWlzc2luZyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRJZk1pc3NpbmdcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIFwiZGlmZi1tYXRjaC1wYXRjaFwiIG9wZXJhdGlvbiBvbiB0aGUgc3RyaW5nIGF0dHJpYnV0ZXMgcHJvdmlkZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBwZXJmb3JtIG9wZXJhdGlvbiBvbi4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwiZG1wXCJcXH1cbiAgICovXG4gIGRpZmZNYXRjaFBhdGNoKGF0dHJzKSB7XG4gICAgdmFsaWRhdGVPYmplY3QoXCJkaWZmTWF0Y2hQYXRjaFwiLCBhdHRycyk7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogVW5zZXRzIHRoZSBhdHRyaWJ1dGUgcGF0aHMgcHJvdmlkZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlIHBhdGhzIHRvIHVuc2V0LlxuICAgKi9cbiAgdW5zZXQoYXR0cnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXR0cnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnNldChhdHRycykgdGFrZXMgYW4gYXJyYXkgb2YgYXR0cmlidXRlcyB0byB1bnNldCwgbm9uLWFycmF5IGdpdmVuXCIpO1xuICAgIH1cbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wZXJhdGlvbnMsIHtcbiAgICAgIHVuc2V0OiBhdHRyc1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBJbmNyZW1lbnQgYSBudW1lcmljIHZhbHVlLiBFYWNoIGVudHJ5IGluIHRoZSBhcmd1bWVudCBpcyBlaXRoZXIgYW4gYXR0cmlidXRlIG9yIGEgSlNPTiBwYXRoLiBUaGUgdmFsdWUgbWF5IGJlIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS4gVGhlIG9wZXJhdGlvbiB3aWxsIGZhaWwgaWYgdGFyZ2V0IHZhbHVlIGlzIG5vdCBhIG51bWVyaWMgdmFsdWUsIG9yIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIE9iamVjdCBvZiBhdHRyaWJ1dGUgcGF0aHMgdG8gaW5jcmVtZW50LCB2YWx1ZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgdG8gaW5jcmVtZW50IGJ5LlxuICAgKi9cbiAgaW5jKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImluY1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIERlY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBkZWNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBkZWNyZW1lbnQgYnkuXG4gICAqL1xuICBkZWMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGVjXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUHJvdmlkZXMgbWV0aG9kcyBmb3IgbW9kaWZ5aW5nIGFycmF5cywgYnkgaW5zZXJ0aW5nLCBhcHBlbmRpbmcgYW5kIHJlcGxhY2luZyBlbGVtZW50cyB2aWEgYSBKU09OUGF0aCBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYXQgLSBMb2NhdGlvbiB0byBpbnNlcnQgYXQsIHJlbGF0aXZlIHRvIHRoZSBnaXZlbiBzZWxlY3Rvciwgb3IgJ3JlcGxhY2UnIHRoZSBtYXRjaGVkIHBhdGhcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gSlNPTlBhdGggZXhwcmVzc2lvbiwgZWcgYGNvbW1lbnRzWy0xXWAgb3IgYGJsb2Nrc1tfa2V5PT1cImFiYzEyM1wiXWBcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gaW5zZXJ0L3JlcGxhY2VcbiAgICovXG4gIGluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgdmFsaWRhdGVJbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcyk7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImluc2VydFwiLCB7XG4gICAgICBbYXRdOiBzZWxlY3RvcixcbiAgICAgIGl0ZW1zXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBhcHBlbmQgdG8sIGVnIGBjb21tZW50c2Agb3IgYHBlcnNvbi5ob2JiaWVzYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBhcHBlbmQgdG8gdGhlIGFycmF5XG4gICAqL1xuICBhcHBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYWZ0ZXJcIiwgXCJcIi5jb25jYXQoc2VsZWN0b3IsIFwiWy0xXVwiKSwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBQcmVwZW5kIHRoZSBnaXZlbiBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGdpdmVuIEpTT05QYXRoXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZS9wYXRoIHRvIHByZXBlbmQgdG8sIGVnIGBjb21tZW50c2Agb3IgYHBlcnNvbi5ob2JiaWVzYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBwcmVwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgcHJlcGVuZChzZWxlY3RvciwgaXRlbXMpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJiZWZvcmVcIiwgXCJcIi5jb25jYXQoc2VsZWN0b3IsIFwiWzBdXCIpLCBpdGVtcyk7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgY29udGVudHMgb2YgYW4gYXJyYXkgYnkgcmVtb3ZpbmcgZXhpc3RpbmcgZWxlbWVudHMgYW5kL29yIGFkZGluZyBuZXcgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZSBvciBKU09OUGF0aCBleHByZXNzaW9uIGZvciBhcnJheVxuICAgKiBAcGFyYW0gc3RhcnQgLSBJbmRleCBhdCB3aGljaCB0byBzdGFydCBjaGFuZ2luZyB0aGUgYXJyYXkgKHdpdGggb3JpZ2luIDApLiBJZiBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXksIGFjdHVhbCBzdGFydGluZyBpbmRleCB3aWxsIGJlIHNldCB0byB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheS4gSWYgbmVnYXRpdmUsIHdpbGwgYmVnaW4gdGhhdCBtYW55IGVsZW1lbnRzIGZyb20gdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHdpdGggb3JpZ2luIC0xKSBhbmQgd2lsbCBiZSBzZXQgdG8gMCBpZiBhYnNvbHV0ZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkueFxuICAgKiBAcGFyYW0gZGVsZXRlQ291bnQgLSBBbiBpbnRlZ2VyIGluZGljYXRpbmcgdGhlIG51bWJlciBvZiBvbGQgYXJyYXkgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgKiBAcGFyYW0gaXRlbXMgLSBUaGUgZWxlbWVudHMgdG8gYWRkIHRvIHRoZSBhcnJheSwgYmVnaW5uaW5nIGF0IHRoZSBzdGFydCBpbmRleC4gSWYgeW91IGRvbid0IHNwZWNpZnkgYW55IGVsZW1lbnRzLCBzcGxpY2UoKSB3aWxsIG9ubHkgcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGFycmF5LlxuICAgKi9cbiAgc3BsaWNlKHNlbGVjdG9yLCBzdGFydCwgZGVsZXRlQ291bnQsIGl0ZW1zKSB7XG4gICAgY29uc3QgZGVsQWxsID0gdHlwZW9mIGRlbGV0ZUNvdW50ID09PSBcInVuZGVmaW5lZFwiIHx8IGRlbGV0ZUNvdW50ID09PSAtMTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gc3RhcnQgPCAwID8gc3RhcnQgLSAxIDogc3RhcnQ7XG4gICAgY29uc3QgZGVsQ291bnQgPSBkZWxBbGwgPyAtMSA6IE1hdGgubWF4KDAsIHN0YXJ0ICsgZGVsZXRlQ291bnQpO1xuICAgIGNvbnN0IGRlbFJhbmdlID0gc3RhcnRJbmRleCA8IDAgJiYgZGVsQ291bnQgPj0gMCA/IFwiXCIgOiBkZWxDb3VudDtcbiAgICBjb25zdCByYW5nZVNlbGVjdG9yID0gXCJcIi5jb25jYXQoc2VsZWN0b3IsIFwiW1wiKS5jb25jYXQoc3RhcnRJbmRleCwgXCI6XCIpLmNvbmNhdChkZWxSYW5nZSwgXCJdXCIpO1xuICAgIHJldHVybiB0aGlzLmluc2VydChcInJlcGxhY2VcIiwgcmFuZ2VTZWxlY3RvciwgaXRlbXMgfHwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgcmV2aXNpb24gY2xhdXNlLCBwcmV2ZW50aW5nIHRoZSBkb2N1bWVudCBmcm9tIGJlaW5nIHBhdGNoZWQgaWYgdGhlIGBfcmV2YCBwcm9wZXJ0eSBkb2VzIG5vdCBtYXRjaCB0aGUgZ2l2ZW4gdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHJldiAtIFJldmlzaW9uIHRvIGxvY2sgdGhlIHBhdGNoIHRvXG4gICAqL1xuICBpZlJldmlzaW9uSWQocmV2KSB7XG4gICAgdGhpcy5vcGVyYXRpb25zLmlmUmV2aXNpb25JRCA9IHJldjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0Y2hcbiAgICovXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZ2V0U2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9uKSxcbiAgICAgIC4uLnRoaXMub3BlcmF0aW9uc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcGF0Y2ggb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9hc3NpZ24ob3AsIHByb3BzKSB7XG4gICAgbGV0IG1lcmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlO1xuICAgIHZhbGlkYXRlT2JqZWN0KG9wLCBwcm9wcyk7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcGVyYXRpb25zLCB7XG4gICAgICBbb3BdOiBPYmplY3QuYXNzaWduKHt9LCBtZXJnZSAmJiB0aGlzLm9wZXJhdGlvbnNbb3BdIHx8IHt9LCBwcm9wcylcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfc2V0KG9wLCBwcm9wcykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24ob3AsIHByb3BzLCBmYWxzZSk7XG4gIH1cbn1cbmNvbnN0IF9PYnNlcnZhYmxlUGF0Y2ggPSBjbGFzcyBfT2JzZXJ2YWJsZVBhdGNoIGV4dGVuZHMgQmFzZVBhdGNoIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zLCBjbGllbnQpIHtcbiAgICBzdXBlcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMpO1xuICAgIF9fcHJpdmF0ZUFkZCQ2KHRoaXMsIF9jbGllbnQkNSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNih0aGlzLCBfY2xpZW50JDUsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVQYXRjaCh0aGlzLnNlbGVjdGlvbiwge1xuICAgICAgLi4udGhpcy5vcGVyYXRpb25zXG4gICAgfSwgX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KSk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGBjbGllbnRgIHBhc3NlZCB0byBwYXRjaCwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHBhdGNoIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmV0dXJuRmlyc3QgPSB0eXBlb2YgdGhpcy5zZWxlY3Rpb24gPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcmV0dXJuRmlyc3QsXG4gICAgICByZXR1cm5Eb2N1bWVudHM6IHRydWVcbiAgICB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KS5tdXRhdGUoe1xuICAgICAgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKClcbiAgICB9LCBvcHRzKTtcbiAgfVxufTtcbl9jbGllbnQkNSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVBhdGNoID0gX09ic2VydmFibGVQYXRjaDtcbmNvbnN0IF9QYXRjaCA9IGNsYXNzIF9QYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50MiQ1LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ2KHRoaXMsIF9jbGllbnQyJDUsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1BhdGNoKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAuLi50aGlzLm9wZXJhdGlvbnNcbiAgICB9LCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ1KSk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIik7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJldHVybkZpcnN0LFxuICAgICAgcmV0dXJuRG9jdW1lbnRzOiB0cnVlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDUpLm11dGF0ZSh7XG4gICAgICBwYXRjaDogdGhpcy5zZXJpYWxpemUoKVxuICAgIH0sIG9wdHMpO1xuICB9XG59O1xuX2NsaWVudDIkNSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgUGF0Y2ggPSBfUGF0Y2g7XG52YXIgX19hY2Nlc3NDaGVjayQ1ID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ1ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ1KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDUgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNSA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDUob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkNCwgX2NsaWVudDIkNDtcbmNvbnN0IGRlZmF1bHRNdXRhdGVPcHRpb25zID0ge1xuICByZXR1cm5Eb2N1bWVudHM6IGZhbHNlXG59O1xuY2xhc3MgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wZXJhdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgIGxldCB0cmFuc2FjdGlvbklkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucztcbiAgICB0aGlzLnRyeElkID0gdHJhbnNhY3Rpb25JZDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQuIElmIGBfaWRgIGlzIHByb3ZpZGVkIGFuZCBhbHJlYWR5IGV4aXN0cywgdGhlIG11dGF0aW9uIHdpbGwgZmFpbC4gSWYgbm8gYF9pZGAgaXMgZ2l2ZW4sIG9uZSB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBkYXRhYmFzZS5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlLiBSZXF1aXJlcyBhIGBfdHlwZWAgcHJvcGVydHkuXG4gICAqL1xuICBjcmVhdGUoZG9jKSB7XG4gICAgdmFsaWRhdGVPYmplY3QoXCJjcmVhdGVcIiwgZG9jKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIGNyZWF0ZTogZG9jXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBhIGRvY3VtZW50IHdpdGggdGhlIHNhbWUgYF9pZGAgYWxyZWFkeSBleGlzdHMsIHRoZSBjcmVhdGUgb3BlcmF0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3QuIFJlcXVpcmVzIGBfaWRgIGFuZCBgX3R5cGVgIHByb3BlcnRpZXMuXG4gICAqL1xuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2MpIHtcbiAgICBjb25zdCBvcCA9IFwiY3JlYXRlSWZOb3RFeGlzdHNcIjtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKTtcbiAgICByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIFtvcF06IGRvY1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudCwgb3IgcmVwbGFjZXMgYW4gZXhpc3Rpbmcgb25lIGlmIHRoZSBzYW1lIGBfaWRgIGlzIGFscmVhZHkgdXNlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlIG9yIHJlcGxhY2UuIFJlcXVpcmVzIGBfaWRgIGFuZCBgX3R5cGVgIHByb3BlcnRpZXMuXG4gICAqL1xuICBjcmVhdGVPclJlcGxhY2UoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZU9yUmVwbGFjZVwiO1xuICAgIHZhbGlkYXRlT2JqZWN0KG9wLCBkb2MpO1xuICAgIHJlcXVpcmVEb2N1bWVudElkKG9wLCBkb2MpO1xuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgW29wXTogZG9jXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGRvY3VtZW50IElEXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShkb2N1bWVudElkKSB7XG4gICAgdmFsaWRhdGVEb2N1bWVudElkKFwiZGVsZXRlXCIsIGRvY3VtZW50SWQpO1xuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgZGVsZXRlOiB7XG4gICAgICAgIGlkOiBkb2N1bWVudElkXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdHJhbnNhY3Rpb25JZChpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyeElkO1xuICAgIH1cbiAgICB0aGlzLnRyeElkID0gaWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLm9wZXJhdGlvbnNdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHRyYW5zYWN0aW9uIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfYWRkKG11dCkge1xuICAgIHRoaXMub3BlcmF0aW9ucy5wdXNoKG11dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbmNvbnN0IF9UcmFuc2FjdGlvbiA9IGNsYXNzIF9UcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpO1xuICAgIF9fcHJpdmF0ZUFkZCQ1KHRoaXMsIF9jbGllbnQkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50JDQsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1RyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHRyYW5zYWN0aW9uLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgdHJhbnNhY3Rpb24gdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KS5tdXRhdGUodGhpcy5zZXJpYWxpemUoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICB0cmFuc2FjdGlvbklkOiB0aGlzLnRyeElkXG4gICAgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCBpc1BhdGNoID0gdHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9PSBcInN0cmluZ1wiICYmIHBhdGNoT3JEb2N1bWVudElkIGluc3RhbmNlb2YgUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgICBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNCdWlsZGVyKSB7XG4gICAgICBjb25zdCBwYXRjaCA9IHBhdGNoT3BzKG5ldyBQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQkNCkpKTtcbiAgICAgIGlmICghKHBhdGNoIGluc3RhbmNlb2YgUGF0Y2gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIHBhc3NlZCB0byBgcGF0Y2goKWAgbXVzdCByZXR1cm4gdGhlIHBhdGNoXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICAgIHBhdGNoOiBwYXRjaC5zZXJpYWxpemUoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgcGF0Y2g6IHtcbiAgICAgICAgaWQ6IHBhdGNoT3JEb2N1bWVudElkLFxuICAgICAgICAuLi5wYXRjaE9wc1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX2NsaWVudCQ0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBUcmFuc2FjdGlvbiA9IF9UcmFuc2FjdGlvbjtcbmNvbnN0IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBjbGFzcyBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucywgY2xpZW50LCB0cmFuc2FjdGlvbklkKSB7XG4gICAgc3VwZXIob3BlcmF0aW9ucywgdHJhbnNhY3Rpb25JZCk7XG4gICAgX19wcml2YXRlQWRkJDUodGhpcywgX2NsaWVudDIkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50MiQ0LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLm11dGF0ZSh0aGlzLnNlcmlhbGl6ZSgpLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWRcbiAgICB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSkpO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGNvbnN0IGlzUGF0Y2ggPSB0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT09IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgICBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNCdWlsZGVyKSB7XG4gICAgICBjb25zdCBwYXRjaCA9IHBhdGNoT3BzKG5ldyBPYnNlcnZhYmxlUGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHt9LCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50MiQ0KSkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIHBhc3NlZCB0byBgcGF0Y2goKWAgbXVzdCByZXR1cm4gdGhlIHBhdGNoXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICAgIHBhdGNoOiBwYXRjaC5zZXJpYWxpemUoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgcGF0Y2g6IHtcbiAgICAgICAgaWQ6IHBhdGNoT3JEb2N1bWVudElkLFxuICAgICAgICAuLi5wYXRjaE9wc1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX2NsaWVudDIkNCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gX09ic2VydmFibGVUcmFuc2FjdGlvbjtcbmNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL3d3dy5zYW5pdHkuaW8vaGVscC9cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlSGVscFVybChzbHVnKSB7XG4gIHJldHVybiBCQVNFX1VSTCArIHNsdWc7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gIGxldCBkaWRDYWxsID0gZmFsc2U7XG4gIGxldCByZXR1cm5WYWx1ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGlkQ2FsbCkge1xuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZSA9IGZuKC4uLmFyZ3VtZW50cyk7XG4gICAgZGlkQ2FsbCA9IHRydWU7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9O1xufVxuY29uc3QgY3JlYXRlV2FybmluZ1ByaW50ZXIgPSBtZXNzYWdlID0+XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxub25jZShmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cbiAgcmV0dXJuIGNvbnNvbGUud2FybihtZXNzYWdlLmpvaW4oXCIgXCIpLCAuLi5hcmdzKTtcbn0pO1xuY29uc3QgcHJpbnRDZG5XYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1wiU2luY2UgeW91IGhhdmVuJ3Qgc2V0IGEgdmFsdWUgZm9yIGB1c2VDZG5gLCB3ZSB3aWxsIGRlbGl2ZXIgY29udGVudCB1c2luZyBvdXJcIiwgXCJnbG9iYWwsIGVkZ2UtY2FjaGVkIEFQSS1DRE4uIElmIHlvdSB3aXNoIHRvIGhhdmUgY29udGVudCBkZWxpdmVyZWQgZmFzdGVyLCBzZXRcIiwgXCJgdXNlQ2RuOiBmYWxzZWAgdG8gdXNlIHRoZSBMaXZlIEFQSS4gTm90ZTogWW91IG1heSBpbmN1ciBoaWdoZXIgY29zdHMgdXNpbmcgdGhlIGxpdmUgQVBJLlwiXSk7XG5jb25zdCBwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1wiVGhlIFNhbml0eSBjbGllbnQgaXMgY29uZmlndXJlZCB3aXRoIHRoZSBgcGVyc3BlY3RpdmVgIHNldCB0byBgcHJldmlld0RyYWZ0c2AsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQVBJLUNETi5cIiwgXCJUaGUgTGl2ZSBBUEkgd2lsbCBiZSB1c2VkIGluc3RlYWQuIFNldCBgdXNlQ2RuOiBmYWxzZWAgaW4geW91ciBjb25maWd1cmF0aW9uIHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiXSk7XG5jb25zdCBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXCJZb3UgaGF2ZSBjb25maWd1cmVkIFNhbml0eSBjbGllbnQgdG8gdXNlIGEgdG9rZW4gaW4gdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGNhdXNlIHVuaW50ZW50aW9uYWwgc2VjdXJpdHkgaXNzdWVzLlwiLCBcIlNlZSBcIi5jb25jYXQoZ2VuZXJhdGVIZWxwVXJsKFwianMtY2xpZW50LWJyb3dzZXItdG9rZW5cIiksIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBob3cgdG8gaGlkZSB0aGlzIHdhcm5pbmcuXCIpXSk7XG5jb25zdCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXCJVc2luZyB0aGUgU2FuaXR5IGNsaWVudCB3aXRob3V0IHNwZWNpZnlpbmcgYW4gQVBJIHZlcnNpb24gaXMgZGVwcmVjYXRlZC5cIiwgXCJTZWUgXCIuY29uY2F0KGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1hcGktdmVyc2lvblwiKSldKTtcbmNvbnN0IHByaW50Tm9EZWZhdWx0RXhwb3J0ID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1wiVGhlIGRlZmF1bHQgZXhwb3J0IG9mIEBzYW5pdHkvY2xpZW50IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgbmFtZWQgZXhwb3J0IGBjcmVhdGVDbGllbnRgIGluc3RlYWQuXCJdKTtcbmNvbnN0IGRlZmF1bHRDZG5Ib3N0ID0gXCJhcGljZG4uc2FuaXR5LmlvXCI7XG5jb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICBhcGlIb3N0OiBcImh0dHBzOi8vYXBpLnNhbml0eS5pb1wiLFxuICBhcGlWZXJzaW9uOiBcIjFcIixcbiAgdXNlUHJvamVjdEhvc3RuYW1lOiB0cnVlXG59O1xuY29uc3QgTE9DQUxIT1NUUyA9IFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiLCBcIjAuMC4wLjBcIl07XG5jb25zdCBpc0xvY2FsID0gaG9zdCA9PiBMT0NBTEhPU1RTLmluZGV4T2YoaG9zdCkgIT09IC0xO1xuY29uc3QgdmFsaWRhdGVBcGlWZXJzaW9uID0gZnVuY3Rpb24gdmFsaWRhdGVBcGlWZXJzaW9uMihhcGlWZXJzaW9uKSB7XG4gIGlmIChhcGlWZXJzaW9uID09PSBcIjFcIiB8fCBhcGlWZXJzaW9uID09PSBcIlhcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBhcGlEYXRlID0gbmV3IERhdGUoYXBpVmVyc2lvbik7XG4gIGNvbnN0IGFwaVZlcnNpb25WYWxpZCA9IC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLy50ZXN0KGFwaVZlcnNpb24pICYmIGFwaURhdGUgaW5zdGFuY2VvZiBEYXRlICYmIGFwaURhdGUuZ2V0VGltZSgpID4gMDtcbiAgaWYgKCFhcGlWZXJzaW9uVmFsaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEFQSSB2ZXJzaW9uIHN0cmluZywgZXhwZWN0ZWQgYDFgIG9yIGRhdGUgaW4gZm9ybWF0IGBZWVlZLU1NLUREYFwiKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlMihwZXJzcGVjdGl2ZSkge1xuICBzd2l0Y2ggKHBlcnNwZWN0aXZlKSB7XG4gICAgY2FzZSBcInByZXZpZXdEcmFmdHNcIjpcbiAgICBjYXNlIFwicHVibGlzaGVkXCI6XG4gICAgY2FzZSBcInJhd1wiOlxuICAgICAgcmV0dXJuO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBBUEkgcGVyc3BlY3RpdmUgc3RyaW5nLCBleHBlY3RlZCBgcHVibGlzaGVkYCwgYHByZXZpZXdEcmFmdHNgIG9yIGByYXdgXCIpO1xuICB9XG59O1xuY29uc3QgaW5pdENvbmZpZyA9IChjb25maWcsIHByZXZDb25maWcpID0+IHtcbiAgY29uc3Qgc3BlY2lmaWVkQ29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgcHJldkNvbmZpZywgY29uZmlnKTtcbiAgaWYgKCFzcGVjaWZpZWRDb25maWcuYXBpVmVyc2lvbikge1xuICAgIHByaW50Tm9BcGlWZXJzaW9uU3BlY2lmaWVkV2FybmluZygpO1xuICB9XG4gIGNvbnN0IG5ld0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWcsIHNwZWNpZmllZENvbmZpZyk7XG4gIGNvbnN0IHByb2plY3RCYXNlZCA9IG5ld0NvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWU7XG4gIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IGhlbHBVcmwgPSBnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtcHJvbWlzZS1wb2x5ZmlsbFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBuYXRpdmUgUHJvbWlzZS1pbXBsZW1lbnRhdGlvbiBmb3VuZCwgcG9seWZpbGwgbmVlZGVkIC0gc2VlIFwiLmNvbmNhdChoZWxwVXJsKSk7XG4gIH1cbiAgaWYgKHByb2plY3RCYXNlZCAmJiAhbmV3Q29uZmlnLnByb2plY3RJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbmZpZ3VyYXRpb24gbXVzdCBjb250YWluIGBwcm9qZWN0SWRgXCIpO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3Q29uZmlnLnBlcnNwZWN0aXZlID09PSBcInN0cmluZ1wiKSB7XG4gICAgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZShuZXdDb25maWcucGVyc3BlY3RpdmUpO1xuICB9XG4gIGlmIChcImVuY29kZVNvdXJjZU1hcEF0UGF0aFwiIGluIG5ld0NvbmZpZyB8fCBcImVuY29kZVNvdXJjZU1hcFwiIGluIG5ld0NvbmZpZyB8fCBcInN0dWRpb1VybFwiIGluIG5ld0NvbmZpZyB8fCBcImxvZ2dlclwiIGluIG5ld0NvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L3ByZXZpZXcta2l0L2NsaWVudCcsIHN1Y2ggYXMgJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcsICdlbmNvZGVTb3VyY2VNYXAnLCAnc3R1ZGlvVXJsJyBhbmQgJ2xvZ2dlcicuIE1ha2Ugc3VyZSB5b3UncmUgdXNpbmcgdGhlIHJpZ2h0IGltcG9ydC5cIik7XG4gIH1cbiAgaWYgKFwic3RlZ2FcIiBpbiBuZXdDb25maWcgJiYgbmV3Q29uZmlnW1wic3RlZ2FcIl0gIT09IHZvaWQgMCAmJiBuZXdDb25maWdbXCJzdGVnYVwiXSAhPT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9jbGllbnQvc3RlZ2EnLiBNYWtlIHN1cmUgeW91J3JlIHVzaW5nIHRoZSByaWdodCBpbXBvcnQuIE9yIHNldCAnc3RlZ2EnIGluICdjcmVhdGVDbGllbnQnIHRvICdmYWxzZScuXCIpO1xuICB9XG4gIGNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgY29uc3QgaXNMb2NhbGhvc3QgPSBpc0Jyb3dzZXIgJiYgaXNMb2NhbCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICBpZiAoaXNCcm93c2VyICYmIGlzTG9jYWxob3N0ICYmIG5ld0NvbmZpZy50b2tlbiAmJiBuZXdDb25maWcuaWdub3JlQnJvd3NlclRva2VuV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgIHByaW50QnJvd3NlclRva2VuV2FybmluZygpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBuZXdDb25maWcudXNlQ2RuID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcHJpbnRDZG5XYXJuaW5nKCk7XG4gIH1cbiAgaWYgKHByb2plY3RCYXNlZCkge1xuICAgIHByb2plY3RJZChuZXdDb25maWcucHJvamVjdElkKTtcbiAgfVxuICBpZiAobmV3Q29uZmlnLmRhdGFzZXQpIHtcbiAgICBkYXRhc2V0KG5ld0NvbmZpZy5kYXRhc2V0KTtcbiAgfVxuICBpZiAoXCJyZXF1ZXN0VGFnUHJlZml4XCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgbmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXggPSBuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IHJlcXVlc3RUYWcobmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXgpLnJlcGxhY2UoL1xcLiskLywgXCJcIikgOiB2b2lkIDA7XG4gIH1cbiAgbmV3Q29uZmlnLmFwaVZlcnNpb24gPSBcIlwiLmNvbmNhdChuZXdDb25maWcuYXBpVmVyc2lvbikucmVwbGFjZSgvXnYvLCBcIlwiKTtcbiAgbmV3Q29uZmlnLmlzRGVmYXVsdEFwaSA9IG5ld0NvbmZpZy5hcGlIb3N0ID09PSBkZWZhdWx0Q29uZmlnLmFwaUhvc3Q7XG4gIG5ld0NvbmZpZy51c2VDZG4gPSBuZXdDb25maWcudXNlQ2RuICE9PSBmYWxzZSAmJiAhbmV3Q29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgdmFsaWRhdGVBcGlWZXJzaW9uKG5ld0NvbmZpZy5hcGlWZXJzaW9uKTtcbiAgY29uc3QgaG9zdFBhcnRzID0gbmV3Q29uZmlnLmFwaUhvc3Quc3BsaXQoXCI6Ly9cIiwgMik7XG4gIGNvbnN0IHByb3RvY29sID0gaG9zdFBhcnRzWzBdO1xuICBjb25zdCBob3N0ID0gaG9zdFBhcnRzWzFdO1xuICBjb25zdCBjZG5Ib3N0ID0gbmV3Q29uZmlnLmlzRGVmYXVsdEFwaSA/IGRlZmF1bHRDZG5Ib3N0IDogaG9zdDtcbiAgaWYgKG5ld0NvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWUpIHtcbiAgICBuZXdDb25maWcudXJsID0gXCJcIi5jb25jYXQocHJvdG9jb2wsIFwiOi8vXCIpLmNvbmNhdChuZXdDb25maWcucHJvamVjdElkLCBcIi5cIikuY29uY2F0KGhvc3QsIFwiL3ZcIikuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKTtcbiAgICBuZXdDb25maWcuY2RuVXJsID0gXCJcIi5jb25jYXQocHJvdG9jb2wsIFwiOi8vXCIpLmNvbmNhdChuZXdDb25maWcucHJvamVjdElkLCBcIi5cIikuY29uY2F0KGNkbkhvc3QsIFwiL3ZcIikuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdDb25maWcudXJsID0gXCJcIi5jb25jYXQobmV3Q29uZmlnLmFwaUhvc3QsIFwiL3ZcIikuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKTtcbiAgICBuZXdDb25maWcuY2RuVXJsID0gbmV3Q29uZmlnLnVybDtcbiAgfVxuICByZXR1cm4gbmV3Q29uZmlnO1xufTtcbmNvbnN0IHByb2plY3RIZWFkZXIgPSBcIlgtU2FuaXR5LVByb2plY3QtSURcIjtcbmZ1bmN0aW9uIHJlcXVlc3RPcHRpb25zKGNvbmZpZykge1xuICBsZXQgb3ZlcnJpZGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgY29uc3QgaGVhZGVycyA9IHt9O1xuICBjb25zdCB0b2tlbiA9IG92ZXJyaWRlcy50b2tlbiB8fCBjb25maWcudG9rZW47XG4gIGlmICh0b2tlbikge1xuICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IFwiQmVhcmVyIFwiLmNvbmNhdCh0b2tlbik7XG4gIH1cbiAgaWYgKCFvdmVycmlkZXMudXNlR2xvYmFsQXBpICYmICFjb25maWcudXNlUHJvamVjdEhvc3RuYW1lICYmIGNvbmZpZy5wcm9qZWN0SWQpIHtcbiAgICBoZWFkZXJzW3Byb2plY3RIZWFkZXJdID0gY29uZmlnLnByb2plY3RJZDtcbiAgfVxuICBjb25zdCB3aXRoQ3JlZGVudGlhbHMgPSBCb29sZWFuKHR5cGVvZiBvdmVycmlkZXMud2l0aENyZWRlbnRpYWxzID09PSBcInVuZGVmaW5lZFwiID8gY29uZmlnLnRva2VuIHx8IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgOiBvdmVycmlkZXMud2l0aENyZWRlbnRpYWxzKTtcbiAgY29uc3QgdGltZW91dCA9IHR5cGVvZiBvdmVycmlkZXMudGltZW91dCA9PT0gXCJ1bmRlZmluZWRcIiA/IGNvbmZpZy50aW1lb3V0IDogb3ZlcnJpZGVzLnRpbWVvdXQ7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvdmVycmlkZXMsIHtcbiAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCBoZWFkZXJzLCBvdmVycmlkZXMuaGVhZGVycyB8fCB7fSksXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09IFwidW5kZWZpbmVkXCIgPyA1ICogNjAgKiAxZTMgOiB0aW1lb3V0LFxuICAgIHByb3h5OiBvdmVycmlkZXMucHJveHkgfHwgY29uZmlnLnByb3h5LFxuICAgIGpzb246IHRydWUsXG4gICAgd2l0aENyZWRlbnRpYWxzLFxuICAgIGZldGNoOiB0eXBlb2Ygb3ZlcnJpZGVzLmZldGNoID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBjb25maWcuZmV0Y2ggPT09IFwib2JqZWN0XCIgPyB7XG4gICAgICAuLi5jb25maWcuZmV0Y2gsXG4gICAgICAuLi5vdmVycmlkZXMuZmV0Y2hcbiAgICB9IDogb3ZlcnJpZGVzLmZldGNoIHx8IGNvbmZpZy5mZXRjaFxuICB9KTtcbn1cbmNvbnN0IGVuY29kZVF1ZXJ5U3RyaW5nID0gX3JlZjIgPT4ge1xuICBsZXQge1xuICAgIHF1ZXJ5LFxuICAgIHBhcmFtcyA9IHt9LFxuICAgIG9wdGlvbnMgPSB7fVxuICB9ID0gX3JlZjI7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3Qge1xuICAgIHRhZyxcbiAgICAuLi5vcHRzXG4gIH0gPSBvcHRpb25zO1xuICBpZiAodGFnKSBzZWFyY2hQYXJhbXMuYXBwZW5kKFwidGFnXCIsIHRhZyk7XG4gIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiJFwiLmNvbmNhdChrZXkpLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMpKSB7XG4gICAgaWYgKHZhbHVlKSBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgXCJcIi5jb25jYXQodmFsdWUpKTtcbiAgfVxuICByZXR1cm4gXCI/XCIuY29uY2F0KHNlYXJjaFBhcmFtcyk7XG59O1xuY29uc3QgZXhjbHVkZUZhbHNleSA9IChwYXJhbSwgZGVmVmFsdWUpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgcGFyYW0gPT09IFwidW5kZWZpbmVkXCIgPyBkZWZWYWx1ZSA6IHBhcmFtO1xuICByZXR1cm4gcGFyYW0gPT09IGZhbHNlID8gdm9pZCAwIDogdmFsdWU7XG59O1xuY29uc3QgZ2V0TXV0YXRpb25RdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICByZXR1cm4ge1xuICAgIGRyeVJ1bjogb3B0aW9ucy5kcnlSdW4sXG4gICAgcmV0dXJuSWRzOiB0cnVlLFxuICAgIHJldHVybkRvY3VtZW50czogZXhjbHVkZUZhbHNleShvcHRpb25zLnJldHVybkRvY3VtZW50cywgdHJ1ZSksXG4gICAgdmlzaWJpbGl0eTogb3B0aW9ucy52aXNpYmlsaXR5IHx8IFwic3luY1wiLFxuICAgIGF1dG9HZW5lcmF0ZUFycmF5S2V5czogb3B0aW9ucy5hdXRvR2VuZXJhdGVBcnJheUtleXMsXG4gICAgc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb246IG9wdGlvbnMuc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb25cbiAgfTtcbn07XG5jb25zdCBpc1Jlc3BvbnNlID0gZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiO1xuY29uc3QgZ2V0Qm9keSA9IGV2ZW50ID0+IGV2ZW50LmJvZHk7XG5jb25zdCBpbmRleEJ5ID0gKGRvY3MsIGF0dHIpID0+IGRvY3MucmVkdWNlKChpbmRleGVkLCBkb2MpID0+IHtcbiAgaW5kZXhlZFthdHRyKGRvYyldID0gZG9jO1xuICByZXR1cm4gaW5kZXhlZDtcbn0sIC8qIEBfX1BVUkVfXyAqL09iamVjdC5jcmVhdGUobnVsbCkpO1xuY29uc3QgZ2V0UXVlcnlTaXplTGltaXQgPSAxMTI2NDtcbmZ1bmN0aW9uIF9mZXRjaChjbGllbnQsIGh0dHBSZXF1ZXN0LCBxdWVyeSwgcGFyYW1zKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgaWYgKFwic3RlZ2FcIiBpbiBvcHRpb25zICYmIG9wdGlvbnNbXCJzdGVnYVwiXSAhPT0gdm9pZCAwICYmIG9wdGlvbnNbXCJzdGVnYVwiXSAhPT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9jbGllbnQvc3RlZ2EnLiBNYWtlIHN1cmUgeW91J3JlIHVzaW5nIHRoZSByaWdodCBpbXBvcnQuIE9yIHNldCAnc3RlZ2EnIGluICdmZXRjaCcgdG8gJ2ZhbHNlJy5cIik7XG4gIH1cbiAgY29uc3QgbWFwUmVzcG9uc2UgPSBvcHRpb25zLmZpbHRlclJlc3BvbnNlID09PSBmYWxzZSA/IHJlcyA9PiByZXMgOiByZXMgPT4gcmVzLnJlc3VsdDtcbiAgY29uc3Qge1xuICAgIGNhY2hlLFxuICAgIG5leHQsXG4gICAgLi4ub3B0c1xuICB9ID0ge1xuICAgIC8vIE9wdCBvdXQgb2Ygc2V0dGluZyBhIGBzaWduYWxgIG9uIGFuIGludGVybmFsIGBmZXRjaGAgaWYgb25lIGlzbid0IHByb3ZpZGVkLlxuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIFJlYWN0IFNlcnZlciBDb21wb25lbnRzIHRvIGF2b2lkIG9wdGluZyBvdXQgb2YgUmVxdWVzdCBNZW1vaXphdGlvbi5cbiAgICB1c2VBYm9ydFNpZ25hbDogdHlwZW9mIG9wdGlvbnMuc2lnbmFsICE9PSBcInVuZGVmaW5lZFwiLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcmVxT3B0cyA9IHR5cGVvZiBjYWNoZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbmV4dCAhPT0gXCJ1bmRlZmluZWRcIiA/IHtcbiAgICAuLi5vcHRzLFxuICAgIGZldGNoOiB7XG4gICAgICBjYWNoZSxcbiAgICAgIG5leHRcbiAgICB9XG4gIH0gOiBvcHRzO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwicXVlcnlcIiwge1xuICAgIHF1ZXJ5LFxuICAgIHBhcmFtc1xuICB9LCByZXFPcHRzKS5waXBlKG1hcChtYXBSZXNwb25zZSkpO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50KGNsaWVudCwgaHR0cFJlcXVlc3QsIGlkKSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLFxuICAgIGpzb246IHRydWUsXG4gICAgdGFnOiBvcHRzLnRhZ1xuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoZmlsdGVyKGlzUmVzcG9uc2UpLCBtYXAoZXZlbnQgPT4gZXZlbnQuYm9keS5kb2N1bWVudHMgJiYgZXZlbnQuYm9keS5kb2N1bWVudHNbMF0pKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudHMoY2xpZW50LCBodHRwUmVxdWVzdCwgaWRzKSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWRzLmpvaW4oXCIsXCIpKSxcbiAgICBqc29uOiB0cnVlLFxuICAgIHRhZzogb3B0cy50YWdcbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKGZpbHRlcihpc1Jlc3BvbnNlKSwgbWFwKGV2ZW50ID0+IHtcbiAgICBjb25zdCBpbmRleGVkID0gaW5kZXhCeShldmVudC5ib2R5LmRvY3VtZW50cyB8fCBbXSwgZG9jID0+IGRvYy5faWQpO1xuICAgIHJldHVybiBpZHMubWFwKGlkID0+IGluZGV4ZWRbaWRdIHx8IG51bGwpO1xuICB9KSk7XG59XG5mdW5jdGlvbiBfY3JlYXRlSWZOb3RFeGlzdHMoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgZG9jKTtcbiAgcmV0dXJuIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZUlmTm90RXhpc3RzXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZU9yUmVwbGFjZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZURvY3VtZW50SWQoXCJjcmVhdGVPclJlcGxhY2VcIiwgZG9jKTtcbiAgcmV0dXJuIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZU9yUmVwbGFjZVwiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9kZWxldGUoY2xpZW50LCBodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwge1xuICAgIG11dGF0aW9uczogW3tcbiAgICAgIGRlbGV0ZTogZ2V0U2VsZWN0aW9uKHNlbGVjdGlvbilcbiAgICB9XVxuICB9LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9tdXRhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgbXV0YXRpb25zLCBvcHRpb25zKSB7XG4gIGxldCBtdXQ7XG4gIGlmIChtdXRhdGlvbnMgaW5zdGFuY2VvZiBQYXRjaCB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2gpIHtcbiAgICBtdXQgPSB7XG4gICAgICBwYXRjaDogbXV0YXRpb25zLnNlcmlhbGl6ZSgpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtdXRhdGlvbnMgaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlVHJhbnNhY3Rpb24pIHtcbiAgICBtdXQgPSBtdXRhdGlvbnMuc2VyaWFsaXplKCk7XG4gIH0gZWxzZSB7XG4gICAgbXV0ID0gbXV0YXRpb25zO1xuICB9XG4gIGNvbnN0IG11dHMgPSBBcnJheS5pc0FycmF5KG11dCkgPyBtdXQgOiBbbXV0XTtcbiAgY29uc3QgdHJhbnNhY3Rpb25JZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2FjdGlvbklkIHx8IHZvaWQgMDtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcIm11dGF0ZVwiLCB7XG4gICAgbXV0YXRpb25zOiBtdXRzLFxuICAgIHRyYW5zYWN0aW9uSWRcbiAgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgZW5kcG9pbnQsIGJvZHkpIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9O1xuICBjb25zdCBpc011dGF0aW9uID0gZW5kcG9pbnQgPT09IFwibXV0YXRlXCI7XG4gIGNvbnN0IGlzUXVlcnkgPSBlbmRwb2ludCA9PT0gXCJxdWVyeVwiO1xuICBjb25zdCBzdHJRdWVyeSA9IGlzTXV0YXRpb24gPyBcIlwiIDogZW5jb2RlUXVlcnlTdHJpbmcoYm9keSk7XG4gIGNvbnN0IHVzZUdldCA9ICFpc011dGF0aW9uICYmIHN0clF1ZXJ5Lmxlbmd0aCA8IGdldFF1ZXJ5U2l6ZUxpbWl0O1xuICBjb25zdCBzdHJpbmdRdWVyeSA9IHVzZUdldCA/IHN0clF1ZXJ5IDogXCJcIjtcbiAgY29uc3QgcmV0dXJuRmlyc3QgPSBvcHRpb25zLnJldHVybkZpcnN0O1xuICBjb25zdCB7XG4gICAgdGltZW91dCxcbiAgICB0b2tlbixcbiAgICB0YWcsXG4gICAgaGVhZGVyc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdXJpID0gX2dldERhdGFVcmwoY2xpZW50LCBlbmRwb2ludCwgc3RyaW5nUXVlcnkpO1xuICBjb25zdCByZXFPcHRpb25zID0ge1xuICAgIG1ldGhvZDogdXNlR2V0ID8gXCJHRVRcIiA6IFwiUE9TVFwiLFxuICAgIHVyaSxcbiAgICBqc29uOiB0cnVlLFxuICAgIGJvZHk6IHVzZUdldCA/IHZvaWQgMCA6IGJvZHksXG4gICAgcXVlcnk6IGlzTXV0YXRpb24gJiYgZ2V0TXV0YXRpb25RdWVyeShvcHRpb25zKSxcbiAgICB0aW1lb3V0LFxuICAgIGhlYWRlcnMsXG4gICAgdG9rZW4sXG4gICAgdGFnLFxuICAgIHBlcnNwZWN0aXZlOiBvcHRpb25zLnBlcnNwZWN0aXZlLFxuICAgIHJlc3VsdFNvdXJjZU1hcDogb3B0aW9ucy5yZXN1bHRTb3VyY2VNYXAsXG4gICAgY2FuVXNlQ2RuOiBpc1F1ZXJ5LFxuICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgdXNlQWJvcnRTaWduYWw6IG9wdGlvbnMudXNlQWJvcnRTaWduYWwsXG4gICAgdXNlQ2RuOiBvcHRpb25zLnVzZUNkblxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHJlcU9wdGlvbnMpLnBpcGUoZmlsdGVyKGlzUmVzcG9uc2UpLCBtYXAoZ2V0Qm9keSksIG1hcChyZXMgPT4ge1xuICAgIGlmICghaXNNdXRhdGlvbikge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHJlcy5yZXN1bHRzIHx8IFtdO1xuICAgIGlmIChvcHRpb25zLnJldHVybkRvY3VtZW50cykge1xuICAgICAgcmV0dXJuIHJldHVybkZpcnN0ID8gcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmRvY3VtZW50IDogcmVzdWx0cy5tYXAobXV0ID0+IG11dC5kb2N1bWVudCk7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHJldHVybkZpcnN0ID8gXCJkb2N1bWVudElkXCIgOiBcImRvY3VtZW50SWRzXCI7XG4gICAgY29uc3QgaWRzID0gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uaWQgOiByZXN1bHRzLm1hcChtdXQgPT4gbXV0LmlkKTtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNhY3Rpb25JZDogcmVzLnRyYW5zYWN0aW9uSWQsXG4gICAgICByZXN1bHRzLFxuICAgICAgW2tleV06IGlkc1xuICAgIH07XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcCkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge307XG4gIGNvbnN0IG11dGF0aW9uID0ge1xuICAgIFtvcF06IGRvY1xuICB9O1xuICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgcmV0dXJuRmlyc3Q6IHRydWUsXG4gICAgcmV0dXJuRG9jdW1lbnRzOiB0cnVlXG4gIH0sIG9wdGlvbnMpO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHtcbiAgICBtdXRhdGlvbnM6IFttdXRhdGlvbl1cbiAgfSwgb3B0cyk7XG59XG5mdW5jdGlvbiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB1cmkgPSBvcHRpb25zLnVybCB8fCBvcHRpb25zLnVyaTtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpO1xuICBjb25zdCBjYW5Vc2VDZG4gPSB0eXBlb2Ygb3B0aW9ucy5jYW5Vc2VDZG4gPT09IFwidW5kZWZpbmVkXCIgPyBbXCJHRVRcIiwgXCJIRUFEXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL1wiKSA9PT0gMCA6IG9wdGlvbnMuY2FuVXNlQ2RuO1xuICBsZXQgdXNlQ2RuID0gKChfYSA9IG9wdGlvbnMudXNlQ2RuKSAhPSBudWxsID8gX2EgOiBjb25maWcudXNlQ2RuKSAmJiBjYW5Vc2VDZG47XG4gIGNvbnN0IHRhZyA9IG9wdGlvbnMudGFnICYmIGNvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gW2NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4LCBvcHRpb25zLnRhZ10uam9pbihcIi5cIikgOiBvcHRpb25zLnRhZyB8fCBjb25maWcucmVxdWVzdFRhZ1ByZWZpeDtcbiAgaWYgKHRhZyAmJiBvcHRpb25zLnRhZyAhPT0gbnVsbCkge1xuICAgIG9wdGlvbnMucXVlcnkgPSB7XG4gICAgICB0YWc6IHJlcXVlc3RUYWcodGFnKSxcbiAgICAgIC4uLm9wdGlvbnMucXVlcnlcbiAgICB9O1xuICB9XG4gIGlmIChbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9xdWVyeS9cIikgPT09IDApIHtcbiAgICBjb25zdCByZXN1bHRTb3VyY2VNYXAgPSAoX2IgPSBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCkgIT0gbnVsbCA/IF9iIDogY29uZmlnLnJlc3VsdFNvdXJjZU1hcDtcbiAgICBpZiAocmVzdWx0U291cmNlTWFwICE9PSB2b2lkIDAgJiYgcmVzdWx0U291cmNlTWFwICE9PSBmYWxzZSkge1xuICAgICAgb3B0aW9ucy5xdWVyeSA9IHtcbiAgICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwZXJzcGVjdGl2ZSA9IG9wdGlvbnMucGVyc3BlY3RpdmUgfHwgY29uZmlnLnBlcnNwZWN0aXZlO1xuICAgIGlmICh0eXBlb2YgcGVyc3BlY3RpdmUgPT09IFwic3RyaW5nXCIgJiYgcGVyc3BlY3RpdmUgIT09IFwicmF3XCIpIHtcbiAgICAgIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUocGVyc3BlY3RpdmUpO1xuICAgICAgb3B0aW9ucy5xdWVyeSA9IHtcbiAgICAgICAgcGVyc3BlY3RpdmUsXG4gICAgICAgIC4uLm9wdGlvbnMucXVlcnlcbiAgICAgIH07XG4gICAgICBpZiAocGVyc3BlY3RpdmUgPT09IFwicHJldmlld0RyYWZ0c1wiICYmIHVzZUNkbikge1xuICAgICAgICB1c2VDZG4gPSBmYWxzZTtcbiAgICAgICAgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXFPcHRpb25zID0gcmVxdWVzdE9wdGlvbnMoY29uZmlnLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgdXJsOiBfZ2V0VXJsKGNsaWVudCwgdXJpLCB1c2VDZG4pXG4gIH0pKTtcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZXIgPT4gaHR0cFJlcXVlc3QocmVxT3B0aW9ucywgY29uZmlnLnJlcXVlc3Rlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgcmV0dXJuIG9wdGlvbnMuc2lnbmFsID8gcmVxdWVzdC5waXBlKF93aXRoQWJvcnRTaWduYWwob3B0aW9ucy5zaWduYWwpKSA6IHJlcXVlc3Q7XG59XG5mdW5jdGlvbiBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShmaWx0ZXIoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSwgbWFwKGV2ZW50ID0+IGV2ZW50LmJvZHkpKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBfZ2V0RGF0YVVybChjbGllbnQsIG9wZXJhdGlvbiwgcGF0aCkge1xuICBjb25zdCBjb25maWcgPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGNhdGFsb2cgPSBoYXNEYXRhc2V0KGNvbmZpZyk7XG4gIGNvbnN0IGJhc2VVcmkgPSBcIi9cIi5jb25jYXQob3BlcmF0aW9uLCBcIi9cIikuY29uY2F0KGNhdGFsb2cpO1xuICBjb25zdCB1cmkgPSBwYXRoID8gXCJcIi5jb25jYXQoYmFzZVVyaSwgXCIvXCIpLmNvbmNhdChwYXRoKSA6IGJhc2VVcmk7XG4gIHJldHVybiBcIi9kYXRhXCIuY29uY2F0KHVyaSkucmVwbGFjZSgvXFwvKCR8XFw/KS8sIFwiJDFcIik7XG59XG5mdW5jdGlvbiBfZ2V0VXJsKGNsaWVudCwgdXJpKSB7XG4gIGxldCBjYW5Vc2VDZG4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICBjb25zdCB7XG4gICAgdXJsLFxuICAgIGNkblVybFxuICB9ID0gY2xpZW50LmNvbmZpZygpO1xuICBjb25zdCBiYXNlID0gY2FuVXNlQ2RuID8gY2RuVXJsIDogdXJsO1xuICByZXR1cm4gXCJcIi5jb25jYXQoYmFzZSwgXCIvXCIpLmNvbmNhdCh1cmkucmVwbGFjZSgvXlxcLy8sIFwiXCIpKTtcbn1cbmZ1bmN0aW9uIF93aXRoQWJvcnRTaWduYWwoc2lnbmFsKSB7XG4gIHJldHVybiBpbnB1dCA9PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgIGNvbnN0IGFib3J0ID0gKCkgPT4gb2JzZXJ2ZXIuZXJyb3IoX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSk7XG4gICAgICBpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIGFib3J0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGlucHV0LnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpO1xuICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG59XG5jb25zdCBpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCA9IEJvb2xlYW4oZ2xvYmFsVGhpcy5ET01FeGNlcHRpb24pO1xuZnVuY3Rpb24gX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSB7XG4gIHZhciBfYSwgX2I7XG4gIGlmIChpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCkge1xuICAgIHJldHVybiBuZXcgRE9NRXhjZXB0aW9uKChfYSA9IHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLnJlYXNvbikgIT0gbnVsbCA/IF9hIDogXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiLCBcIkFib3J0RXJyb3JcIik7XG4gIH1cbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKF9iID0gc2lnbmFsID09IG51bGwgPyB2b2lkIDAgOiBzaWduYWwucmVhc29uKSAhPSBudWxsID8gX2IgOiBcIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQuXCIpO1xuICBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gIHJldHVybiBlcnJvcjtcbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDQgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDQob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkNCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNChvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQzLCBfaHR0cFJlcXVlc3QkNCwgX2NsaWVudDIkMywgX2h0dHBSZXF1ZXN0MiQ0O1xuY2xhc3MgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfY2xpZW50JDMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2h0dHBSZXF1ZXN0JDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2NsaWVudCQzLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0LCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgdXBsb2FkKGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfdXBsb2FkKF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9jbGllbnQkMyksIF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0KSwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgfVxufVxuX2NsaWVudCQzID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQ0ID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIEFzc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfY2xpZW50MiQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfY2xpZW50MiQzLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIHVwbG9hZChhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gX3VwbG9hZChfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50MiQzKSwgX19wcml2YXRlR2V0JDQodGhpcywgX2h0dHBSZXF1ZXN0MiQ0KSwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShvYnNlcnZhYmxlLnBpcGUoZmlsdGVyKGV2ZW50ID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksIG1hcChldmVudCA9PiBldmVudC5ib2R5LmRvY3VtZW50KSkpO1xuICB9XG59XG5fY2xpZW50MiQzID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIkNCA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBfdXBsb2FkKGNsaWVudCwgaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSkge1xuICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge307XG4gIHZhbGlkYXRlQXNzZXRUeXBlKGFzc2V0VHlwZSk7XG4gIGxldCBtZXRhID0gb3B0cy5leHRyYWN0IHx8IHZvaWQgMDtcbiAgaWYgKG1ldGEgJiYgIW1ldGEubGVuZ3RoKSB7XG4gICAgbWV0YSA9IFtcIm5vbmVcIl07XG4gIH1cbiAgY29uc3QgZGF0YXNldCA9IGhhc0RhdGFzZXQoY2xpZW50LmNvbmZpZygpKTtcbiAgY29uc3QgYXNzZXRFbmRwb2ludCA9IGFzc2V0VHlwZSA9PT0gXCJpbWFnZVwiID8gXCJpbWFnZXNcIiA6IFwiZmlsZXNcIjtcbiAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbnNGcm9tRmlsZShvcHRzLCBib2R5KTtcbiAgY29uc3Qge1xuICAgIHRhZyxcbiAgICBsYWJlbCxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBjcmVkaXRMaW5lLFxuICAgIGZpbGVuYW1lLFxuICAgIHNvdXJjZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcXVlcnkgPSB7XG4gICAgbGFiZWwsXG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZmlsZW5hbWUsXG4gICAgbWV0YSxcbiAgICBjcmVkaXRMaW5lXG4gIH07XG4gIGlmIChzb3VyY2UpIHtcbiAgICBxdWVyeS5zb3VyY2VJZCA9IHNvdXJjZS5pZDtcbiAgICBxdWVyeS5zb3VyY2VOYW1lID0gc291cmNlLm5hbWU7XG4gICAgcXVlcnkuc291cmNlVXJsID0gc291cmNlLnVybDtcbiAgfVxuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICB0YWcsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgfHwgMCxcbiAgICB1cmk6IFwiL2Fzc2V0cy9cIi5jb25jYXQoYXNzZXRFbmRwb2ludCwgXCIvXCIpLmNvbmNhdChkYXRhc2V0KSxcbiAgICBoZWFkZXJzOiBvcHRpb25zLmNvbnRlbnRUeXBlID8ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogb3B0aW9ucy5jb250ZW50VHlwZVxuICAgIH0gOiB7fSxcbiAgICBxdWVyeSxcbiAgICBib2R5XG4gIH0pO1xufVxuZnVuY3Rpb24gb3B0aW9uc0Zyb21GaWxlKG9wdHMsIGZpbGUpIHtcbiAgaWYgKHR5cGVvZiBGaWxlID09PSBcInVuZGVmaW5lZFwiIHx8ICEoZmlsZSBpbnN0YW5jZW9mIEZpbGUpKSB7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgIGZpbGVuYW1lOiBvcHRzLnByZXNlcnZlRmlsZW5hbWUgPT09IGZhbHNlID8gdm9pZCAwIDogZmlsZS5uYW1lLFxuICAgIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGVcbiAgfSwgb3B0cyk7XG59XG52YXIgZGVmYXVsdHMgPSAob2JqLCBkZWZhdWx0cykgPT4gT2JqZWN0LmtleXMoZGVmYXVsdHMpLmNvbmNhdChPYmplY3Qua2V5cyhvYmopKS5yZWR1Y2UoKHRhcmdldCwgcHJvcCkgPT4ge1xuICB0YXJnZXRbcHJvcF0gPSB0eXBlb2Ygb2JqW3Byb3BdID09PSBcInVuZGVmaW5lZFwiID8gZGVmYXVsdHNbcHJvcF0gOiBvYmpbcHJvcF07XG4gIHJldHVybiB0YXJnZXQ7XG59LCB7fSk7XG5jb25zdCBwaWNrID0gKG9iaiwgcHJvcHMpID0+IHByb3BzLnJlZHVjZSgoc2VsZWN0aW9uLCBwcm9wKSA9PiB7XG4gIGlmICh0eXBlb2Ygb2JqW3Byb3BdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgfVxuICBzZWxlY3Rpb25bcHJvcF0gPSBvYmpbcHJvcF07XG4gIHJldHVybiBzZWxlY3Rpb247XG59LCB7fSk7XG5jb25zdCBNQVhfVVJMX0xFTkdUSCA9IDE2ZTMgLSAxMjAwO1xuY29uc3QgcG9zc2libGVPcHRpb25zID0gW1wiaW5jbHVkZVByZXZpb3VzUmV2aXNpb25cIiwgXCJpbmNsdWRlUmVzdWx0XCIsIFwidmlzaWJpbGl0eVwiLCBcImVmZmVjdEZvcm1hdFwiLCBcInRhZ1wiXTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBpbmNsdWRlUmVzdWx0OiB0cnVlXG59O1xuZnVuY3Rpb24gX2xpc3RlbihxdWVyeSwgcGFyYW1zKSB7XG4gIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgY29uc3Qge1xuICAgIHVybCxcbiAgICB0b2tlbixcbiAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgcmVxdWVzdFRhZ1ByZWZpeFxuICB9ID0gdGhpcy5jb25maWcoKTtcbiAgY29uc3QgdGFnID0gb3B0cy50YWcgJiYgcmVxdWVzdFRhZ1ByZWZpeCA/IFtyZXF1ZXN0VGFnUHJlZml4LCBvcHRzLnRhZ10uam9pbihcIi5cIikgOiBvcHRzLnRhZztcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAuLi5kZWZhdWx0cyhvcHRzLCBkZWZhdWx0T3B0aW9ucyksXG4gICAgdGFnXG4gIH07XG4gIGNvbnN0IGxpc3Rlbk9wdHMgPSBwaWNrKG9wdGlvbnMsIHBvc3NpYmxlT3B0aW9ucyk7XG4gIGNvbnN0IHFzID0gZW5jb2RlUXVlcnlTdHJpbmcoe1xuICAgIHF1ZXJ5LFxuICAgIHBhcmFtcyxcbiAgICBvcHRpb25zOiB7XG4gICAgICB0YWcsXG4gICAgICAuLi5saXN0ZW5PcHRzXG4gICAgfVxuICB9KTtcbiAgY29uc3QgdXJpID0gXCJcIi5jb25jYXQodXJsKS5jb25jYXQoX2dldERhdGFVcmwodGhpcywgXCJsaXN0ZW5cIiwgcXMpKTtcbiAgaWYgKHVyaS5sZW5ndGggPiBNQVhfVVJMX0xFTkdUSCkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiBvYnNlcnZlci5lcnJvcihuZXcgRXJyb3IoXCJRdWVyeSB0b28gbGFyZ2UgZm9yIGxpc3RlbmVyXCIpKSk7XG4gIH1cbiAgY29uc3QgbGlzdGVuRm9yID0gb3B0aW9ucy5ldmVudHMgPyBvcHRpb25zLmV2ZW50cyA6IFtcIm11dGF0aW9uXCJdO1xuICBjb25zdCBzaG91bGRFbWl0UmVjb25uZWN0ID0gbGlzdGVuRm9yLmluZGV4T2YoXCJyZWNvbm5lY3RcIikgIT09IC0xO1xuICBjb25zdCBlc09wdGlvbnMgPSB7fTtcbiAgaWYgKHRva2VuIHx8IHdpdGhDcmVkZW50aWFscykge1xuICAgIGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICB9XG4gIGlmICh0b2tlbikge1xuICAgIGVzT3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIuY29uY2F0KHRva2VuKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICBsZXQgZXM7XG4gICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKGV2ZW50U291cmNlID0+IHtcbiAgICAgIGVzID0gZXZlbnRTb3VyY2U7XG4gICAgfSkuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICBzdG9wKCk7XG4gICAgfSk7XG4gICAgbGV0IHJlY29ubmVjdFRpbWVyO1xuICAgIGxldCBzdG9wcGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtaXRSZWNvbm5lY3QoKTtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlcy5yZWFkeVN0YXRlID09PSBlcy5DTE9TRUQpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlY29ubmVjdFRpbWVyKTtcbiAgICAgICAgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KG9wZW4sIDEwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2hhbm5lbEVycm9yKGVycikge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IoY29vZXJjZUVycm9yKGVycikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQoZXZ0KTtcbiAgICAgIHJldHVybiBldmVudCBpbnN0YW5jZW9mIEVycm9yID8gb2JzZXJ2ZXIuZXJyb3IoZXZlbnQpIDogb2JzZXJ2ZXIubmV4dChldmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFlcykgcmV0dXJuO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpO1xuICAgICAgbGlzdGVuRm9yLmZvckVhY2godHlwZSA9PiBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpO1xuICAgICAgZXMuY2xvc2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFJlY29ubmVjdCgpIHtcbiAgICAgIGlmIChzaG91bGRFbWl0UmVjb25uZWN0KSB7XG4gICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgIHR5cGU6IFwicmVjb25uZWN0XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50U291cmNlKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBkZWZhdWx0OiBFdmVudFNvdXJjZVxuICAgICAgfSA9IGF3YWl0IGltcG9ydCgnQHNhbml0eS9ldmVudHNvdXJjZScpO1xuICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlKHVyaSwgZXNPcHRpb25zKTtcbiAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KTtcbiAgICAgIGxpc3RlbkZvci5mb3JFYWNoKHR5cGUgPT4gZXZzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSk7XG4gICAgICByZXR1cm4gZXZzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKGV2ZW50U291cmNlID0+IHtcbiAgICAgICAgZXMgPSBldmVudFNvdXJjZTtcbiAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICAgIHN0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcDtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50KGV2ZW50KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgJiYgSlNPTi5wYXJzZShldmVudC5kYXRhKSB8fCB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0eXBlOiBldmVudC50eXBlXG4gICAgfSwgZGF0YSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvb2VyY2VFcnJvcihlcnIpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxuICBjb25zdCBldnQgPSBwYXJzZUV2ZW50KGVycik7XG4gIHJldHVybiBldnQgaW5zdGFuY2VvZiBFcnJvciA/IGV2dCA6IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGV2dCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yTWVzc2FnZShlcnIpIHtcbiAgaWYgKCFlcnIuZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyLm1lc3NhZ2UgfHwgXCJVbmtub3duIGxpc3RlbmVyIGVycm9yXCI7XG4gIH1cbiAgaWYgKGVyci5lcnJvci5kZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBlcnIuZXJyb3IuZGVzY3JpcHRpb247XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBlcnIuZXJyb3IgPT09IFwic3RyaW5nXCIgPyBlcnIuZXJyb3IgOiBKU09OLnN0cmluZ2lmeShlcnIuZXJyb3IsIG51bGwsIDIpO1xufVxudmFyIF9fYWNjZXNzQ2hlY2skMyA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMyA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMyhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQzID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDMgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQzKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDIsIF9odHRwUmVxdWVzdCQzLCBfY2xpZW50MiQyLCBfaHR0cFJlcXVlc3QyJDM7XG5jbGFzcyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2NsaWVudCQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQkMiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMywgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUFVUXCIsIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJERUxFVEVcIiwgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCB7XG4gICAgICB1cmk6IFwiL2RhdGFzZXRzXCIsXG4gICAgICB0YWc6IG51bGxcbiAgICB9KTtcbiAgfVxufVxuX2NsaWVudCQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQzID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIERhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQyJDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQyJDIsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiUFVUXCIsIG5hbWUsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogRWRpdCBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZWRpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5ldyBvcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgZWRpdChuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50MiQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzKSwgXCJQQVRDSFwiLCBuYW1lLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiREVMRVRFXCIsIG5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCB7XG4gICAgICB1cmk6IFwiL2RhdGFzZXRzXCIsXG4gICAgICB0YWc6IG51bGxcbiAgICB9KSk7XG4gIH1cbn1cbl9jbGllbnQyJDIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQzID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIF9tb2RpZnkoY2xpZW50LCBodHRwUmVxdWVzdCwgbWV0aG9kLCBuYW1lLCBvcHRpb25zKSB7XG4gIGRhdGFzZXQobmFtZSk7XG4gIHJldHVybiBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCB7XG4gICAgbWV0aG9kLFxuICAgIHVyaTogXCIvZGF0YXNldHMvXCIuY29uY2F0KG5hbWUpLFxuICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgdGFnOiBudWxsXG4gIH0pO1xufVxudmFyIF9fYWNjZXNzQ2hlY2skMiA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMiA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMihvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQyID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDIgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQyKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDEsIF9odHRwUmVxdWVzdCQyLCBfY2xpZW50MiQxLCBfaHR0cFJlcXVlc3QyJDI7XG5jbGFzcyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDIodGhpcywgX2NsaWVudCQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9jbGllbnQkMSwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIGxpc3Qob3B0aW9ucykge1xuICAgIGNvbnN0IHVyaSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluY2x1ZGVNZW1iZXJzKSA9PT0gZmFsc2UgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudCQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIpLCB7XG4gICAgICB1cmlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBwcm9qZWN0IGJ5IHByb2plY3QgSURcbiAgICpcbiAgICogQHBhcmFtIHByb2plY3RJZCAtIElEIG9mIHRoZSBwcm9qZWN0IHRvIGZldGNoXG4gICAqL1xuICBnZXRCeUlkKHByb2plY3RJZCkge1xuICAgIHJldHVybiBfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50JDEpLCBfX3ByaXZhdGVHZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiksIHtcbiAgICAgIHVyaTogXCIvcHJvamVjdHMvXCIuY29uY2F0KHByb2plY3RJZClcbiAgICB9KTtcbiAgfVxufVxuX2NsaWVudCQxID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQyID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIFByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQyJDEsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9jbGllbnQyJDEsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgbGlzdChvcHRpb25zKSB7XG4gICAgY29uc3QgdXJpID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5jbHVkZU1lbWJlcnMpID09PSBmYWxzZSA/IFwiL3Byb2plY3RzP2luY2x1ZGVNZW1iZXJzPWZhbHNlXCIgOiBcIi9wcm9qZWN0c1wiO1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQyJDEpLCBfX3ByaXZhdGVHZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QyJDIpLCB7XG4gICAgICB1cmlcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwge1xuICAgICAgdXJpOiBcIi9wcm9qZWN0cy9cIi5jb25jYXQocHJvamVjdElkKVxuICAgIH0pKTtcbiAgfVxufVxuX2NsaWVudDIkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDIgPSBuZXcgV2Vha01hcCgpO1xudmFyIF9fYWNjZXNzQ2hlY2skMSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMSA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMShvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQxID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDEgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQxKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50LCBfaHR0cFJlcXVlc3QkMSwgX2NsaWVudDIsIF9odHRwUmVxdWVzdDIkMTtcbmNsYXNzIE9ic2VydmFibGVVc2Vyc0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfY2xpZW50LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0JDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDEodGhpcywgX2NsaWVudCksIF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxKSwge1xuICAgICAgdXJpOiBcIi91c2Vycy9cIi5jb25jYXQoaWQpXG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0JDEgPSBuZXcgV2Vha01hcCgpO1xuY2xhc3MgVXNlcnNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2NsaWVudDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQyLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9odHRwUmVxdWVzdDIkMSwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHVzZXIgYnkgdXNlciBJRFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBVc2VyIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoLiBJZiBgbWVgIGlzIHByb3ZpZGVkLCBhIG1pbmltYWwgcmVzcG9uc2UgaW5jbHVkaW5nIHRoZSB1c2VycyByb2xlIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQyKSwgX19wcml2YXRlR2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxKSwge1xuICAgICAgdXJpOiBcIi91c2Vycy9cIi5jb25jYXQoaWQpXG4gICAgfSkpO1xuICB9XG59XG5fY2xpZW50MiA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDEgPSBuZXcgV2Vha01hcCgpO1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50Q29uZmlnLCBfaHR0cFJlcXVlc3QsIF9jbGllbnRDb25maWcyLCBfaHR0cFJlcXVlc3QyO1xuY29uc3QgX09ic2VydmFibGVTYW5pdHlDbGllbnQgPSBjbGFzcyBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0KSB7XG4gICAgbGV0IGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdENvbmZpZztcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NsaWVudENvbmZpZywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0LCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbiA9IF9saXN0ZW47XG4gICAgdGhpcy5jb25maWcoY29uZmlnKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0LCBodHRwUmVxdWVzdCk7XG4gICAgdGhpcy5hc3NldHMgPSBuZXcgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gICAgdGhpcy5kYXRhc2V0cyA9IG5ldyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICAgIHRoaXMucHJvamVjdHMgPSBuZXcgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgICB0aGlzLnVzZXJzID0gbmV3IE9ic2VydmFibGVVc2Vyc0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5fX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZylcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykgJiYgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpLmFsbG93UmVjb25maWd1cmUgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCIpO1xuICAgIH1cbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2NsaWVudENvbmZpZywgaW5pdENvbmZpZyhuZXdDb25maWcsIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKSB8fCB7fSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwge1xuICAgICAgLi4udGhpcy5jb25maWcoKSxcbiAgICAgIC4uLm5ld0NvbmZpZ1xuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgcmV0dXJuIF9mZXRjaCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgcXVlcnksIHBhcmFtcywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBpZCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIGRvY3VtZW50cyBpbiBvbmUgcmVxdWVzdC5cbiAgICogU2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5IC0gcGVyZm9ybWluZyBhIHF1ZXJ5IGlzIHVzdWFsbHkgYSBiZXR0ZXIgb3B0aW9uLlxuICAgKiBUaGUgb3JkZXIvcG9zaXRpb24gb2YgZG9jdW1lbnRzIGlzIHByZXNlcnZlZCBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYXJyYXkgb2YgSURzLlxuICAgKiBJZiBhbnkgb2YgdGhlIGRvY3VtZW50cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgYG51bGxgIGVudHJ5IGluIHRoZSByZXR1cm5lZCBhcnJheVxuICAgKlxuICAgKiBAcGFyYW0gaWRzIC0gRG9jdW1lbnQgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudHMoaWRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9nZXREb2N1bWVudHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGlkcywgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGRvY3VtZW50LCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGRlbGV0ZShzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2RlbGV0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgc2VsZWN0aW9uLCBvcHRpb25zKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfbXV0YXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkYWJsZSBwYXRjaCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIERvY3VtZW50IElELCBhbiBhcnJheSBvZiBkb2N1bWVudCBJRHMsIG9yIGFuIG9iamVjdCB3aXRoIGBxdWVyeWAgYW5kIG9wdGlvbmFsIGBwYXJhbXNgLCBkZWZpbmluZyB3aGljaCBkb2N1bWVudChzKSB0byBwYXRjaFxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIG9iamVjdCBvZiBwYXRjaCBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHBhdGNoIGluc3RhbmNlIHdpdGhcbiAgICogQHJldHVybnMgUGF0Y2ggaW5zdGFuY2UgLSBjYWxsIGAuY29tbWl0KClgIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgZGVmaW5lZFxuICAgKi9cbiAgcGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFuIEhUVFAgcmVxdWVzdCBhZ2FpbnN0IHRoZSBTYW5pdHkgQVBJXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIFVSSSBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gdXJpIC0gVVJJL3BhdGggdG8gYnVpbGQgVVJMIGZvclxuICAgKiBAcGFyYW0gY2FuVXNlQ2RuIC0gV2hldGhlciBvciBub3QgdG8gYWxsb3cgdXNpbmcgdGhlIEFQSSBDRE4gZm9yIHRoaXMgcm91dGVcbiAgICovXG4gIGdldFVybCh1cmksIGNhblVzZUNkbikge1xuICAgIHJldHVybiBfZ2V0VXJsKHRoaXMsIHVyaSwgY2FuVXNlQ2RuKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBkYXRhIG9wZXJhdGlvbiBhbmQgcGF0aCBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9uIC0gRGF0YSBvcGVyYXRpb24gKGVnIGBxdWVyeWAsIGBtdXRhdGVgLCBgbGlzdGVuYCBvciBzaW1pbGFyKVxuICAgKiBAcGFyYW0gcGF0aCAtIFBhdGggdG8gYXBwZW5kIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAgICovXG4gIGdldERhdGFVcmwob3BlcmF0aW9uLCBwYXRoKSB7XG4gICAgcmV0dXJuIF9nZXREYXRhVXJsKHRoaXMsIG9wZXJhdGlvbiwgcGF0aCk7XG4gIH1cbn07XG5fY2xpZW50Q29uZmlnID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50O1xuY29uc3QgX1Nhbml0eUNsaWVudCA9IGNsYXNzIF9TYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCkge1xuICAgIGxldCBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRDb25maWc7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QyLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbiA9IF9saXN0ZW47XG4gICAgdGhpcy5jb25maWcoY29uZmlnKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0MiwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuYXNzZXRzID0gbmV3IEFzc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMuZGF0YXNldHMgPSBuZXcgRGF0YXNldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLnByb2plY3RzID0gbmV3IFByb2plY3RzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMub2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikgJiYgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKS5hbGxvd1JlY29uZmlndXJlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2YWJsZSkge1xuICAgICAgdGhpcy5vYnNlcnZhYmxlLmNvbmZpZyhuZXdDb25maWcpO1xuICAgIH1cbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2NsaWVudENvbmZpZzIsIGluaXRDb25maWcobmV3Q29uZmlnLCBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpIHx8IHt9KSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICByZXR1cm4gbmV3IF9TYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCB7XG4gICAgICAuLi50aGlzLmNvbmZpZygpLFxuICAgICAgLi4ubmV3Q29uZmlnXG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIHBhcmFtcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZmV0Y2godGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZHMsIG9wdGlvbnMpKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfY3JlYXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBvcHRpb25zKSk7XG4gIH1cbiAgY3JlYXRlT3JSZXBsYWNlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBvcHRpb25zKSk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kZWxldGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBzZWxlY3Rpb24sIG9wdGlvbnMpKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcGVyYXRpb25zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gSFRUUCByZXF1ZXN0IGEgYC9kYXRhYCBzdWItZW5kcG9pbnRcbiAgICogTk9URTogQ29uc2lkZXJlZCBpbnRlcm5hbCwgdGh1cyBtYXJrZWQgYXMgZGVwcmVjYXRlZC4gVXNlIGByZXF1ZXN0YCBpbnN0ZWFkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCAtIFVzZSBgcmVxdWVzdCgpYCBvciB5b3VyIG93biBIVFRQIGxpYnJhcnkgaW5zdGVhZFxuICAgKiBAcGFyYW0gZW5kcG9pbnQgLSBFbmRwb2ludCB0byBoaXQgKG11dGF0ZSwgcXVlcnkgZXRjKVxuICAgKiBAcGFyYW0gYm9keSAtIFJlcXVlc3QgYm9keVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRhdGFSZXF1ZXN0KGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2RhdGFSZXF1ZXN0KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59O1xuX2NsaWVudENvbmZpZzIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgU2FuaXR5Q2xpZW50ID0gX1Nhbml0eUNsaWVudDtcbmZ1bmN0aW9uIGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMoZW52TWlkZGxld2FyZSwgQ2xhc3NDb25zdHJ1Y3Rvcikge1xuICBjb25zdCBodHRwUmVxdWVzdCA9IGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIHt9KTtcbiAgY29uc3QgcmVxdWVzdGVyID0gaHR0cFJlcXVlc3QuZGVmYXVsdFJlcXVlc3RlcjtcbiAgY29uc3QgY3JlYXRlQ2xpZW50ID0gY29uZmlnID0+IG5ldyBDbGFzc0NvbnN0cnVjdG9yKGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIHtcbiAgICBtYXhSZXRyaWVzOiBjb25maWcubWF4UmV0cmllcyxcbiAgICByZXRyeURlbGF5OiBjb25maWcucmV0cnlEZWxheVxuICB9KSwgY29uZmlnKTtcbiAgcmV0dXJuIHtcbiAgICByZXF1ZXN0ZXIsXG4gICAgY3JlYXRlQ2xpZW50XG4gIH07XG59XG52YXIgZW52TWlkZGxld2FyZSA9IFtdO1xuZXhwb3J0IHsgQmFzZVBhdGNoLCBCYXNlVHJhbnNhY3Rpb24sIENsaWVudEVycm9yLCBPYnNlcnZhYmxlUGF0Y2gsIE9ic2VydmFibGVTYW5pdHlDbGllbnQsIE9ic2VydmFibGVUcmFuc2FjdGlvbiwgUGF0Y2gsIFNhbml0eUNsaWVudCwgU2VydmVyRXJyb3IsIFRyYW5zYWN0aW9uLCBkZWZhdWx0Q29uZmlnLCBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzLCBlbnZNaWRkbGV3YXJlLCBwcmludE5vRGVmYXVsdEV4cG9ydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlck1pZGRsZXdhcmUtZUx6SEk0RmsuanMubWFwXG4iXSwibmFtZXMiOlsiZ2V0SXQiLCJyZXRyeSIsImpzb25SZXF1ZXN0IiwianNvblJlc3BvbnNlIiwicHJvZ3Jlc3MiLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsImxhc3RWYWx1ZUZyb20iLCJtYXAiLCJmaWx0ZXIiLCJNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSIsIkNsaWVudEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInJlcyIsInByb3BzIiwiZXh0cmFjdEVycm9yUHJvcHMiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIk9iamVjdCIsImFzc2lnbiIsIlNlcnZlckVycm9yIiwiYm9keSIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5Iiwic3RyaW5naWZ5Qm9keSIsImRldGFpbHMiLCJlcnJvciIsImNvbmNhdCIsImlzTXV0YXRpb25FcnJvciIsImFsbEl0ZW1zIiwiaXRlbXMiLCJzbGljZSIsIml0ZW0iLCJfYSIsImRlc2NyaXB0aW9uIiwiQm9vbGVhbiIsIml0ZW1zU3RyIiwibGVuZ3RoIiwiam9pbiIsImh0dHBFcnJvck1lc3NhZ2UiLCJpc1BsYWluT2JqZWN0IiwidHlwZSIsIm9iaiIsIkFycmF5IiwiaXNBcnJheSIsInN0YXR1c01lc3NhZ2UiLCJtZXRob2QiLCJ1cmwiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJ0b0xvd2VyQ2FzZSIsImlzSnNvbiIsImluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwiaHR0cEVycm9yIiwib25SZXNwb25zZSIsInByaW50V2FybmluZ3MiLCJ3YXJuIiwid2FybmluZ3MiLCJmb3JFYWNoIiwibXNnIiwiY29uc29sZSIsImRlZmluZUh0dHBSZXF1ZXN0IiwiZW52TWlkZGxld2FyZSIsIl9yZWYiLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsInJlcXVlc3QiLCJzaG91bGRSZXRyeSIsImltcGxlbWVudGF0aW9uIiwiaHR0cFJlcXVlc3QiLCJvcHRpb25zIiwicmVxdWVzdGVyIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwibWF4UmVkaXJlY3RzIiwiZGVmYXVsdFJlcXVlc3RlciIsImVyciIsImF0dGVtcHQiLCJpc1NhZmUiLCJ1cmkiLCJpc1F1ZXJ5Iiwic3RhcnRzV2l0aCIsImlzUmV0cmlhYmxlUmVzcG9uc2UiLCJnZXRTZWxlY3Rpb24iLCJzZWwiLCJpZCIsInF1ZXJ5IiwicGFyYW1zIiwic2VsZWN0aW9uT3B0cyIsIlZBTElEX0FTU0VUX1RZUEVTIiwiVkFMSURfSU5TRVJUX0xPQ0FUSU9OUyIsImRhdGFzZXQiLCJuYW1lIiwidGVzdCIsInByb2plY3RJZCIsInZhbGlkYXRlQXNzZXRUeXBlIiwidmFsaWRhdGVPYmplY3QiLCJvcCIsInZhbCIsInZhbGlkYXRlRG9jdW1lbnRJZCIsImluY2x1ZGVzIiwicmVxdWlyZURvY3VtZW50SWQiLCJkb2MiLCJfaWQiLCJ2YWxpZGF0ZUluc2VydCIsImF0Iiwic2VsZWN0b3IiLCJzaWduYXR1cmUiLCJ2YWxpZCIsImxvYyIsImhhc0RhdGFzZXQiLCJjb25maWciLCJyZXF1ZXN0VGFnIiwidGFnIiwiX19hY2Nlc3NDaGVjayQ2IiwibWVtYmVyIiwiaGFzIiwiVHlwZUVycm9yIiwiX19wcml2YXRlR2V0JDYiLCJnZXR0ZXIiLCJjYWxsIiwiZ2V0IiwiX19wcml2YXRlQWRkJDYiLCJ2YWx1ZSIsIldlYWtTZXQiLCJhZGQiLCJzZXQiLCJfX3ByaXZhdGVTZXQkNiIsInNldHRlciIsIl9jbGllbnQkNSIsIl9jbGllbnQyJDUiLCJCYXNlUGF0Y2giLCJzZWxlY3Rpb24iLCJvcGVyYXRpb25zIiwiYXR0cnMiLCJfYXNzaWduIiwic2V0SWZNaXNzaW5nIiwiZGlmZk1hdGNoUGF0Y2giLCJ1bnNldCIsImluYyIsImRlYyIsImluc2VydCIsImFwcGVuZCIsInByZXBlbmQiLCJzcGxpY2UiLCJzdGFydCIsImRlbGV0ZUNvdW50IiwiZGVsQWxsIiwic3RhcnRJbmRleCIsImRlbENvdW50IiwiTWF0aCIsIm1heCIsImRlbFJhbmdlIiwicmFuZ2VTZWxlY3RvciIsImlmUmV2aXNpb25JZCIsInJldiIsImlmUmV2aXNpb25JRCIsInNlcmlhbGl6ZSIsInRvSlNPTiIsInJlc2V0IiwibWVyZ2UiLCJfc2V0IiwiX09ic2VydmFibGVQYXRjaCIsImNsaWVudCIsImNsb25lIiwiY29tbWl0IiwicmV0dXJuRmlyc3QiLCJvcHRzIiwicmV0dXJuRG9jdW1lbnRzIiwibXV0YXRlIiwicGF0Y2giLCJXZWFrTWFwIiwiT2JzZXJ2YWJsZVBhdGNoIiwiX1BhdGNoIiwiUGF0Y2giLCJfX2FjY2Vzc0NoZWNrJDUiLCJfX3ByaXZhdGVHZXQkNSIsIl9fcHJpdmF0ZUFkZCQ1IiwiX19wcml2YXRlU2V0JDUiLCJfY2xpZW50JDQiLCJfY2xpZW50MiQ0IiwiZGVmYXVsdE11dGF0ZU9wdGlvbnMiLCJCYXNlVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbklkIiwidHJ4SWQiLCJjcmVhdGUiLCJfYWRkIiwiY3JlYXRlSWZOb3RFeGlzdHMiLCJjcmVhdGVPclJlcGxhY2UiLCJkZWxldGUiLCJkb2N1bWVudElkIiwibXV0IiwicHVzaCIsIl9UcmFuc2FjdGlvbiIsInBhdGNoT3JEb2N1bWVudElkIiwicGF0Y2hPcHMiLCJpc0J1aWxkZXIiLCJpc1BhdGNoIiwiVHJhbnNhY3Rpb24iLCJfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwiT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwiQkFTRV9VUkwiLCJnZW5lcmF0ZUhlbHBVcmwiLCJzbHVnIiwib25jZSIsImZuIiwiZGlkQ2FsbCIsInJldHVyblZhbHVlIiwiY3JlYXRlV2FybmluZ1ByaW50ZXIiLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJwcmludENkbldhcm5pbmciLCJwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nIiwicHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nIiwicHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nIiwicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZhdWx0Q2RuSG9zdCIsImRlZmF1bHRDb25maWciLCJhcGlIb3N0IiwiYXBpVmVyc2lvbiIsInVzZVByb2plY3RIb3N0bmFtZSIsIkxPQ0FMSE9TVFMiLCJpc0xvY2FsIiwiaG9zdCIsInZhbGlkYXRlQXBpVmVyc2lvbiIsInZhbGlkYXRlQXBpVmVyc2lvbjIiLCJhcGlEYXRlIiwiRGF0ZSIsImFwaVZlcnNpb25WYWxpZCIsImdldFRpbWUiLCJ2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlIiwidmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIiLCJwZXJzcGVjdGl2ZSIsImluaXRDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwibmV3Q29uZmlnIiwicHJvamVjdEJhc2VkIiwiUHJvbWlzZSIsImhlbHBVcmwiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiaXNMb2NhbGhvc3QiLCJ0b2tlbiIsImlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmciLCJ1c2VDZG4iLCJyZXF1ZXN0VGFnUHJlZml4IiwicmVwbGFjZSIsImlzRGVmYXVsdEFwaSIsIndpdGhDcmVkZW50aWFscyIsImhvc3RQYXJ0cyIsInNwbGl0IiwicHJvdG9jb2wiLCJjZG5Ib3N0IiwiY2RuVXJsIiwicHJvamVjdEhlYWRlciIsInJlcXVlc3RPcHRpb25zIiwib3ZlcnJpZGVzIiwiQXV0aG9yaXphdGlvbiIsInVzZUdsb2JhbEFwaSIsInRpbWVvdXQiLCJwcm94eSIsImpzb24iLCJmZXRjaCIsImVuY29kZVF1ZXJ5U3RyaW5nIiwiX3JlZjIiLCJzZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJrZXkiLCJlbnRyaWVzIiwiZXhjbHVkZUZhbHNleSIsInBhcmFtIiwiZGVmVmFsdWUiLCJnZXRNdXRhdGlvblF1ZXJ5IiwiZHJ5UnVuIiwicmV0dXJuSWRzIiwidmlzaWJpbGl0eSIsImF1dG9HZW5lcmF0ZUFycmF5S2V5cyIsInNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uIiwiaXNSZXNwb25zZSIsImV2ZW50IiwiZ2V0Qm9keSIsImluZGV4QnkiLCJkb2NzIiwiYXR0ciIsInJlZHVjZSIsImluZGV4ZWQiLCJnZXRRdWVyeVNpemVMaW1pdCIsIl9mZXRjaCIsIm1hcFJlc3BvbnNlIiwiZmlsdGVyUmVzcG9uc2UiLCJyZXN1bHQiLCJjYWNoZSIsIm5leHQiLCJ1c2VBYm9ydFNpZ25hbCIsInNpZ25hbCIsInJlcU9wdHMiLCJfZGF0YVJlcXVlc3QiLCJwaXBlIiwiX2dldERvY3VtZW50IiwiX2dldERhdGFVcmwiLCJfcmVxdWVzdE9ic2VydmFibGUiLCJkb2N1bWVudHMiLCJfZ2V0RG9jdW1lbnRzIiwiaWRzIiwiX2NyZWF0ZUlmTm90RXhpc3RzIiwiX2NyZWF0ZSIsIl9jcmVhdGVPclJlcGxhY2UiLCJfZGVsZXRlIiwibXV0YXRpb25zIiwiX211dGF0ZSIsIm11dHMiLCJlbmRwb2ludCIsImlzTXV0YXRpb24iLCJzdHJRdWVyeSIsInVzZUdldCIsInN0cmluZ1F1ZXJ5IiwicmVxT3B0aW9ucyIsInJlc3VsdFNvdXJjZU1hcCIsImNhblVzZUNkbiIsInJlc3VsdHMiLCJkb2N1bWVudCIsIm11dGF0aW9uIiwiX2IiLCJfZ2V0VXJsIiwic3Vic2NyaWJlciIsInN1YnNjcmliZSIsIl93aXRoQWJvcnRTaWduYWwiLCJfcmVxdWVzdCIsIm9wZXJhdGlvbiIsInBhdGgiLCJjYXRhbG9nIiwiYmFzZVVyaSIsImJhc2UiLCJpbnB1dCIsIm9ic2VydmVyIiwiYWJvcnQiLCJfY3JlYXRlQWJvcnRFcnJvciIsImFib3J0ZWQiLCJzdWJzY3JpcHRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVuc3Vic2NyaWJlIiwiaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQiLCJnbG9iYWxUaGlzIiwiRE9NRXhjZXB0aW9uIiwicmVhc29uIiwiX19hY2Nlc3NDaGVjayQ0IiwiX19wcml2YXRlR2V0JDQiLCJfX3ByaXZhdGVBZGQkNCIsIl9fcHJpdmF0ZVNldCQ0IiwiX2NsaWVudCQzIiwiX2h0dHBSZXF1ZXN0JDQiLCJfY2xpZW50MiQzIiwiX2h0dHBSZXF1ZXN0MiQ0IiwiT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCIsInVwbG9hZCIsImFzc2V0VHlwZSIsIl91cGxvYWQiLCJBc3NldHNDbGllbnQiLCJtZXRhIiwiZXh0cmFjdCIsImFzc2V0RW5kcG9pbnQiLCJvcHRpb25zRnJvbUZpbGUiLCJsYWJlbCIsInRpdGxlIiwiY3JlZGl0TGluZSIsImZpbGVuYW1lIiwic291cmNlIiwic291cmNlSWQiLCJzb3VyY2VOYW1lIiwic291cmNlVXJsIiwiZmlsZSIsIkZpbGUiLCJwcmVzZXJ2ZUZpbGVuYW1lIiwiZGVmYXVsdHMiLCJrZXlzIiwidGFyZ2V0IiwicHJvcCIsInBpY2siLCJNQVhfVVJMX0xFTkdUSCIsInBvc3NpYmxlT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiaW5jbHVkZVJlc3VsdCIsIl9saXN0ZW4iLCJsaXN0ZW5PcHRzIiwicXMiLCJsaXN0ZW5Gb3IiLCJldmVudHMiLCJzaG91bGRFbWl0UmVjb25uZWN0IiwiZXNPcHRpb25zIiwiZXMiLCJnZXRFdmVudFNvdXJjZSIsInRoZW4iLCJldmVudFNvdXJjZSIsImNhdGNoIiwic3RvcCIsInJlY29ubmVjdFRpbWVyIiwic3RvcHBlZCIsIm9uRXJyb3IiLCJlbWl0UmVjb25uZWN0IiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvcGVuIiwib25DaGFubmVsRXJyb3IiLCJjb29lcmNlRXJyb3IiLCJvbk1lc3NhZ2UiLCJldnQiLCJwYXJzZUV2ZW50Iiwib25EaXNjb25uZWN0IiwiY29tcGxldGUiLCJjbG9zZSIsImRlZmF1bHQiLCJFdmVudFNvdXJjZSIsImV2cyIsImRhdGEiLCJwYXJzZSIsImV4dHJhY3RFcnJvck1lc3NhZ2UiLCJfX2FjY2Vzc0NoZWNrJDMiLCJfX3ByaXZhdGVHZXQkMyIsIl9fcHJpdmF0ZUFkZCQzIiwiX19wcml2YXRlU2V0JDMiLCJfY2xpZW50JDIiLCJfaHR0cFJlcXVlc3QkMyIsIl9jbGllbnQyJDIiLCJfaHR0cFJlcXVlc3QyJDMiLCJPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQiLCJfbW9kaWZ5IiwiZWRpdCIsImxpc3QiLCJEYXRhc2V0c0NsaWVudCIsIl9fYWNjZXNzQ2hlY2skMiIsIl9fcHJpdmF0ZUdldCQyIiwiX19wcml2YXRlQWRkJDIiLCJfX3ByaXZhdGVTZXQkMiIsIl9jbGllbnQkMSIsIl9odHRwUmVxdWVzdCQyIiwiX2NsaWVudDIkMSIsIl9odHRwUmVxdWVzdDIkMiIsIk9ic2VydmFibGVQcm9qZWN0c0NsaWVudCIsImluY2x1ZGVNZW1iZXJzIiwiZ2V0QnlJZCIsIlByb2plY3RzQ2xpZW50IiwiX19hY2Nlc3NDaGVjayQxIiwiX19wcml2YXRlR2V0JDEiLCJfX3ByaXZhdGVBZGQkMSIsIl9fcHJpdmF0ZVNldCQxIiwiX2NsaWVudCIsIl9odHRwUmVxdWVzdCQxIiwiX2NsaWVudDIiLCJfaHR0cFJlcXVlc3QyJDEiLCJPYnNlcnZhYmxlVXNlcnNDbGllbnQiLCJVc2Vyc0NsaWVudCIsIl9fYWNjZXNzQ2hlY2siLCJfX3ByaXZhdGVHZXQiLCJfX3ByaXZhdGVBZGQiLCJfX3ByaXZhdGVTZXQiLCJfY2xpZW50Q29uZmlnIiwiX2h0dHBSZXF1ZXN0IiwiX2NsaWVudENvbmZpZzIiLCJfaHR0cFJlcXVlc3QyIiwiX09ic2VydmFibGVTYW5pdHlDbGllbnQiLCJsaXN0ZW4iLCJhc3NldHMiLCJkYXRhc2V0cyIsInByb2plY3RzIiwidXNlcnMiLCJhbGxvd1JlY29uZmlndXJlIiwid2l0aENvbmZpZyIsImdldERvY3VtZW50IiwiZ2V0RG9jdW1lbnRzIiwidHJhbnNhY3Rpb24iLCJnZXRVcmwiLCJnZXREYXRhVXJsIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIl9TYW5pdHlDbGllbnQiLCJkYXRhUmVxdWVzdCIsIlNhbml0eUNsaWVudCIsImRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMiLCJDbGFzc0NvbnN0cnVjdG9yIiwiY3JlYXRlQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-eLzHI4Fk.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/index.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.BasePatch),\n/* harmony export */   BaseTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction),\n/* harmony export */   ClientError: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ClientError),\n/* harmony export */   ObservablePatch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction),\n/* harmony export */   Patch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.Patch),\n/* harmony export */   SanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient),\n/* harmony export */   ServerError: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ServerError),\n/* harmony export */   Transaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.environment)\n/* harmony export */ });\n/* harmony import */ var _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/browserMiddleware-eLzHI4Fk.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-eLzHI4Fk.js\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n\n\n\nfunction defineDeprecatedCreateClient(createClient) {\n    return function deprecatedCreateClient(config) {\n        (0,_chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.printNoDefaultExport)();\n        return createClient(config);\n    };\n}\nconst exp = (0,_chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.defineCreateClientExports)(_chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.envMiddleware, _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVJO0FBQzREO0FBQ3ZHO0FBQzVGLFNBQVNpQiw2QkFBNkJDLFlBQVk7SUFDaEQsT0FBTyxTQUFTQyx1QkFBdUJDLE1BQU07UUFDM0NwQiwyRkFBb0JBO1FBQ3BCLE9BQU9rQixhQUFhRTtJQUN0QjtBQUNGO0FBQ0EsTUFBTUMsTUFBTXBCLGdHQUF5QkEsQ0FBQ0UsZ0ZBQWFBLEVBQUVELCtFQUFZQTtBQUNqRSxNQUFNb0IsWUFBWUQsSUFBSUMsU0FBUztBQUMvQixNQUFNSixlQUFlRyxJQUFJSCxZQUFZO0FBQ3JDLE1BQU1DLHlCQUF5QkYsNkJBQTZCQztBQUN3QixDQUNwRix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L2luZGV4LmJyb3dzZXIuanM/OTk4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmludE5vRGVmYXVsdEV4cG9ydCwgZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cywgU2FuaXR5Q2xpZW50LCBlbnZNaWRkbGV3YXJlIH0gZnJvbSAnLi9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLWVMekhJNEZrLmpzJztcbmV4cG9ydCB7IEJhc2VQYXRjaCwgQmFzZVRyYW5zYWN0aW9uLCBDbGllbnRFcnJvciwgT2JzZXJ2YWJsZVBhdGNoLCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50LCBPYnNlcnZhYmxlVHJhbnNhY3Rpb24sIFBhdGNoLCBTZXJ2ZXJFcnJvciwgVHJhbnNhY3Rpb24gfSBmcm9tICcuL19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtZUx6SEk0RmsuanMnO1xuZXhwb3J0IHsgYWRhcHRlciBhcyB1bnN0YWJsZV9fYWRhcHRlciwgZW52aXJvbm1lbnQgYXMgdW5zdGFibGVfX2Vudmlyb25tZW50IH0gZnJvbSAnZ2V0LWl0JztcbmZ1bmN0aW9uIGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIHByaW50Tm9EZWZhdWx0RXhwb3J0KCk7XG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChjb25maWcpO1xuICB9O1xufVxuY29uc3QgZXhwID0gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhlbnZNaWRkbGV3YXJlLCBTYW5pdHlDbGllbnQpO1xuY29uc3QgcmVxdWVzdGVyID0gZXhwLnJlcXVlc3RlcjtcbmNvbnN0IGNyZWF0ZUNsaWVudCA9IGV4cC5jcmVhdGVDbGllbnQ7XG5jb25zdCBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50ID0gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpO1xuZXhwb3J0IHsgU2FuaXR5Q2xpZW50LCBjcmVhdGVDbGllbnQsIGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQgYXMgZGVmYXVsdCwgcmVxdWVzdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbInByaW50Tm9EZWZhdWx0RXhwb3J0IiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIlNhbml0eUNsaWVudCIsImVudk1pZGRsZXdhcmUiLCJCYXNlUGF0Y2giLCJCYXNlVHJhbnNhY3Rpb24iLCJDbGllbnRFcnJvciIsIk9ic2VydmFibGVQYXRjaCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJQYXRjaCIsIlNlcnZlckVycm9yIiwiVHJhbnNhY3Rpb24iLCJhZGFwdGVyIiwidW5zdGFibGVfX2FkYXB0ZXIiLCJlbnZpcm9ubWVudCIsInVuc3RhYmxlX19lbnZpcm9ubWVudCIsImRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQiLCJjcmVhdGVDbGllbnQiLCJkZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwiY29uZmlnIiwiZXhwIiwicmVxdWVzdGVyIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/index.browser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/stega.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/stega.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.BasePatch),\n/* harmony export */   BaseTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction),\n/* harmony export */   ClientError: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ClientError),\n/* harmony export */   ObservablePatch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient),\n/* harmony export */   ObservableSanityStegaClient: () => (/* binding */ ObservableSanityStegaClient),\n/* harmony export */   ObservableTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction),\n/* harmony export */   Patch: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.Patch),\n/* harmony export */   SanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient),\n/* harmony export */   SanityStegaClient: () => (/* binding */ SanityStegaClient),\n/* harmony export */   ServerError: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ServerError),\n/* harmony export */   Transaction: () => (/* reexport safe */ _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_2__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_2__.environment),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\n/* harmony import */ var _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/browserMiddleware-eLzHI4Fk.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-eLzHI4Fk.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var _vercel_stega__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vercel/stega */ \"(rsc)/./node_modules/@vercel/stega/dist/index.mjs\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n\n\n\n\n\nconst defaultStegaConfig = {\n    enabled: false,\n    filter: (props)=>props.filterDefault(props)\n};\nfunction splitConfig(config) {\n    const { stega = {}, ...clientConfig } = config;\n    return {\n        clientConfig,\n        stegaConfig: typeof stega === \"boolean\" ? {\n            enabled: stega\n        } : stega\n    };\n}\nconst initStegaConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    const newConfig = Object.assign({}, defaultStegaConfig, specifiedConfig);\n    if (\"encodeSourceMap\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client/stega'. Did you mean 'enabled'?\");\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client/stega'. Did you mean 'filter'?\");\n    }\n    if (typeof newConfig.enabled !== \"boolean\") {\n        throw new Error(\"config.enabled must be a boolean, received \".concat(newConfig.enabled));\n    }\n    if (newConfig.enabled && newConfig.studioUrl === void 0) {\n        throw new Error(\"config.studioUrl must be defined when config.enabled is true\");\n    }\n    if (newConfig.enabled && typeof newConfig.studioUrl !== \"string\" && typeof newConfig.studioUrl !== \"function\") {\n        throw new Error(\"config.studioUrl must be a string or a function, received \".concat(newConfig.studioUrl));\n    }\n    return newConfig;\n};\nfunction splitStegaConfigFromFetchOptions(options, initializedStegaConfig) {\n    const { stega = {}, ...fetchOptions } = options;\n    const stegaConfig = initStegaConfig(typeof stega === \"boolean\" ? {\n        enabled: stega\n    } : stega, initializedStegaConfig);\n    return {\n        fetchOptions,\n        stegaConfig\n    };\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    if (id.startsWith(DRAFTS_PREFIX)) {\n        return id.slice(DRAFTS_PREFIX.length);\n    }\n    return id;\n}\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    if (typeof segment === \"string\") {\n        return reKeySegment.test(segment.trim());\n    }\n    return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) {\n        throw new Error(\"Path is not an array\");\n    }\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") {\n            return \"\".concat(target, \"[\").concat(segment, \"]\");\n        }\n        if (segmentType === \"string\") {\n            const separator = i === 0 ? \"\" : \".\";\n            return \"\".concat(target).concat(separator).concat(segment);\n        }\n        if (isKeySegment(segment) && segment._key) {\n            return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n        }\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n        }\n        throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return \"$\".concat(path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"['\".concat(escapedKey, \"']\");\n        }\n        if (typeof segment === \"number\") {\n            return \"[\".concat(segment, \"]\");\n        }\n        if (segment._key !== \"\") {\n            const escapedKey = segment._key.replace(/['\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n        }\n        return \"[\".concat(segment._index, \"]\");\n    }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n    const parsed = [];\n    const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    while((match = parseRe.exec(path)) !== null){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._key !== \"\") {\n            return {\n                _key: segment._key\n            };\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path } = options;\n    if (!baseUrl) {\n        throw new Error(\"baseUrl is required\");\n    }\n    if (!path) {\n        throw new Error(\"path is required\");\n    }\n    if (!_id) {\n        throw new Error(\"id is required\");\n    }\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n        throw new Error(\"baseUrl must not end with a slash\");\n    }\n    const workspace = _workspace === \"default\" ? void 0 : _workspace;\n    const tool = _tool === \"default\" ? void 0 : _tool;\n    const id = getPublishedId(_id);\n    const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n    const searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace) {\n        searchParams.set(\"workspace\", workspace);\n    }\n    if (tool) {\n        searchParams.set(\"tool\", tool);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    if (workspace) {\n        segments.push(workspace);\n    }\n    const routerParams = [\n        \"mode=presentation\",\n        \"id=\".concat(id),\n        \"type=\".concat(type),\n        \"path=\".concat(encodeURIComponent(stringifiedPath))\n    ];\n    if (tool) {\n        routerParams.push(\"tool=\".concat(tool));\n    }\n    segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n    return segments.join(\"/\");\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!(csm == null ? void 0 : csm.mappings)) {\n        return void 0;\n    }\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) {\n        return {\n            mapping: csm.mappings[resultMappingPath],\n            matchedPath: resultMappingPath,\n            pathSuffix: \"\"\n        };\n    }\n    const mappings = Object.entries(csm.mappings).filter((_ref)=>{\n        let [key] = _ref;\n        return resultMappingPath.startsWith(key);\n    }).sort((_ref2, _ref3)=>{\n        let [key1] = _ref2;\n        let [key2] = _ref3;\n        return key2.length - key1.length;\n    });\n    if (mappings.length == 0) {\n        return void 0;\n    }\n    const [matchedPath, mapping] = mappings[0];\n    const pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n    if (baseUrl !== \"/\") {\n        baseUrl = baseUrl.replace(/\\/$/, \"\");\n    }\n    if (typeof studioUrl === \"string\") {\n        return {\n            baseUrl\n        };\n    }\n    return {\n        ...studioUrl,\n        baseUrl\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn) {\n    let path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (isArray(value)) {\n        return value.map((v, idx)=>{\n            if (isRecord(v)) {\n                const _key = v[\"_key\"];\n                if (typeof _key === \"string\") {\n                    return walkMap(v, mappingFn, path.concat({\n                        _key,\n                        _index: idx\n                    }));\n                }\n            }\n            return walkMap(v, mappingFn, path.concat(idx));\n        });\n    }\n    if (isRecord(value)) {\n        return Object.fromEntries(Object.entries(value).map((_ref4)=>{\n            let [k, v] = _ref4;\n            return [\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ];\n        }));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value !== \"string\") {\n            return value;\n        }\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) {\n            return value;\n        }\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\") {\n            return value;\n        }\n        if (mapping.source.type !== \"documentValue\") {\n            return value;\n        }\n        const sourceDocument = csm.documents[mapping.source.document];\n        const sourcePath = csm.paths[mapping.source.path];\n        const matchPathSegments = parseJsonPath(matchedPath);\n        const sourcePathSegments = parseJsonPath(sourcePath);\n        const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst filterDefault = (_ref5)=>{\n    let { sourcePath, value } = _ref5;\n    if (isValidDate(value) || isValidURL(value)) {\n        return false;\n    }\n    const endPath = sourcePath.at(-1);\n    if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n        return false;\n    }\n    if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n        return false;\n    }\n    if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n        return false;\n    }\n    if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n        return false;\n    }\n    if (endPath === \"style\" || endPath === \"listItem\") {\n        return false;\n    }\n    if (sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\")) {\n        return false;\n    }\n    if (typeof endPath === \"string\" && denylist.has(endPath)) {\n        return false;\n    }\n    return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return Number.isNaN(Number(dateString)) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return false;\n    }\n    return true;\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    if (!resultSourceMap) {\n        (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n            result,\n            resultSourceMap,\n            config\n        });\n        return result;\n    }\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    };\n    const resultWithStega = encodeIntoResult(result, resultSourceMap, (_ref6)=>{\n        let { sourcePath, sourceDocument, resultPath, value } = _ref6;\n        if ((typeof filter === \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === false) {\n            if (logger) {\n                report.skipped.push({\n                    path: prettyPathForLogging(sourcePath),\n                    value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                    length: value.length\n                });\n            }\n            return value;\n        }\n        if (logger) {\n            report.encoded.push({\n                path: prettyPathForLogging(sourcePath),\n                value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                length: value.length\n            });\n        }\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type } = sourceDocument;\n        return (0,_vercel_stega__WEBPACK_IMPORTED_MODULE_1__.vercelStegaCombine)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        false);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length;\n        const isEncoding = report.encoded.length;\n        if (isSkipping || isEncoding) {\n            (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\"[@sanity/client/stega]: Encoding source map into result\");\n            (_e = logger.log) == null ? void 0 : _e.call(logger, \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length));\n        }\n        if (report.encoded.length > 0) {\n            (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n            (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n        }\n        if (report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped){\n                skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            }\n            (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        if (isSkipping || isEncoding) {\n            (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n        }\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nfunction vercelStegaCleanAll(result) {\n    return JSON.parse(JSON.stringify(result, (key, value)=>{\n        if (typeof value !== \"string\") return value;\n        return (0,_vercel_stega__WEBPACK_IMPORTED_MODULE_1__.vercelStegaSplit)(value).cleaned;\n    }));\n}\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _httpRequest, _httpRequest2;\nconst _ObservableSanityStegaClient = class _ObservableSanityStegaClient extends _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest, void 0);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, this.stegaConfig || {});\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, _params) {\n        let _options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const { stegaConfig, fetchOptions: options } = splitStegaConfigFromFetchOptions(_options, this.stegaConfig);\n        const params = _params ? vercelStegaCleanAll(_params) : _params;\n        if (!stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        }));\n    }\n};\n_httpRequest = new WeakMap();\nlet ObservableSanityStegaClient = _ObservableSanityStegaClient;\nconst _SanityStegaClient = class _SanityStegaClient extends _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest2, void 0);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n        this.observable = new ObservableSanityStegaClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, {\n            ...this.stegaConfig || {}\n        });\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, _params) {\n        let _options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const { stegaConfig, fetchOptions: options } = splitStegaConfigFromFetchOptions(_options, this.stegaConfig);\n        const params = _params ? vercelStegaCleanAll(_params) : _params;\n        if (!stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).then((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        });\n    }\n};\n_httpRequest2 = new WeakMap();\nlet SanityStegaClient = _SanityStegaClient;\nconst exp = (0,_chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.defineCreateClientExports)(_chunks_browserMiddleware_eLzHI4Fk_js__WEBPACK_IMPORTED_MODULE_0__.envMiddleware, SanityStegaClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\n //# sourceMappingURL=stega.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9zdGVnYS5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdKO0FBQ21CO0FBQ3RJO0FBQ2dDO0FBQ3VCO0FBQzVGLE1BQU1vQixxQkFBcUI7SUFDekJDLFNBQVM7SUFDVEMsUUFBUUMsQ0FBQUEsUUFBU0EsTUFBTUMsYUFBYSxDQUFDRDtBQUN2QztBQUNBLFNBQVNFLFlBQVlDLE1BQU07SUFDekIsTUFBTSxFQUNKQyxRQUFRLENBQUMsQ0FBQyxFQUNWLEdBQUdDLGNBQ0osR0FBR0Y7SUFDSixPQUFPO1FBQ0xFO1FBQ0FDLGFBQWEsT0FBT0YsVUFBVSxZQUFZO1lBQ3hDTixTQUFTTTtRQUNYLElBQUlBO0lBQ047QUFDRjtBQUNBLE1BQU1HLGtCQUFrQixDQUFDSixRQUFRSztJQUMvQixNQUFNQyxrQkFBa0JDLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdILFlBQVlMO0lBQ3RELE1BQU1TLFlBQVlGLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdkLG9CQUFvQlk7SUFDeEQsSUFBSSxxQkFBcUJHLFdBQVc7UUFDbEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSwyQkFBMkJELFdBQVc7UUFDeEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSxPQUFPRCxVQUFVZCxPQUFPLEtBQUssV0FBVztRQUMxQyxNQUFNLElBQUllLE1BQU0sOENBQThDQyxNQUFNLENBQUNGLFVBQVVkLE9BQU87SUFDeEY7SUFDQSxJQUFJYyxVQUFVZCxPQUFPLElBQUljLFVBQVVHLFNBQVMsS0FBSyxLQUFLLEdBQUc7UUFDdkQsTUFBTSxJQUFJRixNQUFNO0lBQ2xCO0lBQ0EsSUFBSUQsVUFBVWQsT0FBTyxJQUFJLE9BQU9jLFVBQVVHLFNBQVMsS0FBSyxZQUFZLE9BQU9ILFVBQVVHLFNBQVMsS0FBSyxZQUFZO1FBQzdHLE1BQU0sSUFBSUYsTUFBTSw2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M0RtTCxnQkFBZ0I7WUFDaEJ6RCxpQkFBaUI7UUFDbkIsSUFBSWtFLElBQUksQ0FBQ04sQ0FBQUE7WUFDUCxNQUFNLEVBQ0ozRixRQUFRNEYsT0FBTyxFQUNmN0QsZUFBZSxFQUNoQixHQUFHNEQ7WUFDSixNQUFNM0YsU0FBUzhCLHFCQUFxQjhELFNBQVM3RCxpQkFBaUJySTtZQUM5RCxPQUFPK0wseUJBQXlCekYsU0FBUztnQkFDdkMsR0FBRzJGLEdBQUc7Z0JBQ04zRjtZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBQ0E0RSxnQkFBZ0IsSUFBSWlCO0FBQ3BCLElBQUlLLG9CQUFvQkg7QUFDeEIsTUFBTUksTUFBTW5PLGdHQUF5QkEsQ0FBQ0MsZ0ZBQWFBLEVBQUVpTztBQUNyRCxNQUFNRSxZQUFZRCxJQUFJQyxTQUFTO0FBQy9CLE1BQU1DLGVBQWVGLElBQUlFLFlBQVk7QUFDaUosQ0FDdEwseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWNvbW1lcmNlLXl0LWJ5LW1pa2UvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9zdGVnYS5icm93c2VyLmpzP2ZiYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCwgZGVmYXVsdENvbmZpZywgU2FuaXR5Q2xpZW50LCBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzLCBlbnZNaWRkbGV3YXJlIH0gZnJvbSAnLi9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLWVMekhJNEZrLmpzJztcbmV4cG9ydCB7IEJhc2VQYXRjaCwgQmFzZVRyYW5zYWN0aW9uLCBDbGllbnRFcnJvciwgT2JzZXJ2YWJsZVBhdGNoLCBPYnNlcnZhYmxlVHJhbnNhY3Rpb24sIFBhdGNoLCBTZXJ2ZXJFcnJvciwgVHJhbnNhY3Rpb24gfSBmcm9tICcuL19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtZUx6SEk0RmsuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgdmVyY2VsU3RlZ2FDb21iaW5lLCB2ZXJjZWxTdGVnYVNwbGl0IH0gZnJvbSAnQHZlcmNlbC9zdGVnYSc7XG5leHBvcnQgeyBhZGFwdGVyIGFzIHVuc3RhYmxlX19hZGFwdGVyLCBlbnZpcm9ubWVudCBhcyB1bnN0YWJsZV9fZW52aXJvbm1lbnQgfSBmcm9tICdnZXQtaXQnO1xuY29uc3QgZGVmYXVsdFN0ZWdhQ29uZmlnID0ge1xuICBlbmFibGVkOiBmYWxzZSxcbiAgZmlsdGVyOiBwcm9wcyA9PiBwcm9wcy5maWx0ZXJEZWZhdWx0KHByb3BzKVxufTtcbmZ1bmN0aW9uIHNwbGl0Q29uZmlnKGNvbmZpZykge1xuICBjb25zdCB7XG4gICAgc3RlZ2EgPSB7fSxcbiAgICAuLi5jbGllbnRDb25maWdcbiAgfSA9IGNvbmZpZztcbiAgcmV0dXJuIHtcbiAgICBjbGllbnRDb25maWcsXG4gICAgc3RlZ2FDb25maWc6IHR5cGVvZiBzdGVnYSA9PT0gXCJib29sZWFuXCIgPyB7XG4gICAgICBlbmFibGVkOiBzdGVnYVxuICAgIH0gOiBzdGVnYVxuICB9O1xufVxuY29uc3QgaW5pdFN0ZWdhQ29uZmlnID0gKGNvbmZpZywgcHJldkNvbmZpZykgPT4ge1xuICBjb25zdCBzcGVjaWZpZWRDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2Q29uZmlnLCBjb25maWcpO1xuICBjb25zdCBuZXdDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3RlZ2FDb25maWcsIHNwZWNpZmllZENvbmZpZyk7XG4gIGlmIChcImVuY29kZVNvdXJjZU1hcFwiIGluIG5ld0NvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L3ByZXZpZXcta2l0L2NsaWVudCcuICdlbmNvZGVTb3VyY2VNYXAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gJ0BzYW5pdHkvY2xpZW50L3N0ZWdhJy4gRGlkIHlvdSBtZWFuICdlbmFibGVkJz9cIik7XG4gIH1cbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwQXRQYXRoXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQvc3RlZ2EnLiBEaWQgeW91IG1lYW4gJ2ZpbHRlcic/XCIpO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3Q29uZmlnLmVuYWJsZWQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29uZmlnLmVuYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW4sIHJlY2VpdmVkIFwiLmNvbmNhdChuZXdDb25maWcuZW5hYmxlZCkpO1xuICB9XG4gIGlmIChuZXdDb25maWcuZW5hYmxlZCAmJiBuZXdDb25maWcuc3R1ZGlvVXJsID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZCB3aGVuIGNvbmZpZy5lbmFibGVkIGlzIHRydWVcIik7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5lbmFibGVkICYmIHR5cGVvZiBuZXdDb25maWcuc3R1ZGlvVXJsICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBuZXdDb25maWcuc3R1ZGlvVXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiwgcmVjZWl2ZWQgXCIuY29uY2F0KG5ld0NvbmZpZy5zdHVkaW9VcmwpKTtcbiAgfVxuICByZXR1cm4gbmV3Q29uZmlnO1xufTtcbmZ1bmN0aW9uIHNwbGl0U3RlZ2FDb25maWdGcm9tRmV0Y2hPcHRpb25zKG9wdGlvbnMsIGluaXRpYWxpemVkU3RlZ2FDb25maWcpIHtcbiAgY29uc3Qge1xuICAgIHN0ZWdhID0ge30sXG4gICAgLi4uZmV0Y2hPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzdGVnYUNvbmZpZyA9IGluaXRTdGVnYUNvbmZpZyh0eXBlb2Ygc3RlZ2EgPT09IFwiYm9vbGVhblwiID8ge1xuICAgIGVuYWJsZWQ6IHN0ZWdhXG4gIH0gOiBzdGVnYSwgaW5pdGlhbGl6ZWRTdGVnYUNvbmZpZyk7XG4gIHJldHVybiB7XG4gICAgZmV0Y2hPcHRpb25zLFxuICAgIHN0ZWdhQ29uZmlnXG4gIH07XG59XG5jb25zdCBEUkFGVFNfUFJFRklYID0gXCJkcmFmdHMuXCI7XG5mdW5jdGlvbiBnZXRQdWJsaXNoZWRJZChpZCkge1xuICBpZiAoaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSkge1xuICAgIHJldHVybiBpZC5zbGljZShEUkFGVFNfUFJFRklYLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGlkO1xufVxuY29uc3QgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vO1xuZnVuY3Rpb24gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHJlS2V5U2VnbWVudC50ZXN0KHNlZ21lbnQudHJpbSgpKTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIHNlZ21lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJfa2V5XCIgaW4gc2VnbWVudDtcbn1cbmZ1bmN0aW9uIHRvU3RyaW5nKHBhdGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0aCBpcyBub3QgYW4gYXJyYXlcIik7XG4gIH1cbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBzZWdtZW50VHlwZSA9IHR5cGVvZiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRhcmdldCwgXCJbXCIpLmNvbmNhdChzZWdtZW50LCBcIl1cIik7XG4gICAgfVxuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgc2VwYXJhdG9yID0gaSA9PT0gMCA/IFwiXCIgOiBcIi5cIjtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQpLmNvbmNhdChzZXBhcmF0b3IpLmNvbmNhdChzZWdtZW50KTtcbiAgICB9XG4gICAgaWYgKGlzS2V5U2VnbWVudChzZWdtZW50KSAmJiBzZWdtZW50Ll9rZXkpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsICdbX2tleT09XCInKS5jb25jYXQoc2VnbWVudC5fa2V5LCAnXCJdJyk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICBjb25zdCBbZnJvbSwgdG9dID0gc2VnbWVudDtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsIFwiW1wiKS5jb25jYXQoZnJvbSwgXCI6XCIpLmNvbmNhdCh0bywgXCJdXCIpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBwYXRoIHNlZ21lbnQgYFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSwgXCJgXCIpKTtcbiAgfSwgXCJcIik7XG59XG5jb25zdCBFU0NBUEUgPSB7XG4gIFwiXFxmXCI6IFwiXFxcXGZcIixcbiAgXCJcXG5cIjogXCJcXFxcblwiLFxuICBcIlxcclwiOiBcIlxcXFxyXCIsXG4gIFwiXHRcIjogXCJcXFxcdFwiLFxuICBcIidcIjogXCJcXFxcJ1wiLFxuICBcIlxcXFxcIjogXCJcXFxcXFxcXFwiXG59O1xuY29uc3QgVU5FU0NBUEUgPSB7XG4gIFwiXFxcXGZcIjogXCJcXGZcIixcbiAgXCJcXFxcblwiOiBcIlxcblwiLFxuICBcIlxcXFxyXCI6IFwiXFxyXCIsXG4gIFwiXFxcXHRcIjogXCJcdFwiLFxuICBcIlxcXFwnXCI6IFwiJ1wiLFxuICBcIlxcXFxcXFxcXCI6IFwiXFxcXFwiXG59O1xuZnVuY3Rpb24ganNvblBhdGgocGF0aCkge1xuICByZXR1cm4gXCIkXCIuY29uY2F0KHBhdGgubWFwKHNlZ21lbnQgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZXNjYXBlZEtleSA9IHNlZ21lbnQucmVwbGFjZSgvW1xcZlxcblxcclxcdCdcXFxcXS9nLCBtYXRjaCA9PiB7XG4gICAgICAgIHJldHVybiBFU0NBUEVbbWF0Y2hdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gXCJbJ1wiLmNvbmNhdChlc2NhcGVkS2V5LCBcIiddXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBcIltcIi5jb25jYXQoc2VnbWVudCwgXCJdXCIpO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudC5fa2V5ICE9PSBcIlwiKSB7XG4gICAgICBjb25zdCBlc2NhcGVkS2V5ID0gc2VnbWVudC5fa2V5LnJlcGxhY2UoL1snXFxcXF0vZywgbWF0Y2ggPT4ge1xuICAgICAgICByZXR1cm4gRVNDQVBFW21hdGNoXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFwiWz8oQC5fa2V5PT0nXCIuY29uY2F0KGVzY2FwZWRLZXksIFwiJyldXCIpO1xuICAgIH1cbiAgICByZXR1cm4gXCJbXCIuY29uY2F0KHNlZ21lbnQuX2luZGV4LCBcIl1cIik7XG4gIH0pLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gcGFyc2VKc29uUGF0aChwYXRoKSB7XG4gIGNvbnN0IHBhcnNlZCA9IFtdO1xuICBjb25zdCBwYXJzZVJlID0gL1xcWycoLio/KSdcXF18XFxbKFxcZCspXFxdfFxcW1xcP1xcKEBcXC5fa2V5PT0nKC4qPyknXFwpXFxdL2c7XG4gIGxldCBtYXRjaDtcbiAgd2hpbGUgKChtYXRjaCA9IHBhcnNlUmUuZXhlYyhwYXRoKSkgIT09IG51bGwpIHtcbiAgICBpZiAobWF0Y2hbMV0gIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qga2V5ID0gbWF0Y2hbMV0ucmVwbGFjZSgvXFxcXChcXFxcfGZ8bnxyfHR8JykvZywgbSA9PiB7XG4gICAgICAgIHJldHVybiBVTkVTQ0FQRVttXTtcbiAgICAgIH0pO1xuICAgICAgcGFyc2VkLnB1c2goa2V5KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWF0Y2hbMl0gIT09IHZvaWQgMCkge1xuICAgICAgcGFyc2VkLnB1c2gocGFyc2VJbnQobWF0Y2hbMl0sIDEwKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzNdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IF9rZXkgPSBtYXRjaFszXS5yZXBsYWNlKC9cXFxcKFxcXFwnKS9nLCBtID0+IHtcbiAgICAgICAgcmV0dXJuIFVORVNDQVBFW21dO1xuICAgICAgfSk7XG4gICAgICBwYXJzZWQucHVzaCh7XG4gICAgICAgIF9rZXksXG4gICAgICAgIF9pbmRleDogLTFcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiBqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSB7XG4gIHJldHVybiBwYXRoLm1hcChzZWdtZW50ID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAoc2VnbWVudC5fa2V5ICE9PSBcIlwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfa2V5OiBzZWdtZW50Ll9rZXlcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzZWdtZW50Ll9pbmRleDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzZWdtZW50OlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9NYXBwaW5nUGF0aChwYXRoKSB7XG4gIHJldHVybiBwYXRoLm1hcChzZWdtZW50ID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKSB7XG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2VnbWVudDpcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFZGl0VXJsKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwsXG4gICAgd29ya3NwYWNlOiBfd29ya3NwYWNlID0gXCJkZWZhdWx0XCIsXG4gICAgdG9vbDogX3Rvb2wgPSBcImRlZmF1bHRcIixcbiAgICBpZDogX2lkLFxuICAgIHR5cGUsXG4gICAgcGF0aFxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCFiYXNlVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoIXBhdGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXRoIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmICghX2lkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiICYmIGJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBtdXN0IG5vdCBlbmQgd2l0aCBhIHNsYXNoXCIpO1xuICB9XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZTtcbiAgY29uc3QgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sO1xuICBjb25zdCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCk7XG4gIGNvbnN0IHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICBpZiAod29ya3NwYWNlKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpO1xuICB9XG4gIGlmICh0b29sKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcInRvb2xcIiwgdG9vbCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIGlmICh3b3Jrc3BhY2UpIHtcbiAgICBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIH1cbiAgY29uc3Qgcm91dGVyUGFyYW1zID0gW1wibW9kZT1wcmVzZW50YXRpb25cIiwgXCJpZD1cIi5jb25jYXQoaWQpLCBcInR5cGU9XCIuY29uY2F0KHR5cGUpLCBcInBhdGg9XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpKV07XG4gIGlmICh0b29sKSB7XG4gICAgcm91dGVyUGFyYW1zLnB1c2goXCJ0b29sPVwiLmNvbmNhdCh0b29sKSk7XG4gIH1cbiAgc2VnbWVudHMucHVzaChcImludGVudFwiLCBcImVkaXRcIiwgXCJcIi5jb25jYXQocm91dGVyUGFyYW1zLmpvaW4oXCI7XCIpLCBcIj9cIikuY29uY2F0KHNlYXJjaFBhcmFtcykpO1xuICByZXR1cm4gc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCEoY3NtID09IG51bGwgPyB2b2lkIDAgOiBjc20ubWFwcGluZ3MpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCByZXN1bHRNYXBwaW5nUGF0aCA9IGpzb25QYXRoKGpzb25QYXRoVG9NYXBwaW5nUGF0aChyZXN1bHRQYXRoKSk7XG4gIGlmIChjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwcGluZzogY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSxcbiAgICAgIG1hdGNoZWRQYXRoOiByZXN1bHRNYXBwaW5nUGF0aCxcbiAgICAgIHBhdGhTdWZmaXg6IFwiXCJcbiAgICB9O1xuICB9XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoX3JlZiA9PiB7XG4gICAgbGV0IFtrZXldID0gX3JlZjtcbiAgICByZXR1cm4gcmVzdWx0TWFwcGluZ1BhdGguc3RhcnRzV2l0aChrZXkpO1xuICB9KS5zb3J0KChfcmVmMiwgX3JlZjMpID0+IHtcbiAgICBsZXQgW2tleTFdID0gX3JlZjI7XG4gICAgbGV0IFtrZXkyXSA9IF9yZWYzO1xuICAgIHJldHVybiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoO1xuICB9KTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbbWF0Y2hlZFBhdGgsIG1hcHBpbmddID0gbWFwcGluZ3NbMF07XG4gIGNvbnN0IHBhdGhTdWZmaXggPSByZXN1bHRNYXBwaW5nUGF0aC5zdWJzdHJpbmcobWF0Y2hlZFBhdGgubGVuZ3RoKTtcbiAgcmV0dXJuIHtcbiAgICBtYXBwaW5nLFxuICAgIG1hdGNoZWRQYXRoLFxuICAgIHBhdGhTdWZmaXhcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTdHVkaW9CYXNlUm91dGUoc3R1ZGlvVXJsKSB7XG4gIGxldCBiYXNlVXJsID0gdHlwZW9mIHN0dWRpb1VybCA9PT0gXCJzdHJpbmdcIiA/IHN0dWRpb1VybCA6IHN0dWRpb1VybC5iYXNlVXJsO1xuICBpZiAoYmFzZVVybCAhPT0gXCIvXCIpIHtcbiAgICBiYXNlVXJsID0gYmFzZVVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBzdHVkaW9VcmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZVVybFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5zdHVkaW9VcmwsXG4gICAgYmFzZVVybFxuICB9O1xufVxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gd2Fsa01hcCh2YWx1ZSwgbWFwcGluZ0ZuKSB7XG4gIGxldCBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgodiwgaWR4KSA9PiB7XG4gICAgICBpZiAoaXNSZWNvcmQodikpIHtcbiAgICAgICAgY29uc3QgX2tleSA9IHZbXCJfa2V5XCJdO1xuICAgICAgICBpZiAodHlwZW9mIF9rZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICByZXR1cm4gd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KHtcbiAgICAgICAgICAgIF9rZXksXG4gICAgICAgICAgICBfaW5kZXg6IGlkeFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChpZHgpKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoaXNSZWNvcmQodmFsdWUpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh2YWx1ZSkubWFwKF9yZWY0ID0+IHtcbiAgICAgIGxldCBbaywgdl0gPSBfcmVmNDtcbiAgICAgIHJldHVybiBbaywgd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KGspKV07XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBtYXBwaW5nRm4odmFsdWUsIHBhdGgpO1xufVxuZnVuY3Rpb24gZW5jb2RlSW50b1Jlc3VsdChyZXN1bHQsIGNzbSwgZW5jb2Rlcikge1xuICByZXR1cm4gd2Fsa01hcChyZXN1bHQsICh2YWx1ZSwgcGF0aCkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZU1hcHBpbmdSZXN1bHQgPSByZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbWFwcGluZyxcbiAgICAgIG1hdGNoZWRQYXRoXG4gICAgfSA9IHJlc29sdmVNYXBwaW5nUmVzdWx0O1xuICAgIGlmIChtYXBwaW5nLnR5cGUgIT09IFwidmFsdWVcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAobWFwcGluZy5zb3VyY2UudHlwZSAhPT0gXCJkb2N1bWVudFZhbHVlXCIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlRG9jdW1lbnQgPSBjc20uZG9jdW1lbnRzW21hcHBpbmcuc291cmNlLmRvY3VtZW50XTtcbiAgICBjb25zdCBzb3VyY2VQYXRoID0gY3NtLnBhdGhzW21hcHBpbmcuc291cmNlLnBhdGhdO1xuICAgIGNvbnN0IG1hdGNoUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChtYXRjaGVkUGF0aCk7XG4gICAgY29uc3Qgc291cmNlUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChzb3VyY2VQYXRoKTtcbiAgICBjb25zdCBmdWxsU291cmNlU2VnbWVudHMgPSBzb3VyY2VQYXRoU2VnbWVudHMuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5jb25zdCBmaWx0ZXJEZWZhdWx0ID0gX3JlZjUgPT4ge1xuICBsZXQge1xuICAgIHNvdXJjZVBhdGgsXG4gICAgdmFsdWVcbiAgfSA9IF9yZWY1O1xuICBpZiAoaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVmFsaWRVUkwodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgaWYgKHNvdXJjZVBhdGguYXQoLTIpID09PSBcInNsdWdcIiAmJiBlbmRQYXRoID09PSBcImN1cnJlbnRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwic3RyaW5nXCIgJiYgZW5kUGF0aC5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMikgPT09IFwibWFya3NcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kUGF0aCA9PT0gXCJocmVmXCIgJiYgdHlwZW9mIHNvdXJjZVBhdGguYXQoLTIpID09PSBcIm51bWJlclwiICYmIHNvdXJjZVBhdGguYXQoLTMpID09PSBcIm1hcmtEZWZzXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVuZFBhdGggPT09IFwic3R5bGVcIiB8fCBlbmRQYXRoID09PSBcImxpc3RJdGVtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNvdXJjZVBhdGguc29tZShwYXRoID0+IHBhdGggPT09IFwibWV0YVwiIHx8IHBhdGggPT09IFwibWV0YWRhdGFcIiB8fCBwYXRoID09PSBcIm9wZW5HcmFwaFwiIHx8IHBhdGggPT09IFwic2VvXCIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJzdHJpbmdcIiAmJiBkZW55bGlzdC5oYXMoZW5kUGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgZGVueWxpc3QgPSAvKiBAX19QVVJFX18gKi9uZXcgU2V0KFtcImNvbG9yXCIsIFwiY29sb3VyXCIsIFwiY3VycmVuY3lcIiwgXCJlbWFpbFwiLCBcImZvcm1hdFwiLCBcImdpZFwiLCBcImhleFwiLCBcImhyZWZcIiwgXCJoc2xcIiwgXCJoc2xhXCIsIFwiaWNvblwiLCBcImlkXCIsIFwiaW5kZXhcIiwgXCJrZXlcIiwgXCJsYW5ndWFnZVwiLCBcImxheW91dFwiLCBcImxpbmtcIiwgXCJsaW5rQWN0aW9uXCIsIFwibG9jYWxlXCIsIFwibHFpcFwiLCBcInBhZ2VcIiwgXCJwYXRoXCIsIFwicmVmXCIsIFwicmdiXCIsIFwicmdiYVwiLCBcInJvdXRlXCIsIFwic2VjcmV0XCIsIFwic2x1Z1wiLCBcInN0YXR1c1wiLCBcInRhZ1wiLCBcInRlbXBsYXRlXCIsIFwidGhlbWVcIiwgXCJ0eXBlXCIsIFwidW5pdFwiLCBcInVybFwiLCBcInVzZXJuYW1lXCIsIFwidmFyaWFudFwiLCBcIndlYnNpdGVcIl0pO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVN0cmluZykge1xuICByZXR1cm4gTnVtYmVyLmlzTmFOKE51bWJlcihkYXRlU3RyaW5nKSkgPyBCb29sZWFuKERhdGUucGFyc2UoZGF0ZVN0cmluZykpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsLCB1cmwuc3RhcnRzV2l0aChcIi9cIikgPyBcImh0dHBzOi8vYWNtZS5jb21cIiA6IHZvaWQgMCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IFRSVU5DQVRFX0xFTkdUSCA9IDIwO1xuZnVuY3Rpb24gc3RlZ2FFbmNvZGVTb3VyY2VNYXAocmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaTtcbiAgY29uc3Qge1xuICAgIGZpbHRlcixcbiAgICBsb2dnZXIsXG4gICAgZW5hYmxlZFxuICB9ID0gY29uZmlnO1xuICBpZiAoIWVuYWJsZWQpIHtcbiAgICBjb25zdCBtc2cgPSBcImNvbmZpZy5lbmFibGVkIG11c3QgYmUgdHJ1ZSwgZG9uJ3QgY2FsbCB0aGlzIGZ1bmN0aW9uIG90aGVyd2lzZVwiO1xuICAgIChfYSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogXCIuY29uY2F0KG1zZyksIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBpZiAoIXJlc3VsdFNvdXJjZU1hcCkge1xuICAgIChfYiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTWlzc2luZyBDb250ZW50IFNvdXJjZSBNYXAgZnJvbSByZXNwb25zZSBib2R5XCIsIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIChfYyA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogXCIuY29uY2F0KG1zZyksIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBjb25zdCByZXBvcnQgPSB7XG4gICAgZW5jb2RlZDogW10sXG4gICAgc2tpcHBlZDogW11cbiAgfTtcbiAgY29uc3QgcmVzdWx0V2l0aFN0ZWdhID0gZW5jb2RlSW50b1Jlc3VsdChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgX3JlZjYgPT4ge1xuICAgIGxldCB7XG4gICAgICBzb3VyY2VQYXRoLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoLFxuICAgICAgdmFsdWVcbiAgICB9ID0gX3JlZjY7XG4gICAgaWYgKCh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgPyBmaWx0ZXIoe1xuICAgICAgc291cmNlUGF0aCxcbiAgICAgIHJlc3VsdFBhdGgsXG4gICAgICBmaWx0ZXJEZWZhdWx0LFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICB2YWx1ZVxuICAgIH0pIDogZmlsdGVyRGVmYXVsdCh7XG4gICAgICBzb3VyY2VQYXRoLFxuICAgICAgcmVzdWx0UGF0aCxcbiAgICAgIGZpbHRlckRlZmF1bHQsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHZhbHVlXG4gICAgfSkpID09PSBmYWxzZSkge1xuICAgICAgaWYgKGxvZ2dlcikge1xuICAgICAgICByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGxvZ2dlcikge1xuICAgICAgcmVwb3J0LmVuY29kZWQucHVzaCh7XG4gICAgICAgIHBhdGg6IHByZXR0eVBhdGhGb3JMb2dnaW5nKHNvdXJjZVBhdGgpLFxuICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBiYXNlVXJsLFxuICAgICAgd29ya3NwYWNlLFxuICAgICAgdG9vbFxuICAgIH0gPSByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKHR5cGVvZiBjb25maWcuc3R1ZGlvVXJsID09PSBcImZ1bmN0aW9uXCIgPyBjb25maWcuc3R1ZGlvVXJsKHNvdXJjZURvY3VtZW50KSA6IGNvbmZpZy5zdHVkaW9VcmwpO1xuICAgIGlmICghYmFzZVVybCkgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHtcbiAgICAgIF9pZDogaWQsXG4gICAgICBfdHlwZTogdHlwZVxuICAgIH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICByZXR1cm4gdmVyY2VsU3RlZ2FDb21iaW5lKHZhbHVlLCB7XG4gICAgICBvcmlnaW46IFwic2FuaXR5LmlvXCIsXG4gICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgYmFzZVVybCxcbiAgICAgICAgd29ya3NwYWNlLFxuICAgICAgICB0b29sLFxuICAgICAgICBpZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcGF0aDogc291cmNlUGF0aFxuICAgICAgfSlcbiAgICB9LFxuICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgZmFsc2UpO1xuICB9KTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGg7XG4gICAgY29uc3QgaXNFbmNvZGluZyA9IHJlcG9ydC5lbmNvZGVkLmxlbmd0aDtcbiAgICBpZiAoaXNTa2lwcGluZyB8fCBpc0VuY29kaW5nKSB7XG4gICAgICAoX2QgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZChcIltAc2FuaXR5L2NsaWVudC9zdGVnYV06IEVuY29kaW5nIHNvdXJjZSBtYXAgaW50byByZXN1bHRcIik7XG4gICAgICAoX2UgPSBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogUGF0aHMgZW5jb2RlZDogXCIuY29uY2F0KHJlcG9ydC5lbmNvZGVkLmxlbmd0aCwgXCIsIHNraXBwZWQ6IFwiKS5jb25jYXQocmVwb3J0LnNraXBwZWQubGVuZ3RoKSk7XG4gICAgfVxuICAgIGlmIChyZXBvcnQuZW5jb2RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAoX2YgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBUYWJsZSBvZiBlbmNvZGVkIHBhdGhzXCIpO1xuICAgICAgKF9nID0gKGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLnRhYmxlKSB8fCBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2cocmVwb3J0LmVuY29kZWQpO1xuICAgIH1cbiAgICBpZiAocmVwb3J0LnNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc2tpcHBlZCA9IC8qIEBfX1BVUkVfXyAqL25ldyBTZXQoKTtcbiAgICAgIGZvciAoY29uc3Qge1xuICAgICAgICBwYXRoXG4gICAgICB9IG9mIHJlcG9ydC5za2lwcGVkKSB7XG4gICAgICAgIHNraXBwZWQuYWRkKHBhdGgucmVwbGFjZShyZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgfVxuICAgICAgKF9oID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2guY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTGlzdCBvZiBza2lwcGVkIHBhdGhzXCIsIFsuLi5za2lwcGVkLnZhbHVlcygpXSk7XG4gICAgfVxuICAgIGlmIChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpIHtcbiAgICAgIChfaSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmdyb3VwRW5kKSA9PSBudWxsID8gdm9pZCAwIDogX2kuY2FsbChsb2dnZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpO1xufVxuZnVuY3Rpb24gdmVyY2VsU3RlZ2FDbGVhbkFsbChyZXN1bHQpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gdmVyY2VsU3RlZ2FTcGxpdCh2YWx1ZSkuY2xlYW5lZDtcbiAgfSkpO1xufVxudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfaHR0cFJlcXVlc3QsIF9odHRwUmVxdWVzdDI7XG5jb25zdCBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50ID0gY2xhc3MgX09ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCBleHRlbmRzIE9ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCkge1xuICAgIGxldCBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRDb25maWc7XG4gICAgY29uc3Qge1xuICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcoY29uZmlnKTtcbiAgICBzdXBlcihodHRwUmVxdWVzdCwgY2xpZW50Q29uZmlnKTtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QsIGh0dHBSZXF1ZXN0KTtcbiAgICB0aGlzLnN0ZWdhQ29uZmlnID0gaW5pdFN0ZWdhQ29uZmlnKHN0ZWdhQ29uZmlnLCBkZWZhdWx0U3RlZ2FDb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdXBlci5jb25maWcoKSxcbiAgICAgICAgc3RlZ2E6IHtcbiAgICAgICAgICAuLi50aGlzLnN0ZWdhQ29uZmlnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGNsaWVudENvbmZpZyxcbiAgICAgIHN0ZWdhQ29uZmlnXG4gICAgfSA9IHNwbGl0Q29uZmlnKG5ld0NvbmZpZyk7XG4gICAgc3VwZXIuY29uZmlnKGNsaWVudENvbmZpZyk7XG4gICAgdGhpcy5zdGVnYUNvbmZpZyA9IGluaXRTdGVnYUNvbmZpZyhzdGVnYUNvbmZpZywgdGhpcy5zdGVnYUNvbmZpZyB8fCB7fSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICBjb25zdCB0aGlzQ29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICBjb25zdCB7XG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhuZXdDb25maWcgfHwge30pO1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLih0aGlzQ29uZmlnLnN0ZWdhIHx8IHt9KSxcbiAgICAgICAgLi4uKHN0ZWdhQ29uZmlnIHx8IHt9KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBfcGFyYW1zKSB7XG4gICAgbGV0IF9vcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjb25zdCB7XG4gICAgICBzdGVnYUNvbmZpZyxcbiAgICAgIGZldGNoT3B0aW9uczogb3B0aW9uc1xuICAgIH0gPSBzcGxpdFN0ZWdhQ29uZmlnRnJvbUZldGNoT3B0aW9ucyhfb3B0aW9ucywgdGhpcy5zdGVnYUNvbmZpZyk7XG4gICAgY29uc3QgcGFyYW1zID0gX3BhcmFtcyA/IHZlcmNlbFN0ZWdhQ2xlYW5BbGwoX3BhcmFtcykgOiBfcGFyYW1zO1xuICAgIGlmICghc3RlZ2FDb25maWcuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHN1cGVyLmZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBmaWx0ZXJSZXNwb25zZTogb3JpZ2luYWxGaWx0ZXJSZXNwb25zZSA9IHRydWVcbiAgICB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gc3VwZXIuZmV0Y2gocXVlcnksIHBhcmFtcywgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgZmlsdGVyUmVzcG9uc2U6IGZhbHNlLFxuICAgICAgcmVzdWx0U291cmNlTWFwOiBcIndpdGhLZXlBcnJheVNlbGVjdG9yXCJcbiAgICB9KSkucGlwZShtYXAocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHN0ZWdhQ29uZmlnKTtcbiAgICAgIHJldHVybiBvcmlnaW5hbEZpbHRlclJlc3BvbnNlID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXMsXG4gICAgICAgIHJlc3VsdFxuICAgICAgfTtcbiAgICB9KSk7XG4gIH1cbn07XG5faHR0cFJlcXVlc3QgPSBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCA9IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQ7XG5jb25zdCBfU2FuaXR5U3RlZ2FDbGllbnQgPSBjbGFzcyBfU2FuaXR5U3RlZ2FDbGllbnQgZXh0ZW5kcyBTYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCkge1xuICAgIGxldCBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRDb25maWc7XG4gICAgY29uc3Qge1xuICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcoY29uZmlnKTtcbiAgICBzdXBlcihodHRwUmVxdWVzdCwgY2xpZW50Q29uZmlnKTtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0Miwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0MiwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIGRlZmF1bHRTdGVnYUNvbmZpZyk7XG4gICAgdGhpcy5vYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudChodHRwUmVxdWVzdCwgY29uZmlnKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1Nhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3VwZXIuY29uZmlnKCksXG4gICAgICAgIHN0ZWdhOiB7XG4gICAgICAgICAgLi4udGhpcy5zdGVnYUNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRDb25maWcsXG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhuZXdDb25maWcpO1xuICAgIHN1cGVyLmNvbmZpZyhjbGllbnRDb25maWcpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIHtcbiAgICAgIC4uLih0aGlzLnN0ZWdhQ29uZmlnIHx8IHt9KVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgY29uc3QgdGhpc0NvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgY29uc3Qge1xuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcobmV3Q29uZmlnIHx8IHt9KTtcbiAgICByZXR1cm4gbmV3IF9TYW5pdHlTdGVnYUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi4odGhpc0NvbmZpZy5zdGVnYSB8fCB7fSksXG4gICAgICAgIC4uLihzdGVnYUNvbmZpZyB8fCB7fSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgX3BhcmFtcykge1xuICAgIGxldCBfb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY29uc3Qge1xuICAgICAgc3RlZ2FDb25maWcsXG4gICAgICBmZXRjaE9wdGlvbnM6IG9wdGlvbnNcbiAgICB9ID0gc3BsaXRTdGVnYUNvbmZpZ0Zyb21GZXRjaE9wdGlvbnMoX29wdGlvbnMsIHRoaXMuc3RlZ2FDb25maWcpO1xuICAgIGNvbnN0IHBhcmFtcyA9IF9wYXJhbXMgPyB2ZXJjZWxTdGVnYUNsZWFuQWxsKF9wYXJhbXMpIDogX3BhcmFtcztcbiAgICBpZiAoIXN0ZWdhQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBzdXBlci5mZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZmlsdGVyUmVzcG9uc2U6IG9yaWdpbmFsRmlsdGVyUmVzcG9uc2UgPSB0cnVlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHN1cGVyLmZldGNoKHF1ZXJ5LCBwYXJhbXMsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIGZpbHRlclJlc3BvbnNlOiBmYWxzZSxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcDogXCJ3aXRoS2V5QXJyYXlTZWxlY3RvclwiXG4gICAgfSkpLnRoZW4ocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHN0ZWdhQ29uZmlnKTtcbiAgICAgIHJldHVybiBvcmlnaW5hbEZpbHRlclJlc3BvbnNlID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXMsXG4gICAgICAgIHJlc3VsdFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufTtcbl9odHRwUmVxdWVzdDIgPSBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eVN0ZWdhQ2xpZW50ID0gX1Nhbml0eVN0ZWdhQ2xpZW50O1xuY29uc3QgZXhwID0gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhlbnZNaWRkbGV3YXJlLCBTYW5pdHlTdGVnYUNsaWVudCk7XG5jb25zdCByZXF1ZXN0ZXIgPSBleHAucmVxdWVzdGVyO1xuY29uc3QgY3JlYXRlQ2xpZW50ID0gZXhwLmNyZWF0ZUNsaWVudDtcbmV4cG9ydCB7IE9ic2VydmFibGVTYW5pdHlDbGllbnQsIE9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCwgU2FuaXR5Q2xpZW50LCBTYW5pdHlTdGVnYUNsaWVudCwgY3JlYXRlQ2xpZW50LCBlbmNvZGVJbnRvUmVzdWx0LCByZXF1ZXN0ZXIsIHN0ZWdhRW5jb2RlU291cmNlTWFwLCB2ZXJjZWxTdGVnYUNsZWFuQWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVnYS5icm93c2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJkZWZhdWx0Q29uZmlnIiwiU2FuaXR5Q2xpZW50IiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsImVudk1pZGRsZXdhcmUiLCJCYXNlUGF0Y2giLCJCYXNlVHJhbnNhY3Rpb24iLCJDbGllbnRFcnJvciIsIk9ic2VydmFibGVQYXRjaCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsIm1hcCIsInZlcmNlbFN0ZWdhQ29tYmluZSIsInZlcmNlbFN0ZWdhU3BsaXQiLCJhZGFwdGVyIiwidW5zdGFibGVfX2FkYXB0ZXIiLCJlbnZpcm9ubWVudCIsInVuc3RhYmxlX19lbnZpcm9ubWVudCIsImRlZmF1bHRTdGVnYUNvbmZpZyIsImVuYWJsZWQiLCJmaWx0ZXIiLCJwcm9wcyIsImZpbHRlckRlZmF1bHQiLCJzcGxpdENvbmZpZyIsImNvbmZpZyIsInN0ZWdhIiwiY2xpZW50Q29uZmlnIiwic3RlZ2FDb25maWciLCJpbml0U3RlZ2FDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwiT2JqZWN0IiwiYXNzaWduIiwibmV3Q29uZmlnIiwiRXJyb3IiLCJjb25jYXQiLCJzdHVkaW9VcmwiLCJzcGxpdFN0ZWdhQ29uZmlnRnJvbUZldGNoT3B0aW9ucyIsIm9wdGlvbnMiLCJpbml0aWFsaXplZFN0ZWdhQ29uZmlnIiwiZmV0Y2hPcHRpb25zIiwiRFJBRlRTX1BSRUZJWCIsImdldFB1Ymxpc2hlZElkIiwiaWQiLCJzdGFydHNXaXRoIiwic2xpY2UiLCJsZW5ndGgiLCJyZUtleVNlZ21lbnQiLCJpc0tleVNlZ21lbnQiLCJzZWdtZW50IiwidGVzdCIsInRyaW0iLCJ0b1N0cmluZyIsInBhdGgiLCJBcnJheSIsImlzQXJyYXkiLCJyZWR1Y2UiLCJ0YXJnZXQiLCJpIiwic2VnbWVudFR5cGUiLCJzZXBhcmF0b3IiLCJfa2V5IiwiZnJvbSIsInRvIiwiSlNPTiIsInN0cmluZ2lmeSIsIkVTQ0FQRSIsIlVORVNDQVBFIiwianNvblBhdGgiLCJlc2NhcGVkS2V5IiwicmVwbGFjZSIsIm1hdGNoIiwiX2luZGV4Iiwiam9pbiIsInBhcnNlSnNvblBhdGgiLCJwYXJzZWQiLCJwYXJzZVJlIiwiZXhlYyIsImtleSIsIm0iLCJwdXNoIiwicGFyc2VJbnQiLCJqc29uUGF0aFRvU3R1ZGlvUGF0aCIsImpzb25QYXRoVG9NYXBwaW5nUGF0aCIsImNyZWF0ZUVkaXRVcmwiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsInR5cGUiLCJlbmRzV2l0aCIsInN0cmluZ2lmaWVkUGF0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInNlZ21lbnRzIiwicm91dGVyUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzb2x2ZU1hcHBpbmciLCJyZXN1bHRQYXRoIiwiY3NtIiwibWFwcGluZ3MiLCJyZXN1bHRNYXBwaW5nUGF0aCIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInBhdGhTdWZmaXgiLCJlbnRyaWVzIiwiX3JlZiIsInNvcnQiLCJfcmVmMiIsIl9yZWYzIiwia2V5MSIsImtleTIiLCJzdWJzdHJpbmciLCJyZXNvbHZlU3R1ZGlvQmFzZVJvdXRlIiwidmFsdWUiLCJpc1JlY29yZCIsIndhbGtNYXAiLCJtYXBwaW5nRm4iLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ2IiwiaWR4IiwiZnJvbUVudHJpZXMiLCJfcmVmNCIsImsiLCJlbmNvZGVJbnRvUmVzdWx0IiwicmVzdWx0IiwiZW5jb2RlciIsInJlc29sdmVNYXBwaW5nUmVzdWx0Iiwic291cmNlIiwic291cmNlRG9jdW1lbnQiLCJkb2N1bWVudHMiLCJkb2N1bWVudCIsInNvdXJjZVBhdGgiLCJwYXRocyIsIm1hdGNoUGF0aFNlZ21lbnRzIiwic291cmNlUGF0aFNlZ21lbnRzIiwiZnVsbFNvdXJjZVNlZ21lbnRzIiwiX3JlZjUiLCJpc1ZhbGlkRGF0ZSIsImlzVmFsaWRVUkwiLCJlbmRQYXRoIiwiYXQiLCJzb21lIiwiZGVueWxpc3QiLCJoYXMiLCJTZXQiLCJkYXRlU3RyaW5nIiwiTnVtYmVyIiwiaXNOYU4iLCJCb29sZWFuIiwiRGF0ZSIsInBhcnNlIiwidXJsIiwiVVJMIiwiVFJVTkNBVEVfTEVOR1RIIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJyZXN1bHRTb3VyY2VNYXAiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2kiLCJsb2dnZXIiLCJtc2ciLCJlcnJvciIsImNhbGwiLCJUeXBlRXJyb3IiLCJyZXBvcnQiLCJlbmNvZGVkIiwic2tpcHBlZCIsInJlc3VsdFdpdGhTdGVnYSIsIl9yZWY2IiwicHJldHR5UGF0aEZvckxvZ2dpbmciLCJfdHlwZSIsIm9yaWdpbiIsImhyZWYiLCJpc1NraXBwaW5nIiwiaXNFbmNvZGluZyIsImdyb3VwQ29sbGFwc2VkIiwibG9nIiwidGFibGUiLCJhZGQiLCJ2YWx1ZXMiLCJncm91cEVuZCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiLCJjbGVhbmVkIiwiX19hY2Nlc3NDaGVjayIsIm9iaiIsIm1lbWJlciIsIl9fcHJpdmF0ZUdldCIsImdldHRlciIsImdldCIsIl9fcHJpdmF0ZUFkZCIsIldlYWtTZXQiLCJfX3ByaXZhdGVTZXQiLCJzZXR0ZXIiLCJfaHR0cFJlcXVlc3QiLCJfaHR0cFJlcXVlc3QyIiwiX09ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCIsImNvbnN0cnVjdG9yIiwiaHR0cFJlcXVlc3QiLCJjbG9uZSIsIndpdGhDb25maWciLCJ0aGlzQ29uZmlnIiwiZmV0Y2giLCJxdWVyeSIsIl9wYXJhbXMiLCJfb3B0aW9ucyIsInBhcmFtcyIsImZpbHRlclJlc3BvbnNlIiwib3JpZ2luYWxGaWx0ZXJSZXNwb25zZSIsInBpcGUiLCJyZXMiLCJfcmVzdWx0IiwiV2Vha01hcCIsIk9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCIsIl9TYW5pdHlTdGVnYUNsaWVudCIsIm9ic2VydmFibGUiLCJ0aGVuIiwiU2FuaXR5U3RlZ2FDbGllbnQiLCJleHAiLCJyZXF1ZXN0ZXIiLCJjcmVhdGVDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/stega.browser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/preview-kit/dist/client/createClient.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@sanity/preview-kit/dist/client/createClient.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sanity/client */ \"(rsc)/./node_modules/@sanity/client/dist/index.browser.js\");\n/* harmony import */ var _sanity_client_stega__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client/stega */ \"(rsc)/./node_modules/@sanity/client/dist/stega.browser.js\");\n\n\nconst r = (r)=>{\n    var a, c;\n    const { encodeSourceMap: i = n(), encodeSourceMapAtPath: l, studioUrl: u = o(), logger: s, ...p } = r;\n    let d = !0 === i;\n    if (\"auto\" === i && (d = function() {\n        try {\n            return \"preview\" === /* unsupported import.meta.env.VERCEL_ENV */ undefined.VERCEL_ENV;\n        } catch  {}\n        try {\n            return \"preview\" === process.env.VERCEL_ENV;\n        } catch  {}\n        return !1;\n    }()), \"string\" == typeof i && \"auto\" !== i) throw new Error(\"Invalid value for encodeSourceMap: \".concat(i, \". Did you mean 'auto'?\"));\n    try {\n        if (d && !1 !== r.resultSourceMap) return u ? (null == (c = null == s ? void 0 : s.debug) || c.call(s, \"[@sanity/preview-kit]: Creating source map enabled client\"), (0,_sanity_client_stega__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n            ...p,\n            resultSourceMap: r.resultSourceMap ? r.resultSourceMap : \"withKeyArraySelector\",\n            stega: {\n                enabled: !0,\n                studioUrl: u,\n                logger: s,\n                filter: l ? (e)=>l({\n                        path: e.sourcePath,\n                        filterDefault: ()=>e.filterDefault(e)\n                    }) : void 0\n            }\n        })) : (null == (a = null == s ? void 0 : s.error) || a.call(s, \"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_1__.createClient)(p));\n    } catch (e) {\n        console.error(\"[@sanity/preview-kit]: Error creating client\", e, \"falling back to non-embedded sourcemap mode\");\n    }\n    return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_1__.createClient)(p);\n};\nfunction n() {\n    try {\n        return \"true\" === /* unsupported import.meta.env.SANITY_SOURCE_MAP */ undefined.SANITY_SOURCE_MAP;\n    } catch  {}\n    try {\n        return \"true\" === process.env.SANITY_SOURCE_MAP;\n    } catch  {}\n    return !1;\n}\nfunction o() {\n    try {\n        return /* unsupported import.meta.env.SANITY_STUDIO_URL */ undefined.SANITY_STUDIO_URL;\n    } catch  {}\n    try {\n        return process.env.SANITY_STUDIO_URL;\n    } catch  {}\n}\n //# sourceMappingURL=createClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQW9EO0FBQUEsTUFBTUcsSUFBRUEsQ0FBQUE7SUFBSSxJQUFJQyxHQUFFQztJQUFFLE1BQUssRUFBQ0MsaUJBQWdCQyxJQUFFQyxHQUFHLEVBQUNDLHVCQUFzQkMsQ0FBQyxFQUFDQyxXQUFVQyxJQUFFQyxHQUFHLEVBQUNDLFFBQU9DLENBQUMsRUFBQyxHQUFHQyxHQUFFLEdBQUNiO0lBQUUsSUFBSWMsSUFBRSxDQUFDLE1BQUlWO0lBQUUsSUFBRyxXQUFTQSxLQUFJVSxDQUFBQSxJQUFFO1FBQVcsSUFBRztZQUFDLE9BQU0sY0FBWSxpRUFBMEI7UUFBQSxFQUFDLE9BQUssQ0FBQztRQUFDLElBQUc7WUFBQyxPQUFNLGNBQVlHLFFBQVFGLEdBQUcsQ0FBQ0MsVUFBVTtRQUFBLEVBQUMsT0FBSyxDQUFDO1FBQUMsT0FBTSxDQUFDO0lBQUMsR0FBRSxHQUFHLFlBQVUsT0FBT1osS0FBRyxXQUFTQSxHQUFFLE1BQU0sSUFBSWMsTUFBTSxzQ0FBc0NDLE1BQU0sQ0FBQ2YsR0FBRTtJQUEyQixJQUFHO1FBQUMsSUFBR1UsS0FBRyxDQUFDLE1BQUlkLEVBQUVvQixlQUFlLEVBQUMsT0FBT1gsSUFBRyxTQUFPUCxDQUFBQSxJQUFFLFFBQU1VLElBQUUsS0FBSyxJQUFFQSxFQUFFUyxLQUFLLEtBQUduQixFQUFFb0IsSUFBSSxDQUFDVixHQUFFLDhEQUE2RGIsa0VBQUNBLENBQUM7WUFBQyxHQUFHYyxDQUFDO1lBQUNPLGlCQUFnQnBCLEVBQUVvQixlQUFlLEdBQUNwQixFQUFFb0IsZUFBZSxHQUFDO1lBQXVCRyxPQUFNO2dCQUFDQyxTQUFRLENBQUM7Z0JBQUVoQixXQUFVQztnQkFBRUUsUUFBT0M7Z0JBQUVhLFFBQU9sQixJQUFFVCxDQUFBQSxJQUFHUyxFQUFFO3dCQUFDbUIsTUFBSzVCLEVBQUU2QixVQUFVO3dCQUFDQyxlQUFjLElBQUk5QixFQUFFOEIsYUFBYSxDQUFDOUI7b0JBQUUsS0FBRyxLQUFLO1lBQUM7UUFBQyxFQUFDLElBQUksU0FBT0csQ0FBQUEsSUFBRSxRQUFNVyxJQUFFLEtBQUssSUFBRUEsRUFBRWlCLEtBQUssS0FBRzVCLEVBQUVxQixJQUFJLENBQUNWLEdBQUUsc0lBQXFJZCw0REFBQ0EsQ0FBQ2UsRUFBQztJQUFFLEVBQUMsT0FBTWYsR0FBRTtRQUFDZ0MsUUFBUUQsS0FBSyxDQUFDLGdEQUErQy9CLEdBQUU7SUFBOEM7SUFBQyxPQUFPQSw0REFBQ0EsQ0FBQ2U7QUFBRTtBQUFFLFNBQVNSO0lBQUksSUFBRztRQUFDLE9BQU0sV0FBUywrRUFBaUM7SUFBQSxFQUFDLE9BQUssQ0FBQztJQUFDLElBQUc7UUFBQyxPQUFNLFdBQVNZLFFBQVFGLEdBQUcsQ0FBQ2dCLGlCQUFpQjtJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsT0FBTSxDQUFDO0FBQUM7QUFBQyxTQUFTckI7SUFBSSxJQUFHO1FBQUMsT0FBTywrRUFBaUM7SUFBQSxFQUFDLE9BQUssQ0FBQztJQUFDLElBQUc7UUFBQyxPQUFPTyxRQUFRRixHQUFHLENBQUNpQixpQkFBaUI7SUFBQSxFQUFDLE9BQUssQ0FBQztBQUFDO0FBQTJCLENBQ3g1Qyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY29tbWVyY2UteXQtYnktbWlrZS8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3ByZXZpZXcta2l0L2Rpc3QvY2xpZW50L2NyZWF0ZUNsaWVudC5qcz8zYmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtjcmVhdGVDbGllbnQgYXMgZX1mcm9tXCJAc2FuaXR5L2NsaWVudFwiO2ltcG9ydHtjcmVhdGVDbGllbnQgYXMgdH1mcm9tXCJAc2FuaXR5L2NsaWVudC9zdGVnYVwiO2NvbnN0IHI9cj0+e3ZhciBhLGM7Y29uc3R7ZW5jb2RlU291cmNlTWFwOmk9bigpLGVuY29kZVNvdXJjZU1hcEF0UGF0aDpsLHN0dWRpb1VybDp1PW8oKSxsb2dnZXI6cywuLi5wfT1yO2xldCBkPSEwPT09aTtpZihcImF1dG9cIj09PWkmJihkPWZ1bmN0aW9uKCl7dHJ5e3JldHVyblwicHJldmlld1wiPT09aW1wb3J0Lm1ldGEuZW52LlZFUkNFTF9FTlZ9Y2F0Y2h7fXRyeXtyZXR1cm5cInByZXZpZXdcIj09PXByb2Nlc3MuZW52LlZFUkNFTF9FTlZ9Y2F0Y2h7fXJldHVybiExfSgpKSxcInN0cmluZ1wiPT10eXBlb2YgaSYmXCJhdXRvXCIhPT1pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVuY29kZVNvdXJjZU1hcDogXCIuY29uY2F0KGksXCIuIERpZCB5b3UgbWVhbiAnYXV0byc/XCIpKTt0cnl7aWYoZCYmITEhPT1yLnJlc3VsdFNvdXJjZU1hcClyZXR1cm4gdT8obnVsbD09KGM9bnVsbD09cz92b2lkIDA6cy5kZWJ1Zyl8fGMuY2FsbChzLFwiW0BzYW5pdHkvcHJldmlldy1raXRdOiBDcmVhdGluZyBzb3VyY2UgbWFwIGVuYWJsZWQgY2xpZW50XCIpLHQoey4uLnAscmVzdWx0U291cmNlTWFwOnIucmVzdWx0U291cmNlTWFwP3IucmVzdWx0U291cmNlTWFwOlwid2l0aEtleUFycmF5U2VsZWN0b3JcIixzdGVnYTp7ZW5hYmxlZDohMCxzdHVkaW9Vcmw6dSxsb2dnZXI6cyxmaWx0ZXI6bD9lPT5sKHtwYXRoOmUuc291cmNlUGF0aCxmaWx0ZXJEZWZhdWx0OigpPT5lLmZpbHRlckRlZmF1bHQoZSl9KTp2b2lkIDB9fSkpOihudWxsPT0oYT1udWxsPT1zP3ZvaWQgMDpzLmVycm9yKXx8YS5jYWxsKHMsXCJbQHNhbml0eS9wcmV2aWV3LWtpdF06IENvbnRlbnQgc291cmNlIG1hcCBlbmFibGVkIGNsaWVudCBpcyBlbmFibGVkLCBidXQgbm8gc3R1ZGlvVXJsIGlzIHByb3ZpZGVkLiBGYWxsaW5nIGJhY2sgdG8gQHNhbml0eS9jbGllbnRcIiksZShwKSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogRXJyb3IgY3JlYXRpbmcgY2xpZW50XCIsZSxcImZhbGxpbmcgYmFjayB0byBub24tZW1iZWRkZWQgc291cmNlbWFwIG1vZGVcIil9cmV0dXJuIGUocCl9O2Z1bmN0aW9uIG4oKXt0cnl7cmV0dXJuXCJ0cnVlXCI9PT1pbXBvcnQubWV0YS5lbnYuU0FOSVRZX1NPVVJDRV9NQVB9Y2F0Y2h7fXRyeXtyZXR1cm5cInRydWVcIj09PXByb2Nlc3MuZW52LlNBTklUWV9TT1VSQ0VfTUFQfWNhdGNoe31yZXR1cm4hMX1mdW5jdGlvbiBvKCl7dHJ5e3JldHVybiBpbXBvcnQubWV0YS5lbnYuU0FOSVRZX1NUVURJT19VUkx9Y2F0Y2h7fXRyeXtyZXR1cm4gcHJvY2Vzcy5lbnYuU0FOSVRZX1NUVURJT19VUkx9Y2F0Y2h7fX1leHBvcnR7ciBhcyBjcmVhdGVDbGllbnR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlQ2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImUiLCJ0IiwiciIsImEiLCJjIiwiZW5jb2RlU291cmNlTWFwIiwiaSIsIm4iLCJlbmNvZGVTb3VyY2VNYXBBdFBhdGgiLCJsIiwic3R1ZGlvVXJsIiwidSIsIm8iLCJsb2dnZXIiLCJzIiwicCIsImQiLCJlbnYiLCJWRVJDRUxfRU5WIiwicHJvY2VzcyIsIkVycm9yIiwiY29uY2F0IiwicmVzdWx0U291cmNlTWFwIiwiZGVidWciLCJjYWxsIiwic3RlZ2EiLCJlbmFibGVkIiwiZmlsdGVyIiwicGF0aCIsInNvdXJjZVBhdGgiLCJmaWx0ZXJEZWZhdWx0IiwiZXJyb3IiLCJjb25zb2xlIiwiU0FOSVRZX1NPVVJDRV9NQVAiLCJTQU5JVFlfU1RVRElPX1VSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/preview-kit/dist/client/createClient.js\n");

/***/ })

};
;